import{u as oe,b as ne,h as ae,Y as le,Z as ie,i as ce,q as O,f as re,$ as de}from"./index-lKIcPnY0.js";import{_ as ue}from"./close-DLkDHnDK.js";import{_ as S,y as z,x as U,E as B,K as $,G as i,N as u,H as e,Q as s,O as k,P as c,bl as pe,a0 as g,$ as E,Y as Z,Z as D,r as b,bc as K,D as q,F as _,a2 as H,I as P,w as me,R as j,X as ve,T as fe}from"./vendor-CjApaIpB.js";import{P as ge}from"./PopHeader-RH2zyPSz.js";import{_ as he}from"./TokenBalance-oKdVRHxX.js";import{l as be,u as _e}from"./level-BRe0l4Hu.js";const Y=t=>(Z("data-v-4b3dd004"),t=t(),D(),t),we=Y(()=>e("div",{class:"-mb-[28px] flex justify-center"},[e("div",{class:"relative"},[e("img",{src:le,class:"w-[105px] h-auto"}),e("img",{src:ie,class:"w-[26px] z-50 absolute right-[23px] bottom-[20px]"})])],-1)),xe={class:"w-[85vw] max-w-[375px] px-5 py-6 bg-popBg rounded-[10px] z-10 relative"},ye={class:"pb-5 flex-center-bw"},$e={class:"flex-start"},ke=Y(()=>e("img",{src:ue,class:"w-[10px] h-[10px]",alt:""},null,-1)),Ce=[ke],Ie={class:"mt-5 text-xs text-center"},Ve={class:"text-default opacity-60"},Be={class:"font-bold"},Le=z({props:{show:{type:Boolean}},emits:["close"],setup(t,{emit:r}){const{show:p}=t,{getCurrentAccount:C}=oe(),m=U(()=>window.location.origin+"/#/home?invite="+C());return(v,a)=>{const w=B("VanButton"),x=B("VanPopup");return i(),$(x,{show:t.show,"onUpdate:show":a[2]||(a[2]=f=>E(p)?p.value=f:null),style:{background:"transparent"},onClickOverlay:a[3]||(a[3]=()=>r("close"))},{default:u(()=>[we,e("div",xe,[e("div",ye,[e("div",$e,[e("span",null,s(v.$t("home.inviteRegister")),1)]),e("div",{onClick:a[0]||(a[0]=f=>r("close"))},Ce)]),e("div",null,[k(pe,{value:c(m),size:200,level:"H",class:"mx-auto"},null,8,["value"]),e("div",Ie,[e("div",Ve,[e("span",Be,s(v.$t("home.inviteLink")),1),e("span",null,s(c(ne)(c(m),"...",15,4)),1)]),k(w,{class:"btn-orange w-[150px] h-10 text-white mt-5",onClick:a[1]||(a[1]=f=>c(ae)(c(m)))},{default:u(()=>[g(s(v.$t("common.copy")),1)]),_:1})])])])]),_:1},8,["show"])}}}),gt=S(Le,[["__scopeId","data-v-4b3dd004"]]),Me="/Test-dev/static/images/level_header-B9ZxcF0Z.svg",Te="/Test-dev/static/images/level_tip-CloZu7KO.svg",G="/Test-dev/static/images/yes-Dk7kJjiI.svg",Q="/Test-dev/static/images/no-KmhKFik8.svg",R="/Test-dev/static/images/level_bottom-BIkYLWqS.svg",Fe={class:"gap-4 mt-3 font-semibold text-white flex-center"},Pe={class:"whitespace-nowrap"},Se={class:"flex items-center justify-center mt-2 text-xs opacity-50"},ze=z({props:{openFee:null,buyMember:null},emits:["close","getIsVip"],setup(t,{emit:r}){const p=t,C=ce(),m=b(0),[v,a]=K(!1),w=U(()=>m.value>p.openFee),x=async()=>{const n=await(await C).allowance(O.flashMall);m.value=n.result},f=async()=>{a(!0),(await(await C).approve(O.flashMall)).success&&await x(),a(!1)},L=async()=>{a(!0);const n=await p.buyMember();a(!1),n.success&&r("getIsVip")},y=async()=>{await x()};return q(()=>{y()}),(n,I)=>{const h=B("VanButton");return i(),_(P,null,[k(ge,{onClick:I[0]||(I[0]=d=>r("close"))},{default:u(()=>[g(s(n.$t("home.openVip")),1)]),_:1}),e("div",Fe,[c(w)?H("",!0):(i(),$(h,{key:0,class:"btn-orange btn-shadow h-[35px] min-w-[120px] px-4",loading:c(v),onClick:f},{default:u(()=>[g(s(n.$t("assets.auth")),1)]),_:1},8,["loading"])),k(h,{class:"btn-orange btn-shadow h-[35px] min-w-[120px] px-4",loading:c(v),disabled:!c(w),onClick:L},{default:u(()=>[e("span",Pe,s(n.$t("home.toOpenVip",{fee:t.openFee})),1)]),_:1},8,["loading","disabled"])]),e("div",Se,[g(" MCOIN"+s(n.$t("assets.balance"))+" ",1),k(he,{token:"MCOIN",tokenName:!1})])],64)}}}),Ae=S(ze,[["__scopeId","data-v-4112668c"]]),T=t=>(Z("data-v-23b0f2cc"),t=t(),D(),t),Ne={class:"relative"},Oe=T(()=>e("div",{class:"bg-popBg h-8 absolute bottom-[-2px] w-full"},null,-1)),je=T(()=>e("img",{class:"relative z-10 w-full",src:Me,alt:"",srcset:""},null,-1)),Re={class:"mx-1 font-bold"},Ue=T(()=>e("div",{class:"z-10 mr-1"},[e("img",{class:"w-4 h-4 align-middle",src:Te,alt:""})],-1)),Ee={class:"px-5 bg-popBg"},Ze={class:"pt-5 flex-center-bw"},De={class:"text-gray3"},Ke={class:"font-bold text-[#2E2008]"},qe={class:"mt-5 flex-center-bw"},He={class:"text-gray3"},Ye={class:"font-bold text-[#2E2008]"},Ge={class:"mt-5 flex-center-bw text-gray3"},Qe={class:"font-bold text-[#2E2008]"},Je={class:"mt-5 flex-center-bw"},We={class:"text-gray3"},Xe={class:"font-bold text-primary"},et={key:0,src:G,class:"w-[14px]",alt:""},tt={key:1,src:Q,class:"w-[14px]",alt:""},st={class:"mt-5 flex-center-bw"},ot={class:"text-gray3"},nt={class:"font-bold text-primary"},at={key:0,src:G,class:"w-[14px]",alt:""},lt={key:1,src:Q,class:"w-[14px]",alt:""},it={class:"relative z-10 grid grid-cols-2 col-start-2 gap-4 px-5 pb-6 mt-5"},ct=T(()=>e("div",{class:"absolute bottom-0 flex justify-center"},[e("img",{class:"w-32 mr-2.5",src:R,alt:"",srcset:""}),e("img",{class:"w-32 ml-2.5",src:R,alt:"",srcset:""})],-1)),rt=z({props:{show:{type:Boolean},userInfo:null},emits:["close","invite","handleTo"],setup(t,{emit:r}){const{show:p,userInfo:C}=t,{t:m}=me(),{members:v,memberPrice:a,buyMember:w,memberLevels:x}=re(),[f,L]=K(!1),y=b(!1),n=b(0),I=b(0),h=b([]),d=b({id:1,one:1e5,two:1e5}),M=b({address:"",agentAmount:.001,majorAmount:.002}),A=async()=>{y.value=await v()},J=async()=>{I.value=+await a()},W=async()=>{n.value=await x()},X=async()=>{const o=await be();o.success&&(h.value=o.data||[],ee())},ee=()=>{if(n.value<=0)return;const o=h.value.length,l=n.value||0;d.value=l===o+1?h.value[o-1]:h.value[l-1]},te=async()=>{const o=await _e();o.success&&(M.value=o.data)},N=async()=>{if(!M.value.address)return;L(!0);const o=await de(M.value.address,M.value.agentAmount.toString());L(!1),o.success&&(fe(m("home.upgradeTips")),setTimeout(()=>{r("close")},1500))};return q(async()=>{A(),J(),te(),await W(),X()}),(o,l)=>{const F=B("VanButton"),se=B("VanPopup");return i(),$(se,{show:t.show,"onUpdate:show":l[3]||(l[3]=V=>E(p)?p.value=V:null),round:"",onClose:l[4]||(l[4]=V=>r("close")),style:ve(y.value?"background-color: rgba(0, 0, 0, 0)":"")},{default:u(()=>[e("div",{class:j(["w-[85vw] max-w-[375px]",{"px-5 py-6":!y.value}])},[y.value?(i(),_(P,{key:0},[e("div",Ne,[Oe,je,e("div",{onClick:l[0]||(l[0]=V=>r("handleTo","/levelPointsDetail")),class:"absolute bottom-3 left-4 z-50 level-bg justify-center h-9 min-w-[8rem] text-base text-white flex items-center"},[e("span",null,s(o.$t("home.level")),1),e("span",Re,"V"+s(n.value||0),1),Ue])]),e("div",Ee,[e("div",null,[e("div",Ze,[e("div",De,s(o.$t("home.score")),1),e("div",Ke,s(t.userInfo.contribute||0),1)]),e("div",qe,[e("div",He,s(o.$t("home.deductScore")),1),e("div",Ye,s(t.userInfo.totalContribute||0),1)]),e("div",Ge,[g(s(o.$t("home.nextLevel"))+" ",1),e("span",Qe,"V"+s((n.value||0)+1),1)]),n.value>0?(i(),_(P,{key:0},[e("div",Je,[e("div",We,s(o.$t("home.keepScore",{num:d.value.one||0})),1),e("div",Xe,[(+t.userInfo.contribute||0)>=+d.value.one?(i(),_("img",et)):(i(),_("img",tt))])]),e("div",st,[e("div",ot,s(o.$t("home.deductScore",{num:d.value.two||0})),1),e("div",nt,[(+t.userInfo.totalContribute||0)>=+d.value.two?(i(),_("img",at)):(i(),_("img",lt))])])],64)):H("",!0)]),e("div",it,[k(F,{class:"font-bold text-white btn h-9 btn-orange",round:"",onClick:l[1]||(l[1]=V=>r("invite"))},{default:u(()=>[g(s(o.$t("home.inviteRegister")),1)]),_:1}),n.value>0?(i(),$(F,{key:0,class:j(["font-bold text-white h-9",+d.value.one>+t.userInfo.contribute||+d.value.two>+t.userInfo.totalContribute?"btn-disabled":"btn-orange"]),disabled:+d.value.one>+t.userInfo.contribute||+d.value.two>+t.userInfo.totalContribute,loading:c(f),onClick:N},{default:u(()=>[g(s(o.$t("home.upgrade")),1)]),_:1},8,["disabled","class","loading"])):(i(),$(F,{key:1,class:"font-bold text-white h-9 btn-orange",loading:c(f),onClick:N},{default:u(()=>[g(s(o.$t("home.upgrade")),1)]),_:1},8,["loading"]))]),ct])],64)):(i(),$(Ae,{key:1,openFee:I.value,buyMember:c(w),onClose:l[2]||(l[2]=V=>r("close")),onGetIsVip:A},null,8,["openFee","buyMember"]))],2)]),_:1},8,["show","style"])}}}),ht=S(rt,[["__scopeId","data-v-23b0f2cc"]]);export{gt as I,ht as L};
