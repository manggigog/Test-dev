import{y as V,E as x,K as k,G as c,N as I,H as n,Q as d,F as m,J as N,a4 as _,P as h,X as T,a2 as S,I as E,_ as D,r as b,z as w,bh as F,ba as M,O as U,bm as z}from"./vendor-CjApaIpB.js";import{_ as A}from"./close-DLkDHnDK.js";import{g as K,d as C,ax as $}from"./index-DBW_ANsl.js";const L={class:"flex items-center text-[#2E2008] pb-4"},O=n("div",{class:"w-4 h-4"},null,-1),j={class:"flex-1 text-base font-semibold text-center"},q=n("img",{src:A,class:"w-4 h-4",alt:""},null,-1),G=[q],H={style:{"max-height":"66vh","overflow-y":"auto"}},J=["onClick"],P={class:"flex justify-center items-center w-11 h-11 rounded-[50%] bg-[#FED73A]"},Q=["src"],R={class:"ml-2.5 text-[#2E2008]"},X={class:"text-lg font-medium max-w-[200px]"},W={key:0,class:"text-xs opacity-60"},Y={key:1,class:"ml-auto text-xs opacity-60"},se=V({props:{show:{type:Boolean,default:!1},id:{default:0},list:{default:[]},type:{default:0},field:{default:"quota"},currentTag:{default:0}},emits:["close","selectCard"],setup(t,{emit:f}){const r=t,l=o=>{f("selectCard",o.storedCardId)};return(o,s)=>{const a=x("van-radio"),p=x("van-popup");return c(),k(p,{show:r.show,"onUpdate:show":s[1]||(s[1]=e=>r.show=e),position:"bottom",class:"px-2.5 py-4",round:"","close-on-click-overlay":!1,onClickOverlay:s[2]||(s[2]=e=>f("close"))},{default:I(()=>[n("div",L,[O,n("span",j,d(t.type===1?o.$t("piggy.Select_transfer_method"):t.currentTag==0?o.$t("piggy.Select_transfer out_method"):o.$t("piggy.Select transfer currency")),1),n("div",{class:"",onClick:s[0]||(s[0]=e=>f("close"))},G)]),n("div",H,[(c(!0),m(E,null,N(t.list,(e,g)=>(c(),m("div",{class:"flex items-center",key:e.storedCardId,onClick:_(y=>l(e),["stop"])},[n("div",P,[n("img",{class:"w-6 h-6 rounded-full",src:e.symbolLogo||h(K)("images/piggyBank/default-token.png"),alt:"",srcset:""},null,8,Q)]),n("div",{class:"flex items-center flex-1 py-4",style:T(g==t.list.length-1?"border-bottom: 0":"border-bottom:1px solid rgba(0, 0,0, 0.1) ")},[n("div",R,[n("div",X,d(t.currentTag==1&&e.storedCardId?o.$t("piggy.stored value token"):"")+d(t.currentTag==0?e.shopName:e.symbol)+d(t.currentTag==0&&e.storedCardId?o.$t("piggy.stored value card"):""),1),t.currentTag!==1?(c(),m("div",W,d(o.$t("piggy.Remaining"))+" "+d(h(C)(e[t.field],2))+" "+d(e.symbol),1)):S("",!0)]),t.currentTag!==1?(c(),k(a,{key:0,class:"ml-auto","icon-size":18,"model-value":t.id,name:e.storedCardId,"checked-color":"#FEA021"},null,8,["model-value","name"])):(c(),m("div",Y,d(h(C)(e[t.field],2))+" "+d(e.symbol),1))],4)],8,J))),128))])]),_:1},8,["show"])}}}),Z={class:"keyboard-input"},ee=["onClick","placeholder"],te=V({props:{modelValue:null,placeholder:null,max:null,reg:{default:/^\d+(\.\d{0,4})?$/},inputShow:{type:Boolean,default:!0},customMax:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1}},emits:["update:modelValue","onConfirm","keybordShow","maxInput"],setup(t,{expose:f,emit:r}){const l=t,o=b(!1),s=b(l.modelValue??""),a=b(l.modelValue??""),p=u=>{if(l.max&&+`${a.value}${u}`>+l.max){if(l.customMax){r("maxInput");return}a.value=$(Number(l.max)),s.value=$(Number(l.max)),r("update:modelValue",a.value);return}(l.reg?l.reg.test(`${a.value}${u}`):!0)&&(a.value=`${a.value}${u}`,r("update:modelValue",a.value))},e=()=>{a.value=a.value.slice(0,-1),r("update:modelValue",a.value)},g=()=>{r("onConfirm")};w(()=>l.modelValue,u=>{a.value=u??"",s.value=u??""}),w(()=>o.value,()=>{r("keybordShow",o.value)}),F(()=>{});const y=()=>{l.disabled||(o.value=!0)};return f({toShow:y,show:o}),(u,i)=>{const B=x("van-number-keyboard");return c(),m("div",Z,[t.inputShow?M((c(),m("input",{key:0,"onUpdate:modelValue":i[0]||(i[0]=v=>a.value=v),readonly:"",clickable:"",onClick:_(y,["stop"]),placeholder:t.placeholder},null,8,ee)),[[z,a.value]]):S("",!0),U(B,{modelValue:s.value,"onUpdate:modelValue":i[1]||(i[1]=v=>s.value=v),class:"flash-keyboard",theme:"custom","extra-key":".","close-button-text":u.$t("common.confirm"),show:o.value,onBlur:i[2]||(i[2]=v=>o.value=!1),onInput:p,onDelete:e,onClose:g,"safe-area-inset-bottom":""},null,8,["modelValue","close-button-text","show"])])}}}),ne=D(te,[["__scopeId","data-v-59604f88"]]);export{ne as N,se as _};
