import{b as Mt,a as It,_ as Ke,U as Et,p as qe,c as Ye}from"./plaza-build-RtxtQ3ib.js";import{_ as me,x as et,r as l,G as T,H as b,I as d,Q as X,X as he,Y as fe,z as tt,F as at,a1 as kt,Z as q,O as y,V as te,N as nt,q as ot,a2 as pe,E as Ae,ad as lt,bj as re,U as O,bk as ce,a3 as Xe,a4 as Qe,n as G,bi as Te,bl as Bt,ab as Tt,y as Le,D as Lt,P as de,$ as At,B as H}from"./vendor-Dr_RpJ_Y.js";import{e as Y,b as st,a as Ze,i as St,u as $t,q as zt,l as Dt,n as Pt,g as W,w as Ht,j as Je,c as Ot}from"./index-7OiUoGXy.js";import{_ as Ft}from"./MAI-JFNXjgdS.js";import{e as Nt}from"./exchangeContract-DP98fDGp.js";import"./arrow-C-JiYSPQ.js";const Gt=o=>(he("data-v-53fea2b3"),o=o(),fe(),o),jt={class:"loading-mask fixed top-0 left-0 w-full h-full"},Vt={class:"w-full fixed top-[50%] left-[50%] translate-x-[-50%] translate-y-[-50%]"},Ut=Gt(()=>d("img",{src:Mt,class:"w-[180px] m-auto"},null,-1)),Wt={class:"w-[68%] mt-5 mx-auto text-[14px] text-center text-sm font-normal text-b1 -translate-y-12"},qt={emits:["complete"],setup(o,{emit:L}){const{t:_}=et(),v=[_("home.loading.t1"),_("home.loading.t2"),_("home.loading.t3"),_("home.loading.t4"),_("home.loading.t5")],m=l(v[Math.floor(Math.random()*v.length)]);return(F,M)=>(b(),T("div",jt,[d("div",Vt,[Ut,d("p",Wt,X(m.value),1)])]))}},Yt=me(qt,[["__scopeId","data-v-53fea2b3"]]),Xt=o=>(he("data-v-6dce2d40"),o=o(),fe(),o),Qt={class:"text-xs text-white font-semibold text-shadow"},Zt={class:"font-semibold text-sm text-[#B67829] display-text-shadow mt-[28px] flex justify-center items-center"},Jt={key:1},Kt=Xt(()=>d("img",{src:Ft,class:"w-[14px] h-[14px] ml-1"},null,-1)),ea=tt({props:{type:null,text:null,amount:null,scale:{default:1},loading:{type:Boolean},bgClass:{default:"xfbt"}},emits:["handleRelease"],setup(o,{emit:L}){return(_,v)=>{const m=at("van-loading");return b(),T("div",{class:nt(["bb w-[140px] max-w-[140px] aspect-square flex flex-col items-center justify-center",o.bgClass]),style:te({width:`${90*o.scale}px`,height:`${90*o.scale}px`}),onClick:v[0]||(v[0]=()=>L("handleRelease",o.type))},[d("div",Qt,[d("span",null,X(o.text),1)]),d("div",Zt,[o.loading?(b(),q(m,{key:0,size:"28",color:"#F59C5A"})):(b(),T("span",Jt," +"+X(o.amount<1?y(Y)(o.amount||0,4):y(Y)(o.amount||0,2)),1)),Kt]),kt(_.$slots,"default",{},void 0,!0)],6)}}}),ue=me(ea,[["__scopeId","data-v-6dce2d40"]]),Se=o=>(he("data-v-50744aad"),o=o(),fe(),o),ta={class:"cat-shadow pointer-events-none mx-auto absolute w-[70px] left-0 right-[6px] bottom-[4px]"},aa=Se(()=>d("img",{src:It,class:"w-full",alt:"çŒ«å½±å­"},null,-1)),na=[aa],oa={class:"text-xs text-[#612600] font-semibold leading-[18px] cursor-pointer"},la=["onClick"],sa=Se(()=>d("img",{src:Ke,alt:"æ°”æ³¡å¯¹è¯æ¡†ç®­å¤´",class:"w-3 h-3 inline-block"},null,-1)),ia=["onClick"],ra=Se(()=>d("img",{src:Ke,alt:"æ°”æ³¡å¯¹è¯æ¡†ç®­å¤´",class:"w-3 h-3 inline-block"},null,-1)),ca=tt({props:{hasAvailable:{type:Boolean,default:!1}},setup(o,{expose:L}){const _=ot(),v=l("normal"),m=l("none"),[F,M]=pe(!1),A=l(null),w=l(null),j=l(null),x=l(null),ae=l(null),g=l(null),R=l({normal:!1,happy:!1,lost:!1}),S={normal:{path:"lottie/wink.json",loop:!0,key:"normal"},happy:{path:"lottie/plaza/cat_happy.json",loop:!1,key:"happy"},lost:{path:"lottie/plaza/cat_lost.json",loop:!0,key:"lost"}},I=r=>{console.log("è®¾ç½®æ’­æ”¾çŠ¶æ€ï¼š",r),v.value=r},Q=r=>{m.value=r},Z=()=>{M(!1),G(()=>{M(!0)})},ve=()=>{w.value&&w.value.destroy();try{w.value=Te.loadAnimation({container:A.value,path:S.normal.path,loop:S.normal.loop,renderer:"canvas"}),w.value.addEventListener("DOMLoaded",r=>{console.log("å¾…æœºðŸ±åŠ è½½çŠ¶æ€DOMLoaded"),R.value.normal=!0})}catch{}},ge=()=>{if(R.value.normal)M(!1),I("normal"),w.value.play();else{const r=setInterval(()=>{R.value.normal&&(clearInterval(r),M(!1),I("normal"),w.value.play())},100)}},ne=()=>{w.value&&(w.value.stop(),I("normal"))},oe=()=>{x.value&&x.value.destroy();try{x.value=Te.loadAnimation({container:j.value,path:S.happy.path,loop:S.happy.loop,renderer:"svg"}),x.value.addEventListener("DOMLoaded",r=>{console.log("å¼€å¿ƒðŸ±åŠ è½½çŠ¶æ€DOMLoaded"),R.value.happy=!0})}catch{}},J=()=>{if(R.value.happy)I("happy"),x.value.goToAndPlay(0);else{const r=setInterval(()=>{R.value.happy&&(clearInterval(r),I("happy"),x.value.goToAndPlay(0))},100)}},be=()=>{x.value&&(x.value.stop(),I("normal"))},we=()=>{g.value&&g.value.destroy();try{g.value=Te.loadAnimation({container:ae.value,path:S.lost.path,loop:S.lost.loop,renderer:"svg"})}catch{}g.value.addEventListener("DOMLoaded",r=>{console.log("å¤±è½ðŸ±åŠ è½½çŠ¶æ€DOMLoaded"),R.value.lost=!0})},ye=()=>{if(R.value.lost)I("lost"),Q("mall"),g.value.goToAndPlay(0),Z(),setTimeout(()=>{console.log("3ç§’åŽåœåœ¨ç¬¬ä¸€å¸§"),g.value.goToAndStop(7,!0)},3e3);else{const r=setInterval(()=>{R.value.lost&&(clearInterval(r),I("lost"),Q("mall"),g.value.goToAndPlay(0),Z(),setTimeout(()=>{console.log("3ç§’åŽåœåœ¨ç¬¬ä¸€å¸§"),g.value.goToAndStop(7,!0)},3e3))},100)}},xe=()=>{g.value&&(g.value.stop(),I("normal"))},le=()=>{G(()=>{ve(),oe(),we(),console.log("ðŸ±åŠ è½½ç»“æŸ")})},Ce=()=>{w.value&&w.value.destroy(),x.value&&x.value.destroy(),g.value&&g.value.destroy()},K=()=>{var V;const r=`${(V=window.location)==null?void 0:V.origin}/ecology/#/maiPledge?refresh=1&origin=main`;window.location.assign(r)},$e=()=>{_.replace("/mall")};return Ae(()=>{console.log("å¼€å§‹åŠ è½½çŒ«"),le()}),lt(()=>{Ce()}),L({installAllLottie:le,uninstallAllLottie:Ce,playCatNormalLottie:ge,stopCatNormalLottie:ne,playCatHappyLottie:J,stopCatHappyLottie:be,playCatLostLottie:ye,stopCatLostLottie:xe,setTipsContent:Q,setTipsContentGrowPlaySignal:Z}),(r,V)=>(b(),T("div",{class:"cat-role__wrap",style:te({"pointer-events":m.value==="none"?"none":"auto"})},[re(d("div",{ref:(E,$)=>{$.catNormalRef=E,A.value=E},class:"cat-role cat-role-normal"},null,512),[[ce,v.value==="normal"]]),re(d("div",{ref:(E,$)=>{$.catHappyRef=E,j.value=E},class:"cat-role cat-role-happy"},null,512),[[ce,v.value==="happy"]]),re(d("div",{ref:(E,$)=>{$.catLostRef=E,ae.value=E},class:"cat-role cat-role-lost"},null,512),[[ce,v.value==="lost"]]),re(d("div",ta,na,512),[[ce,v.value==="normal"]]),m.value!=="none"?(b(),T("div",{key:0,class:nt(["cat-bubble-dialog px-[10px] pt-[5px]",{"cat-bubble-dialog-grow":y(F)}])},[d("p",oa,[m.value==="tokenRight"?(b(),T("span",{key:0,onClick:Xe(K,["stop"])},[Qe(X(r.$t("homev2.catTalks.gotokenright"))+" ",1),sa],8,la)):O("",!0),m.value==="mall"?(b(),T("span",{key:1,onClick:Xe($e,["stop"])},[Qe(X(r.$t("homev2.catTalks.gomall"))+" ",1),ra],8,ia)):O("",!0)])],2)):O("",!0)],4))}}),ua=me(ca,[["__scopeId","data-v-50744aad"]]),da=o=>(he("data-v-174f00a6"),o=o(),fe(),o),pa={class:"plaza-map-bg relative font-Puhui"},ma={class:"fixed top-0 left-0 w-full px-3 pt-3 z-10"},ha=da(()=>d("canvas",{id:"plaza-map-canvas","data-author-name":"aura","data-update-date":"20260106","data-feat-name":"plaza-map-background",title:"åœºæ™¯èƒŒæ™¯ç”»å¸ƒ"},null,-1)),fa={class:"text-base font-bold text-[#ff8812]"},va={emits:["loadDone"],setup(o,{emit:L}){var Ue;const{Game:_,GameObject:v,resource:m,RESOURCE_TYPE:F,LOAD_EVENT:M}=EVA,{RendererSystem:A}=EVA.plugin.renderer,{Img:w,ImgSystem:j}=EVA.plugin.renderer.img,{Render:x,RenderSystem:ae}=EVA.plugin.renderer.render,g=ot(),{checkLoginAuth:R,checkRegisterAuth:S}=st(),{accountStore:I}=Ze(),{pointRate:Q}=Ot(),{withdrawMaiPending:Z,userWithdrawMaiOfMint:ve,userWithdrawMaiOfSwap:ge,merchantWithdrawMaiOfSwap:ne}=St(),{getCurrentAccount:oe}=$t(),{contributesStore:J}=Ze(),{balances:be,getOneBalance:we}=zt(),ye=Dt(),xe=Pt(),{lastPrice:le}=Nt(),{t:Ce}=et(),{loadingToggle:K}=Ht(),[$e,r]=pe(!1),V=l(["MCOIN","MUSD","MAI"]),E=l(null),$=()=>{E.value.refreshTokenBalances()},s=Bt({pointInfo:{freeRelease:0,gradeRelease:0,levelRelease:0,recommendRelease:0,releaseSecond:0,userMai:0,merchantMai:0,userSwap:0,merchantExtraMai:0,releaseSecondFlag:!1},mcoinBalance:be[(Ue=W)==null?void 0:Ue.MCOIN]||null,usdtBalance:null,allowance:0}),it=(e,t)=>{let u;return function(...n){const p=()=>{clearTimeout(u),e(...n)};clearTimeout(u),u=setTimeout(p,t)}},c=l({usdtBalance:null,allowance:null,pointRate:null,lastPrice:null,cacheTime:0,cacheDuration:3e4}),ze=()=>Date.now()-c.value.cacheTime<c.value.cacheDuration,rt=async()=>{if(c.value.usdtBalance!==null&&ze()){s.usdtBalance=c.value.usdtBalance;return}try{const e=await(await xe).balanceOf(oe());s.usdtBalance=e,c.value.usdtBalance=e,c.value.cacheTime=Date.now()}catch{s.usdtBalance=0,c.value.usdtBalance=0}},ct=async()=>{if(c.value.allowance!==null&&ze()){s.allowance=c.value.allowance;return}try{const e=await(await ye).allowance(W.flashMall);s.allowance=e.result,c.value.allowance=e.result,c.value.cacheTime=Date.now()}catch{s.allowance=0,c.value.allowance=0}},ut=async()=>{try{const[e,t,u,a,n]=await Promise.all([Z(oe()),Je(W.WMAI).balanceOf(W.LP),Je(W.MCOIN).balanceOf(W.LP),le(),Q()]);c.value.lastPrice=a,c.value.pointRate=n||1,c.value.cacheTime=Date.now();const p=H(u).div(t).toString(),C=n||1,h=H(e.result.userMai),f=H(e.result.merchantMai),i=H(e.result.userSwap),Ee=H(e.result.merchantExtraMai),ee=H(p),ke=H(a),Be=H(C);s.pointInfo.userMai=+h.div(Be).div(ke).div(10).times(.9),s.pointInfo.merchantMai=+f.div(ee).div(2).times(.9),s.pointInfo.userSwap=+i.div(ee).times(.9),s.pointInfo.merchantExtraMai=+Ee.div(ee).div(2).times(.9)}catch(e){console.error("get mai error:",e),s.pointInfo.userMai=0,s.pointInfo.merchantMai=0,s.pointInfo.userSwap=0,s.pointInfo.merchantExtraMai=0}},De=l(!0),_e=async(e=!0)=>{r(!0);try{await Promise.all([J.fetchContributes(e),J.fetchUserRelase(),J.getNaturalReleaseTimes(),rt(),ct(),ut(),V.value.forEach(t=>we(t))]),$(),await G(),De.value&&(De.value=!1,dt())}catch(t){console.error("init error:",t)}finally{r(!1)}},z=l(null),dt=()=>{z.value&&(Ct.value=Me.value,Me.value?z.value.playCatNormalLottie():z.value.playCatLostLottie())},se=async e=>{R(!0)&&((e==50||e==70)&&!await S(!0)||mt(e))},[pt,Pe]=pe(!1),mt=async e=>{if(!pt.value){K(!0,2);try{const u={40:()=>ve(),60:()=>ge(),50:()=>ne(),70:()=>ne()}[e];if(!u)throw new Error(`æœªçŸ¥çš„æ“ä½œç±»åž‹: ${e}`);Pe(!0),(await u()).success&&(c.value.cacheTime=0,e==50||e==70?(Ie(50),Ie(70)):Ie(e),await _e(!0),setTimeout(()=>{ht()},800))}catch(t){console.error("é¢†å–å¤±è´¥:",t)}finally{Pe(!1),K(!1)}}},ht=async()=>{z.value&&(await G(),Me.value||(z.value.playCatHappyLottie(),setTimeout(()=>{z.value.setTipsContent("tokenRight"),z.value.setTipsContentGrowPlaySignal()},1e3)))},k=l(null),U=l(null),ie=l({width:0,height:0}),Re=l(!1),He=l(0),Oe=l(null),Fe=l(null),Ne=l(null),Ge=l(null),D=l({resizeHandler:null}),B={width:375,height:667,minWidth:375,maxWidth:640,aspectRatio:375/667,backgroundColor:12508233},N=l({loaded:!1,resources:new Map,preloadPromises:[]}),ft=async()=>{try{await vt();const e=new EVA.Game({systems:[new A({canvas:U.value,width:B.width,height:B.height,backgroundColor:B.backgroundColor,resolution:window.devicePixelRatio||1,enableScroll:!1,enableDirtyRectangle:!0}),new j,new ae],autoStart:!0,frameRate:60});gt(e),wt(e),k.value=e,Re.value=!0,m.preload()}catch(e){console.error("plaza load error:",e)}},vt=async()=>{if(N.value.loaded)return;const e=[je(qe,"plazaBg"),je(Ye,"plazaBuild")];try{await Promise.all(e),N.value.loaded=!0}catch(t){console.error("resource load error:",t)}},je=(e,t)=>new Promise((u,a)=>{if(N.value.resources.has(t)){u();return}const n=new Image;n.onload=()=>{N.value.resources.set(t,n),u()},n.onerror=a,n.src=e}),gt=e=>{const t=e.scene;t.addComponent(new x({sortableChildren:!0}));const u=[{name:"plazaBg",type:F.IMAGE,src:{image:{type:"webp",url:qe}},preload:!0},{name:"plazaBuild",type:F.IMAGE,src:{image:{type:"png",url:Ye}},preload:!0}];m.addResource(u);const a=()=>{L("loadDone"),console.log("èµ„æºåŠ è½½å®Œæˆ"),_e(!1)};m.on(M.PROGRESS,i=>{}),m.on(M.COMPLETE,a),e._cleanupResource=()=>{m.off(M.COMPLETE,a)};const n=new EVA.GameObject("background",{size:{width:B.width,height:B.height}}),p=new EVA.GameObject("buildings",{size:{width:B.width,height:B.height}});p.addComponent(new x({zIndex:1,sortableChildren:!0}));const C=n.addComponent(new EVA.plugin.renderer.img.Img({resource:"plazaBg",type:"sprite"})),h=p.addComponent(new EVA.plugin.renderer.img.Img({resource:"plazaBuild",type:"sprite"})),f={width:B.width,height:B.height};C.width=f.width,C.height=f.height,h.width=f.width,h.height=f.height,t.addChild(n),t.addChild(p)},bt=()=>{N.value.resources.clear(),N.value.loaded=!1,N.value.preloadPromises=[],c.value.usdtBalance=null,c.value.allowance=null,c.value.pointRate=null,c.value.lastPrice=null,c.value.cacheTime=0};Tt(()=>{document.body.style.overflow="",document.documentElement.style.overflow="",bt(),D.value.resizeHandler&&(window.removeEventListener("resize",D.value.resizeHandler),D.value.resizeHandler=null),k.value&&(k.value._cleanupResize&&k.value._cleanupResize(),k.value._cleanupResource&&k.value._cleanupResource(),k.value._cleanupTapEvent&&k.value._cleanupTapEvent(),k.value.destroy(),k.value=null,Re.value=!1)}),lt(()=>{K(!1)});const wt=e=>{let t={width:0,height:0};const u=()=>{const p=U.value.parentElement,C=p.clientWidth,h=p.clientHeight;if(t.width===C&&t.height===h)return;t={width:C,height:h};let f=Math.min(C,500),i=f/B.aspectRatio;U.value.style.width=`${f}px`,U.value.style.height=`${i}px`,ie.value={width:f,height:i},e.renderer&&e.renderer.resize(f,i),a()},a=()=>{const p=window.innerHeight,C=ie.value.height,h=p-C,f=82;He.value=Math.max(0,h+f)},n=it(()=>{Re.value&&u()},100);D.value.resizeHandler=n,window.addEventListener("resize",D.value.resizeHandler),G(()=>{u()}),e._cleanupResize=()=>{D.value.resizeHandler&&(window.removeEventListener("resize",D.value.resizeHandler),D.value.resizeHandler=null)}},yt=()=>{g.replace("/home")},xt=e=>{g.push(e)},P=Le(()=>({userSwap:+Y(s.pointInfo.userSwap)&&s.pointInfo.userSwap>1e-4,userMai:+Y(s.pointInfo.userMai)&&s.pointInfo.userMai>1e-4,merchantExtraMai:+Y(s.pointInfo.merchantExtraMai)&&s.pointInfo.merchantExtraMai>1e-4,merchantMai:+Y(s.pointInfo.merchantMai)&&s.pointInfo.merchantMai>1e-4})),Me=Le(()=>P.value.userSwap||P.value.userMai||P.value.merchantExtraMai||P.value.merchantMai),Ct=l(!1),Ve=Le(()=>He.value/2),Ie=async(e=null)=>{var u;const t=e||null;if(t)try{const n={40:Oe,50:Fe,60:Ne,70:Ge}[t];let p=null;if(n!=null&&n.value)if(n.value.$el)p=n.value.$el;else if(n.value instanceof HTMLElement)p=n.value;else{await G();const We=(u=n.value.$el)==null?void 0:u.parentElement;We&&(p=We.querySelector(".bubble-animation"))}if(!p){console.warn(`Bubble element for key ${t} not found`);return}const C=document.getElementById("MAI_ele_mark");if(!C){console.warn("MAI_ele_mark element not found");return}const h=p.getBoundingClientRect(),f=C.getBoundingClientRect(),i=p.cloneNode(!0);i.style.position="fixed",i.style.left=`${h.left}px`,i.style.top=`${h.top}px`,i.style.width=`${h.width}px`,i.style.height=`${h.height}px`,i.style.zIndex="9999",i.style.margin="0",i.style.padding="0",i.style.transform="translate(0, 0) scale(1)",i.style.transition="none",i.style.animation="none",i.style.pointerEvents="none",i.style.transformOrigin="center center",document.body.appendChild(i),p.style.visibility="hidden";const Ee=h.left+h.width/2,ee=h.top+h.height/2,ke=f.left+f.width/2,Be=f.top+f.height/2,_t=ke-Ee,Rt=Be-ee;i.offsetHeight,requestAnimationFrame(()=>{i.style.transition="transform 1s cubic-bezier(0.4, 0, 0.2, 1), opacity 1s linear",i.style.transform=`translate(${_t}px, ${Rt}px) scale(0.1)`}),setTimeout(()=>{document.body.contains(i)&&document.body.removeChild(i)},1e3)}catch(a){console.error("æ°”æ³¡æ— æ³•ç§»åŠ¨:",a)}};return Lt(()=>I.account,(e,t)=>{e&&(_e(!0),$())},{immediate:!1,deep:!0}),Ae(async()=>{R(!0)&&(await G(),document.body.style.overflow="hidden",document.documentElement.style.overflow="hidden",U.value=document.getElementById("plaza-map-canvas"),U.value&&await ft())}),(e,t)=>{const u=at("van-button");return b(),T("div",pa,[d("div",ma,[de(Et,{tokens:V.value,onHandleTo:xt,class:"w-full py-2 px-2 h-[36px]",ref:(a,n)=>{n.userAssetRef=a,E.value=a},countTo:!0},null,8,["tokens"])]),ha,de(ua,{ref:(a,n)=>{n.catRoleRef=a,z.value=a},title:"é—ªç”µçŒ«"},null,512),d("div",{class:"plaza-bubble__wrap",style:te({width:ie.value.width+"px",height:ie.value.height+"px"})},[y(P).userSwap?(b(),q(ue,{key:0,ref:(a,n)=>{n.bubbleRef60=a,Ne.value=a},class:"absolute left-[12%] top-[38%] bubble-animation",type:1,text:e.$t("homev2.bubble xfbt"),scale:1,amount:y(s).pointInfo.userSwap,bgClass:"xfbt",onHandleRelease:t[0]||(t[0]=a=>se(60))},null,8,["text","amount"])):O("",!0),y(P).userMai?(b(),q(ue,{key:1,ref:(a,n)=>{n.bubbleRef40=a,Oe.value=a},class:"absolute right-[20%] top-[28%] bubble-animation",type:1,text:e.$t("homev2.bubble xfjc"),scale:1,amount:y(s).pointInfo.userMai,bgClass:"xfjc",onHandleRelease:t[1]||(t[1]=a=>se(40))},null,8,["text","amount"])):O("",!0),y(P).merchantExtraMai?(b(),q(ue,{key:2,ref:(a,n)=>{n.bubbleRef70=a,Ge.value=a},class:"absolute left-[24%] top-[66%] bubble-animation",type:1,text:e.$t("homev2.bubble skbt"),scale:1,amount:y(s).pointInfo.merchantExtraMai,bgClass:"skbt",onHandleRelease:t[2]||(t[2]=a=>se(70))},null,8,["text","amount"])):O("",!0),y(P).merchantMai?(b(),q(ue,{key:3,ref:(a,n)=>{n.bubbleRef50=a,Fe.value=a},class:"absolute right-[14%] top-[53%] bubble-animation",type:1,text:e.$t("homev2.bubble skjc"),scale:1,amount:y(s).pointInfo.merchantMai,bgClass:"skjc",onHandleRelease:t[3]||(t[3]=a=>se(50))},null,8,["text","amount"])):O("",!0)],4),d("div",{class:"top-mark-ui flex flex-col justify-end pb-4 px-3",style:te({height:y(Ve)+"px"})},null,4),d("div",{class:"button-mark-ui flex flex-col justify-end pb-4 px-3",style:te({height:y(Ve)+"px"})},[de(u,{class:"back-btn",onClick:yt},{default:At(()=>[d("span",fa,X(e.$t("common.return home")),1)]),_:1})],4)])}}},ga=me(va,[["__scopeId","data-v-174f00a6"]]),ba={class:"relative w-full overflow-hidden overflow-y-scroll font-Puhui"},Ma={setup(o){const{checkLoginAuth:L}=st(),[_,v]=pe(!0),m=l(0),F=()=>{const A=Date.now()-m.value,w=1e3;if(A>=w)v(!1);else{const j=w-A;setTimeout(()=>{v(!1)},j)}};return Ae(()=>{L(!0)&&(v(!0),m.value=Date.now())}),(M,A)=>(b(),T("div",ba,[y(_)?(b(),q(Yt,{key:0,class:"z-50"})):O("",!0),de(ga,{onLoadDone:F})]))}};export{Ma as default};
