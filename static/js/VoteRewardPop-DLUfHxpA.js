import{_ as C,y as B,U as E,r,z as S,E as b,K as F,G as V,N as I,H as t,O as $,bc as k,X as h,P as m,bd as D,a4 as N,$ as O,a0 as f,Y as P,Z as L}from"./vendor-BUT0HZ5j.js";import{_ as R}from"./Lottie-DS9vA_OS.js";import{bW as z}from"./index-k1FFr-1T.js";const T=e=>(P("data-v-cef55224"),e=e(),L(),e),j={class:"center-card text-b1 font-semibold"},H=T(()=>t("div",{class:"container relative"},[t("div",{class:"center-text",id:"original"},[t("div",null,"完成充电投票"),t("div",null,[f("获得 "),t("span",{class:"text-newOrigin"},"1"),f(" 张抵用券")])])],-1)),M=[H],U=B({props:{show:{type:Boolean},shopId:null,teleport:null},emits:["close"],setup(e,{emit:w}){const{show:c,teleport:W}=e,{height:u}=E(),a=r(null),l=r(null),d=r(!1),g=async()=>{d.value=!0,await z(500);const s=document.getElementById("original").cloneNode(!0);s.id="cloned-animation",s.classList.add("animated-div"),document.querySelector(".container").appendChild(s)},i=()=>{w("close")},p=38;function v(o){console.log(`当前帧: ${o.currentTime}`),Math.round(o.currentTime)===p&&(console.log(`到达目标帧: ${p}`),g(),l.value.removeEventListener("enterFrame",v))}const x=()=>{l.value.addEventListener("enterFrame",v)};return S(()=>a.value,o=>{o&&(l.value=a.value.getLottieAnimation(),x())}),(o,s)=>{const _=b("VanPopup");return V(),F(_,{show:e.show,"onUpdate:show":s[0]||(s[0]=n=>O(c)?c.value=n:null),teleport:e.teleport,onClickOverlay:N(i,["stop"]),onClose:i,round:"",class:"bg-transparent position-center",sty:"",style:{width:"100%","max-width":"375px"}},{default:I(()=>[t("div",{class:"w-full overflow-hidden relative",style:h({height:`${m(u)}px`}),onClick:i},[$(R,{path:"lottie/expand.json",renderer:"svg",loop:!1,class:"w-full",style:h({height:`${m(u)}px`}),ref:(n,y)=>{y.lottieRef=n,a.value=n}},null,8,["style"]),k(t("div",j,M,512),[[D,d.value]])],4)]),_:1},8,["show","teleport","onClickOverlay"])}}}),K=C(U,[["__scopeId","data-v-cef55224"]]);export{K as V};
