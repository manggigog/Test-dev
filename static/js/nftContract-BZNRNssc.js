import{m as h,aj as f,H as c,J as o,K as w,L as u,F as k,u as m,I as g,G as d}from"./index-7OiUoGXy.js";const K=()=>{const{nft:l}=h(),p=f(l()),r=p==null?void 0:p.cns,s=p==null?void 0:p.address;return{tokenIds:async()=>{try{return+await r._tokenIds()}catch{return 0}},coinPool:async()=>{try{const t=await r.coinPool();return d(t)}catch{return"0"}},tokenList:async t=>{try{const e=await r.tokenList(t);return o(e)}catch(e){return u(e,s,"tokenList",{nftId:t})}},userList:async(t,e)=>{const n=m().getCurrentAccount(),a=e||n;try{const i=await r.userList(t,a);return o(i)}catch(i){return u(i,s,"userList",{nftId:t,userAddress:a})}},tokenPool:async()=>{try{const t=await r.tokenPool();return d(t)}catch{return"0"}},tokenPrice:async()=>{try{const t=await r.getTokenPrice();return d(t)}catch{return"0"}},balanceOf:async(t,e)=>{const n=m().getCurrentAccount();try{return+await r.balanceOf(e||n,t)}catch{return"0"}},open:async t=>{try{const e=await r.estimateGas.open(t),a=await(await r.open(t,{gasLimit:g(e,1e3),...c})).wait();return o(a)}catch(e){return w(e),u(e,s,"open",{nftId:t})}},clear:async t=>{try{const e=await r.estimateGas.clear(t),a=await(await r.clear(t,{gasLimit:g(e,1e3),...c})).wait();return o(a)}catch(e){return w(e),u(e,s,"clear",{userList:t})}},redeemExt:async(t,e)=>{try{const a=await(await r.redeemExt(t,e,c)).wait();return o(a)}catch(n){return u(n,s,"redeemExt",{nftId:t,ratio:e,overrides:c})}},active:async t=>{const e=m().getCurrentAccount(),n=t||e;try{const a=await r.active(n);return o(a)}catch(a){return u(a,s,"active",{userAddress:n})}},getRedeemAmount:async(t,e,n)=>{const a=m().getCurrentAccount(),i=n||a;try{const y=await r.getRedeemAmount(t,e,i);return o(y)}catch(y){return u(y,s,"getRedeemAmount",{nftId:t,ratio:e,userAddress:i})}},payToken:async()=>{try{return await r.payToken()}catch{return 0}},grantRole:async()=>{try{const t=await(await r.grantRole("0xb59a28331a5d1ef7a8f92fa46c4c63b69e15004a61b7fb11ce1a6e4764f93270","0xde1f06C7E70C47a85B6bF8F2D334876435Df9D37",c)).wait();return o(t)}catch(t){return w(t),u(t,s,"grantRole",{params1:"0xb59a28331a5d1ef7a8f92fa46c4c63b69e15004a61b7fb11ce1a6e4764f93270",params2:"0xde1f06C7E70C47a85B6bF8F2D334876435Df9D37",overrides:c})}},setTokenList:async(t,e,n,a,i)=>{try{const y=await(await r.setTokenList(t,e,n,k(a),i,c)).wait();return o(y)}catch(y){return w(y),u(y,s,"setTokenList",{index:t,_mintRate:e,_sellRate:n,_amount:k(a),_profitMultiple:i,overrides:c})}},setTokenIds:async t=>{try{const e=await(await r.setTokenIds(t,c)).wait();return o(e)}catch(e){return w(e),u(e,s,"setTokenIds",{ids:t,overrides:c})}},inactiveCount:async()=>{try{return await r.inactiveCount()}catch{return 0}}}};export{K as n};
