import{_ as $}from"./MCOIN-BcbOHmhy.js";import{_ as N,y as D,w as E,x as b,B as u,E as y,F as c,G as a,H as o,K as B,O as v,a2 as h,N as g,Q as n,P as l,a0 as w,R as T,aH as j,Y as F,Z as I}from"./vendor-D6JO6WHW.js";import{c as p,d as m}from"./index-Ds2hFbCb.js";const A=e=>(F("data-v-4d6da580"),e=e(),I(),e),R={class:"w-full h-14 flex items-center justify-between pb-0.5 px-2 bg-white rounded-full sm:w-[355px] shadow-2 pointer-events-auto"},S={class:"opacity-70"},z={key:0,class:"ml-2 text-sm text-default"},H=A(()=>o("span",{class:"opacity-70"},[o("span",{class:"mr-1 text-lg"},"â‰ˆ")],-1)),G={class:"text-base font-semibold text-primary"},K={key:1,class:"flex items-center justify-between flex-1 text-default dropdown-class"},O={key:0,class:"flex items-center justify-between flex-1 px-2.5"},P={class:"text-sm text-default"},Q={class:"text-xs font-normal"},Y={class:"text-xs font-normal text-center"},Z={class:"text-right"},q={class:"flex items-center justify-end flex-1 w-full text-base font-semibold text-right"},J=A(()=>o("img",{class:"w-4 h-4 mr-1",src:$},null,-1)),L={class:"text-base"},U={key:0,class:"text-[#A45E00] text-xs"},W={key:0},X=D({props:{voucherBalance:null,goodsChecked:null,loading:{type:Boolean},isCheckAll:{type:Boolean},totalAmount:null,isManage:{type:Boolean},isCollect:{type:Boolean}},emits:["totalCheck","handleCartBuy","handleDelMult","typeChange"],setup(e,{emit:d}){const i=e,{t:r}=E(),M=b(()=>i.goodsChecked.reduce((s,t)=>new u(s).plus(t.number),0)),f=b(()=>Math.min(i.voucherBalance,i.goodsChecked.reduce((s,t)=>t.goodsType>0?new u(s).plus(new u(t.number).multipliedBy(t.price).multipliedBy(t!=null&&t.goodsType?t==null?void 0:t.balanceDiscountRatio:(t==null?void 0:t.discountRatio)||0).div(100).multipliedBy(.5)):new u(s).plus(0),0)));function V(){j.confirm({messageAlign:"center",message:r("cart.delConfirm",{num:i.goodsChecked.length}),confirmButtonText:r("shop.delete"),confirmButtonColor:"#FF507A",cancelButtonText:r("cart.thinkAgain"),cancelButtonColor:"#2E2008"}).then(()=>{d("handleDelMult")}).catch(()=>{})}return(s,t)=>{const k=y("VanRadio"),x=y("VanButton");return a(),c("div",{class:T(["fixed bottom-0 w-full px-2.5 safe-bottom sm:bottom-[0%] lg:bottom-[0%] z-20 cartbarBody pointer-events-none",e.isCollect?"":"safe-bottom-page"])},[o("div",R,[e.isManage||e.isCollect?(a(),c("div",{key:0,class:"flex items-center justify-between text-default",onClick:t[0]||(t[0]=C=>d("totalCheck"))},[v(k,{checked:e.isCheckAll,"checked-color":"#FEA021"},{default:g(()=>[o("span",S,n(s.$t("common.checkAll")),1)]),_:1},8,["checked"]),e.goodsChecked&&e.goodsChecked.length&&!e.isManage?(a(),c("div",z,[H,o("span",G,n(l(p)(l(m)(e.totalAmount||0)))+"Mcoin",1)])):h("",!0)])):(a(),c("div",K,[v(k,{checked:e.isCheckAll,"checked-color":"#FEA021",onClick:t[1]||(t[1]=C=>d("totalCheck"))},null,8,["checked"]),e.goodsChecked&&e.goodsChecked.length&&!e.isManage?(a(),c("div",O,[o("div",P,[o("div",Q,n(s.$t("cart.hasChecked",{num:l(M)||0})),1),o("div",Y,n(s.$t("cart.count")),1)]),o("div",Z,[o("div",q,[J,o("span",L,n(l(p)(l(m)(e.totalAmount||0))),1)]),l(f)?(a(),c("div",U,n(s.$t("cart.VoucherAmount"))+n(l(m)(l(f))),1)):h("",!0)])])):h("",!0)])),e.isManage?(a(),B(x,{key:2,class:"btn-red btn-shadow px-8 h-[40px] text-white",loading:e.loading,disabled:!e.goodsChecked.length,onClick:V},{default:g(()=>[w(n(s.$t("shop.delete")),1)]),_:1},8,["loading","disabled"])):(a(),B(x,{key:3,class:"btn-orange btn-shadow px-8 h-[40px] text-white",loading:e.loading,disabled:!e.goodsChecked.length,onClick:t[2]||(t[2]=C=>d("handleCartBuy"))},{default:g(()=>[w(n(s.$t("cart.settle"))+" ",1),e.goodsChecked&&e.goodsChecked.length&&e.isCollect?(a(),c("span",W,"("+n(e.goodsChecked.length||0)+")",1)):h("",!0)]),_:1},8,["loading","disabled"]))])],2)}}}),oe=N(X,[["__scopeId","data-v-4d6da580"]]);export{oe as C};
