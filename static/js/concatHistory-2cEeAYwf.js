import{_ as $}from"./default-img-DpEnkbQ2.js";import{B as N}from"./BackIcon-CPUEW9je.js";import{c as S}from"./concat-DZdGVaRM.js";import{_ as T,y as j,r as o,x as J,F as l,G as n,H as s,O as g,N as y,I as F,J as w,P as m,E as R,l as H,R as k,Q as d,a2 as C,Y as q,Z as G}from"./vendor-D6JO6WHW.js";import{u as M,b as O,l as P}from"./index-koYZVdtr.js";const D=f=>(q("data-v-29a842db"),f=f(),G(),f),Q={class:"w-full bg-[#F2F0EF]"},U={class:"fixed top-0 left-0 w-full z-10 h-[44px] bg-[#FFFFFF]"},Y={class:"absolute top-3 left-2.5 text-[#2E2008] flex items-center h-5"},Z=D(()=>s("span",{class:"font-medium"},"交流历史",-1)),K={class:"h-[44px] text-sm font-normal fixed justify-around flex items-center top-[44px] left-0 w-full bg-[#FFFFFF] z-10"},W=["onClick"],X={class:"bg-white pt-[88px]"},ee=["onClick"],te=D(()=>s("img",{src:$,class:"flex-shrink-0 w-11 h-11"},null,-1)),se={class:"w-[calc(100%-3.5rem)] flex flex-col h-11 justify-between"},ae={class:"flex justify-between w-full text-sm"},oe={class:"text-[#2E2008]/60"},le={class:"flex items-center w-full"},ne={key:0,style:{flex:"0 0 6px"},class:"w-[6px] h-[6px] rounded-full mr-2.5 bg-[#FB1A18]"},ce={class:"w-full truncate text-black-600"},re={key:1,class:"px-1.5 flex-shrink-0 ml-4 py-1 text-xs text-primary rounded border border-primary"},ue=j({setup(f){const E=H(),p=o(!1),u=o(!1),i=o(0),x=o(10),_=o(0),L=o(null),z=t=>{L.value=t,E.push("/concatDetail?id="+t.id)},c=o([]),A=J(()=>[{title:"我发起的",value:1},{title:"我回复的",value:2}]),v=o(1),B=t=>{v.value!==t&&(v.value=t,V())},I=async()=>{const t=M().getCurrentAccount();let r={};v.value===1?r={page:i.value,size:x.value,address:t}:r={page:i.value,size:x.value,replyAddress:t};const a=await S(r);if(!a.success){u.value=!0;return}if(!a.data||!a.total){u.value=!0;return}_.value=a.total,c.value=i.value===1?a.data:c.value.concat(a.data),c.value.length>=_.value&&(u.value=!0)},b=async()=>{p.value=!0,i.value+=1,await I(),p.value=!1},V=()=>{i.value=0,_.value=0,u.value=!1,c.value=[],b()};return(t,r)=>{const a=R("VanList");return n(),l("div",Q,[s("header",U,[s("div",Y,[g(N,null,{default:y(()=>[Z]),_:1})])]),s("div",K,[(n(!0),l(F,null,w(m(A),e=>(n(),l("div",{key:e.value,onClick:h=>B(e.value),class:k({abtive_tab:v.value===e.value})},d(e.title),11,W))),128))]),s("div",X,[g(a,{loading:p.value,"onUpdate:loading":r[0]||(r[0]=e=>p.value=e),finished:u.value,"finished-text":t.$t("common.noMore"),"loading-text":t.$t("common.loading"),onLoad:b},{default:y(()=>[(n(!0),l(F,null,w(c.value,(e,h)=>(n(),l("div",{key:h,onClick:ie=>z(e),class:k([{"border-none":h===c.value.length-1},"flex items-center border-b px-4 gap-3 border-solid border-[#000000]/10 py-5 w-full"])},[te,s("div",se,[s("div",ae,[s("span",null,d(m(O)(e.address,"...",5,5)),1),s("span",oe,d(m(P)(e.createTime)),1)]),s("div",le,[e.replyJson?C("",!0):(n(),l("div",ne)),s("div",ce,d(e.content),1),e.replyJson?(n(),l("div",re,d(t.$t("user.Replied")),1)):C("",!0)])])],10,ee))),128))]),_:1},8,["loading","finished","finished-text","loading-text"])])])}}}),he=T(ue,[["__scopeId","data-v-29a842db"]]);export{he as default};
