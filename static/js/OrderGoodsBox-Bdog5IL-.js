import{_ as D,z as C,x as G,r as V,D as $,y as N,B as M,F as k,G as c,H as a,I as t,P as f,U as y,Z as L,Q as r,O as T,bj as O,bt as S,a4 as F,J as P,X as z,Y as j}from"./vendor-Dr_RpJ_Y.js";import{_ as q}from"./mall-DLd1UK-E.js";import{_ as U}from"./MCOIN-Bodfn-v1.js";import{O as A}from"./OrderGoods-dbG_h6yn.js";import{g as H}from"./enums-DlE-aiss.js";const J=s=>(z("data-v-08e4036f"),s=s(),j(),s),Q={class:"flex-start pb-3 font-semibold"},X={key:1,src:q,class:"w-5 h-5 mr-2"},Y={key:0,class:"flex-center-bw text-sm"},Z={class:"text-b3"},K={class:"flex text-right text-b1"},R={key:1,class:"bg-white rounded-lg p-2.5"},W={key:0,class:"flex-center-bw pb-3"},ee={class:"text-sm"},se={class:"flex items-center justify-end gap-1"},oe={class:"input-wrapper rounded bg-[#f1f1f1]"},te={class:"px-2"},ne=["placeholder"],re={class:"flex-center-bw"},ae={class:"text-sm"},de={class:"flex items-center"},ie=J(()=>t("img",{src:U,class:"w-3 h-3 mr-1"},null,-1)),le=C({props:{orderInfo:null,number:null,isDisabledEdit:{type:Boolean},isDisabledEditCount:{type:Boolean},maxNumber:null,payType:null,card:null,needMask:{type:Boolean,default:!0},expressGoodsList:null},emits:["changeNumber"],setup(s,{emit:x}){const e=s,{t:w}=G(),m=V(1);$(()=>e.number,o=>{m.value=o});const u=o=>{+o&&e.maxNumber&&+o>=e.maxNumber?(m.value=e.maxNumber,x("changeNumber",+e.maxNumber)):x("changeNumber",+o)},E=N(()=>{var o,n;return+M(e.payType===2?(o=e.orderInfo)==null?void 0:o.cardPrice:(n=e.orderInfo)==null?void 0:n.price).times(e.number)}),B=N(()=>{var d,i,l;const o=(i=(d=e.orderInfo)==null?void 0:d.goods)==null?void 0:i.id,n=(l=e.expressGoodsList)==null?void 0:l.find(p=>p.goodsId===o);return n&&H(w)[n.shippingTemplateType]||""});return(o,n)=>{var i,l,p,h,v,I,_;const g=k("VanImage"),d=k("van-button");return a(),c(P,null,[t("div",Q,[(l=(i=s.orderInfo)==null?void 0:i.stores)!=null&&l.logo?(a(),L(g,{key:0,src:(((h=(p=s.orderInfo)==null?void 0:p.stores)==null?void 0:h.logo)||"").split(",")[0],class:"w-6 h-6 rounded overflow-hidden mr-1",alt:"店铺 logo",fit:"cover"},null,8,["src"])):(a(),c("img",X)),t("div",null,r(((I=(v=s.orderInfo)==null?void 0:v.stores)==null?void 0:I.storeName)||((_=s.orderInfo)==null?void 0:_.shopName)||"-"),1)]),f(A,{needMask:s.needMask,goods:e.orderInfo.goods||e.orderInfo,number:e.number,class:"mb-3",onChangeNumber:u,isDisabledEdit:e.isDisabledEdit,payType:s.payType,card:s.card},null,8,["needMask","goods","number","isDisabledEdit","payType","card"]),s.expressGoodsList&&s.expressGoodsList.length>0?(a(),c("div",Y,[t("div",Z,r(o.$t("order.expressPrice")),1),t("div",K,r(T(B)),1)])):y("",!0),e.isDisabledEdit?(a(),c("div",R,[e.isDisabledEditCount?y("",!0):(a(),c("div",W,[t("div",ee,r(o.$t("ecology.quantity")),1),t("div",se,[f(d,{icon:"minus",size:"mini",type:"primary",class:"w-5 border-none aspect-square text-default",disabled:e.number===1,onClick:n[0]||(n[0]=b=>u(e.number-1))},null,8,["disabled"]),t("div",oe,[t("span",te,r(e.number),1),O(t("input",{class:"text-center rounded input-box",type:"number","onUpdate:modelValue":[n[1]||(n[1]=b=>m.value=b),u],placeholder:e.maxNumber?e.maxNumber.toString():""},null,8,ne),[[S,m.value]])]),f(d,{icon:"plus",size:"mini",type:"primary",disabled:e.number>=o.$props.orderInfo.purchaseLimit,style:{border:"none",background:"none",color:"#000"},onClick:n[2]||(n[2]=b=>u(e.number+1))},null,8,["disabled"])])])),t("div",re,[t("div",ae,r(o.$t("common.total price")),1),t("div",de,[ie,F(r(T(E))+r(s.payType===2?s.card&&s.card.symbol:"Mcoin"),1)])])])):y("",!0)],64)}}}),fe=D(le,[["__scopeId","data-v-08e4036f"]]);export{fe as O};
