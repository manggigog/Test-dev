import{z as h,G as n,H as s,I as e,a3 as g,O as x,U as i,Q as d,_ as F,a4 as S,x as w,q as j,F as R,Z as m,P as V,T,J as G}from"./vendor-Dr_RpJ_Y.js";import{_ as C}from"./buy-cart-m4kq4Bzt.js";import{D as p}from"./goods-BVwS8oFG.js";import{at as P,e as H,k as I}from"./index-BckdT6oc.js";import{_ as A}from"./ShopMaskTips-ClYuWX9C.js";import{_ as B}from"./GoodsPrice-Dz5PcG19.js";import{S as $}from"./shop-CeqcS6K2.js";const E=["src"],z=h({name:"ActivePlaceholder"});function J(t){return(c,r)=>{var u,f;return s(),n("div",{onClick:r[0]||(r[0]=g(y=>{var o;return x(P)((o=t.info)==null?void 0:o.activePath)},["stop"])),class:"rounded-lg overflow-hidden min-h-[20px]"},[e("img",{src:t.type?(u=t.info)==null?void 0:u.activeImgGrid:(f=t.info)==null?void 0:f.activeImg,alt:""},null,8,E)])}}const D=h({...z,props:{info:null,type:null},setup:J}),L={key:0,class:"text-xs bg-[#FBA923] rounded-sm px-1 leading-normal mr-2.5 whitespace-nowrap text-white"},N=h({props:{type:{default:0}},setup(t){return(c,r)=>t.type!==x($).SD?(s(),n("div",L,d(t.type===x($).SL?"精":t.type===x($).PR?"优":"星"),1)):i("",!0)}}),M={class:"absolute top-0 right-0 items-center gap-1 px-1.5 py-1 text-xs font-normal bg-ratio text-black-800 no-wrap rounded-tr-lg rounded-bl-lg"},O={class:"font-semibold"},Q=S("%"),U=h({props:{ratio:null,tag:null},setup(t){const{ratio:c,tag:r}=t;return(u,f)=>(s(),n("div",M,[e("span",null,d(t.tag||u.$t("common.ratio")),1),e("span",null,[e("span",O,d(x(H)(t.ratio||0)),1),Q])]))}}),q=F(U,[["__scopeId","data-v-6a6fc0c6"]]),Z={key:1,class:"relative w-full h-full text-right bg-white rounded-lg"},K={class:"w-full max-h-[250px] relative overflow-hidden"},W=["src"],X={class:"px-1.5 pb-2.5"},Y={key:0,class:"mb-0.5 text-black-900 text-sm mt-1 text-left leading-normal flex items-center"},_={class:"font-semibold line-clamp-1 h-[22px] leading-[22px]"},tt={key:1,class:"w-full mb-1"},et={key:2,class:"text-xs leading-tight tracking-tight text-left line-clamp-2 text-black-400"},st={class:"flex items-center mt-1 text-sm font-bold"},ot={class:"flex-1 pr-1.5"},at={class:"mr-1.5 max-w-[60px] line-clamp-1 opacity-60 text-xxs"},it={class:"text-black mr-2.5 flex items-center"},nt={class:"mr-1 underline text-xxs underline-offset-2 whitespace-nowrap"},lt=e("span",null," > ",-1),dt=e("div",{class:"w-5 h-5 rounded-full flex justify-center items-center bg-[#FBA923] text-white text-sm"}," + ",-1),ct=[dt],rt=e("img",{class:"w-6 h-6",src:C},null,-1),mt=[rt],ut=h({name:"GoodsGridItem"});function gt(t,{emit:c}){const{t:r}=w(),u=j(),f=l=>{u.push(l)},y=l=>{l.goods.id&&u.push(`goodsDetail?id=${l.goods.id}`)},o=async l=>{if(l.goods.stock===0&&l.goods.goodsTypes!=2){T(r("order.Insufficient stock"));return}c("handleAddCart",l.goods)};return(l,a)=>{var b;const v=R("van-skeleton");return s(),n("div",{class:"mb-2 text-center",onClick:a[5]||(a[5]=k=>y(t.item))},[(b=t.item)!=null&&b.activeType?(s(),m(D,{key:0,info:t.item,type:"grid",onHandleTo:a[0]||(a[0]=k=>f(k))},null,8,["info"])):t.item.goods?(s(),n("div",Z,[e("div",K,[(t.item.goods.status!=1||!+t.item.goods.stock)&&t.item.goods.goodsTypes!=2?(s(),m(A,{key:0,status:t.item.goods.status,stock:t.item.goods.stock},null,8,["status","stock"])):i("",!0),e("img",{src:t.item&&t.item.goods&&t.item.goods.icons&&t.item.goods.icons.split(",")[0]||x(I)("images/activity/boutique/squre_empty.png"),alt:"",class:"object-cover w-full h-auto aspect-square rounded-t-lg bg-black-100"},null,8,W),t.item.goods.payType!==2&&t.item.goods.deliveryType===x(p).online?(s(),m(q,{key:1,tag:l.$t("common.rebate"),ratio:t.item.goods.discountRatio||0},null,8,["tag","ratio"])):i("",!0)]),e("div",X,[t.item.goods.goodsName?(s(),n("div",Y,[t.item.goods.type?(s(),m(N,{key:0,type:t.item.goods.type,class:"inline-block mr-1 align-text-top"},null,8,["type"])):i("",!0),e("span",_,d(t.item.goods.goodsName||"-"),1)])):i("",!0),t.item.goods.id?i("",!0):(s(),n("div",tt,[V(v,{row:t.index%2==0?1:2,class:"mx-2","row-width":["100%"]},null,8,["row"])])),t.item.goods.goodsDesc?(s(),n("div",et,d(t.item.goods.goodsDesc),1)):i("",!0),e("div",st,[e("div",ot,[t.item.goods.payType!==2?(s(),m(B,{key:0,color:"#000000",class:"text-base",price:t.item.goods.price},null,8,["price"])):i("",!0)])]),e("section",{class:"mt-1.5 flex-center-bw",onClick:a[4]||(a[4]=g(()=>{},["stop"]))},[e("div",{class:"items-center text-xs flex-center text-default",onClick:a[1]||(a[1]=g(k=>f(`/category?deliveryType=1&shopId=${t.item.stores.id}`),["stop"]))},[e("span",at,d(t.item.stores.storeName),1),e("div",it,[e("div",nt,d(l.$t("collect.intoShop")),1),lt])]),t.item.goods.deliveryType===1?(s(),n("div",{key:0,onClick:a[2]||(a[2]=g(k=>o(t.item),["stop"])),class:""},ct)):(s(),n("div",{key:1,onClick:a[3]||(a[3]=g(k=>y(t.item),["stop"]))},mt))])])])):i("",!0)])}}const Pt=h({...ut,props:{item:null,index:null},emits:["handleAddCart"],setup:gt}),xt={class:"w-[110px] h-[110px] relative"},ft=["src"],yt={class:"ml-2 flex-1 w-[0px]"},ht={class:"text-sm flex items-center mb-1.5 relative"},vt={class:"text-sm font-semibold leading-[0.875rem] truncate text-default"},kt={class:"flex items-center"},$t={class:"flex-1"},bt={class:"mb-2 text-xs leading-normal line-clamp-1 text-black-400"},wt={class:"flex text-sm font-bold items-center mt-1.5"},Tt={class:"flex-1 flex items-center min-w-0 pr-1 text-xs text-default"},Ct={class:"mr-1 underline text-xxs"},pt=e("span",null," > ",-1),It={key:0,class:"text-xxs text-black-400 shrink-0 whitespace-nowrap"},At=["onClick"],Bt={key:0,class:"w-5 h-5 rounded-full flex justify-center items-center bg-[#FBA923] text-white text-sm"},Dt={key:1,class:"w-6 h-6",src:C},Nt=e("div",{class:"flex items-center h-2.5"},[e("div",{class:"h-[1px] w-full bg-black-100"})],-1),Ht=h({props:{data:null},emits:["handleTo","handleAddCart","click"],setup(t,{emit:c}){const r=t,{t:u}=w(),f=async()=>{if(r.data.goods.stock===0&&r.data.goods.goodsTypes!=2){T(u("order.Insufficient stock"));return}r.data.goods.deliveryType===1?c("handleAddCart",r.data.goods):c("click")};return(y,o)=>{var l,a;return s(),n(G,null,[(l=t.data)!=null&&l.activeType?(s(),m(D,{key:0,info:t.data,onHandleTo:o[0]||(o[0]=v=>c("handleTo",v))},null,8,["info"])):(a=t.data)!=null&&a.goods?(s(),n("section",{key:1,class:"flex items-start justify-between rounded-lg bg-white p-2.5 w-full",onClick:o[4]||(o[4]=v=>c("click"))},[e("div",xt,[(t.data.goods.status!=1||!+t.data.goods.stock)&&t.data.goods.goodsTypes!=2?(s(),m(A,{key:0,status:t.data.goods.status,stock:t.data.goods.stock},null,8,["status","stock"])):i("",!0),e("img",{src:t.data&&t.data.goods&&t.data.goods.icons&&t.data.goods.icons.split(",")[0]||x(I)("images/activity/boutique/squre_empty.png"),alt:"",class:"rounded-lg w-[110px] h-[110px] aspect-square object-cover"},null,8,ft),t.data.goods.payType!==2&&+t.data.goods.deliveryType===x(p).online?(s(),m(q,{key:1,class:"flex-shrink-0 ml-auto",tag:y.$t("common.rebate"),ratio:t.data.goods.discountRatio||0},null,8,["tag","ratio"])):i("",!0)]),e("section",yt,[e("div",ht,[t.data.goods.type?(s(),m(N,{key:0,type:t.data.goods.type,class:"mr-1",style:{flex:"0 0 auto"}},null,8,["type"])):i("",!0),e("div",vt,d(t.data.goods.goodsName),1)]),e("div",kt,[e("div",$t,[e("div",bt,d(t.data.goods.goodsDesc),1),e("div",wt,[t.data.goods.payType!==2?(s(),m(B,{key:0,price:t.data.goods.price,class:"text-base",color:"#000000"},null,8,["price"])):i("",!0)])])]),e("section",{class:"mt-5 flex justify-between items-center",onClick:o[3]||(o[3]=g(()=>{},["stop"]))},[e("div",Tt,[e("span",{class:"mr-1.5 truncate text-xxs text-[#999999]",onClick:o[1]||(o[1]=g(v=>c("handleTo",`/category?deliveryType=1&shopId=${t.data.stores.id}`),["stop"]))},d(t.data.stores.storeName),1),e("div",{class:"text-black mr-2.5 flex items-center shrink-0 whitespace-nowrap",onClick:o[2]||(o[2]=g(v=>c("handleTo",`/category?deliveryType=1&shopId=${t.data.stores.id}`),["stop"]))},[e("div",Ct,d(y.$t("collect.intoShop")),1),pt]),t.data.goods.volume15>=100?(s(),n("div",It,d(y.$t("mall.15th sale",{salesVolume:t.data.goods.volume15||0})),1)):i("",!0)]),e("div",{onClick:g(f,["stop"]),class:"px-2 shrink-0"},[t.data.goods.deliveryType===1?(s(),n("div",Bt," + ")):(s(),n("img",Dt))],8,At)])])])):i("",!0),Nt],64)}}});export{Pt as _,Ht as a,D as b};
