import{r as p,o as a,x as u,D as g,a9 as h,F as S,a2 as x,P as f,G as M,Q as _}from"./vendor-D6JO6WHW.js";const w={key:0,class:"w-[35px] whitespace-nowrap"},N={props:{startTime:{type:[String,Number],required:!0},endTime:{type:[String,Number],required:!1,default:null},duration:{type:Number,required:!0},durationType:{type:String,default:"minutes",validator:s=>["minutes","seconds","hours","days"].includes(s)},showZero:{type:Boolean,default:!1},doneText:{type:String,default:""}},emits:["done"],setup(s,{emit:v}){const e=s,d=p(a());let t=null;const T=u(()=>{if(e.endTime){const r=a(e.endTime),i=a();if(r.isAfter(i))return r}return a(e.startTime).add(e.duration,e.durationType)}),o=u(()=>{const n=T.value.diff(d.value);return Math.max(0,n)}),l=u(()=>{const n=o.value;if(n<=0)return e.showZero?"00:00":e.doneText||"";const r=a.duration(n),i=Math.floor(r.asMinutes()),y=r.seconds();return`${i.toString().padStart(2,"0")}:${y.toString().padStart(2,"0")}`}),c=p(null),m=()=>{d.value=a(),o.value<=0&&t&&c.value>0&&(clearInterval(t),t=null,v("done")),c.value=o.value};return g(()=>{m(),o.value>0&&(t=setInterval(m,1e3))}),h(()=>{t&&(clearInterval(t),t=null)}),(n,r)=>f(l)?(M(),S("div",w,_(f(l)),1)):x("",!0)}};export{N as _};
