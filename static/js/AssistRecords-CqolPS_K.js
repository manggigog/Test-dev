import{_ as L,y as N,w as E,r as a,D as T,F as _,G as d,H as e,O as v,Q as o,N as x,E as b,Y as z,Z as P,l as S,I as V,J as Y,R as M,P as R,K as j,a2 as J}from"./vendor-D6JO6WHW.js";import{_ as A}from"./DataSelectMonth-C3ZCExVE.js";import{B as G}from"./BackIcon-CPUEW9je.js";import{g as H}from"./beiRanking-yYYiCmLG.js";import{J as K}from"./index-Ds2hFbCb.js";const k=i=>(z("data-v-7a267072"),i=i(),P(),i),O={class:"assist__container relative font-Puhui"},Q=k(()=>e("div",{class:"absolute top-[50px] right-0 z-[49]"},null,-1)),U={class:"sticky top-0 z-[51]"},Z={class:"relative w-full h-[50px] px-3 flex justify-between items-center"},q=k(()=>e("div",{class:"absolute left-1/2 top-1/2 -translate-x-1/2 -translate-y-1/2"},[e("div",{class:"text-lg text-[#2E2008] font-bold"},"充电记录")],-1)),W={class:"px-3 pb-3"},X={class:"p-3 bg-white rounded-xl"},ee={class:"border-solid border-[0.5px] border-[#D9D9D9] rounded-lg"},te={class:"p-2 bg-[#FFF8EC] gap-2 flex justify-between items-center text-xs leading-[18px] text-[#2E2008] font-semibold rounded-t-lg border-solid border-b-[0.5px] border-[#D9D9D9]"},se={class:"w-[70px]"},oe={class:"flex-1"},ae={class:"w-[60px] text-right"},ne={class:"w-[60px] text-right"},ie={class:"overflow-y-scroll",style:{"max-height":"calc(100vh - 50px - 36px - 29.5px - 34px)"}},le={class:"w-[70px]"},ce=["onClick"],re={class:"w-[60px] text-right"},de={class:"w-[60px] text-right"},ue=N({setup(i){const y=S(),{t:u}=E(),l=a(0),w=a(20),h=a(0),s=a([]),p=a(null),D={100:u("ranking.direct_Points_voting"),200:u("ranking.direct_LP_authentic_ticket"),400:u("ranking.direct_LP_counter_vote")},C=t=>{p.value=t,g()},$=t=>{t&&y.push(`/category?shopId=${t}&deliveryType=1`)},c=a(!1),r=a(!1),B=async()=>{const t=await H({page:l.value,size:w.value,month:p.value?p.value.getTime()/1e3:null});if(!t.success||!t.data){r.value=!0;return}h.value=t.data.total||0,s.value=l.value===1?t.data.records||[]:s.value.concat(t.data.records||[]),s.value&&s.value.length>=h.value&&(r.value=!0)},m=async()=>{c.value=!0,l.value+=1,await B(),c.value=!1},g=()=>{l.value=0,r.value=!1,s.value=[],m()};return T(()=>{g()}),(t,pe)=>{const I=b("Empty"),F=b("VanList");return d(),_("div",O,[Q,e("div",U,[e("div",Z,[v(G),q])]),e("div",W,[e("div",X,[v(A,{class:"mb-2 shrink-0",onChangeTime:C}),e("div",ee,[e("div",te,[e("div",se,o(t.$t("ranking.period")),1),e("div",oe,o(t.$t("ranking.storeName")),1),e("div",ae,o(t.$t("common.category")),1),e("div",ne,o(t.$t("ranking.ticketNum2")),1)]),e("div",ie,[v(F,{loading:c.value,finished:r.value,"immediate-check":!1,"loading-text":t.$t("common.loading"),onLoad:m},{finished:x(()=>[!s.value.length&&!c.value?(d(),j(I,{key:0,name:t.$t("common.No data yet"),class:"py-12"},null,8,["name"])):J("",!0)]),default:x(()=>[(d(!0),_(V,null,Y(s.value,(n,f)=>(d(),_("div",{key:f},[e("div",{class:M(["p-2 gap-2 flex justify-between items-center text-xs leading-[18px] text-[#585654] border-solid border-[#D9D9D9]",{"border-b-[0.5px]":f<s.value.length-1}])},[e("div",le,o(R(K)(n.month,"YYYY-MM")),1),e("div",{class:"flex-1 text-[#FF8812] line-clamp-1",onClick:_e=>$(n.shopId)},o(n.storeName||t.$t("common.migrate")),9,ce),e("div",re,o(n.direct?D[n.direct]:"-"),1),e("div",de,o(n.ticket),1)],2)]))),128))]),_:1},8,["loading","finished","loading-text"])])])])])])}}}),xe=L(ue,[["__scopeId","data-v-7a267072"]]);export{xe as default};
