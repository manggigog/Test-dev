import{_ as I,y as V,bc as h,bd as S,a1 as N,F as x,G as c,H as n,O as r,Q as d,N as l,P as i,E as _,I as D,J as z,K as E,a4 as v,a0 as w}from"./vendor-CjApaIpB.js";import{D as F}from"./DeliveredItem-BEd_CYmb.js";import{C as j}from"./ChangeRegion-Bkwu4vRr.js";import{l as q,F as b}from"./order-aGzmIXWB.js";import{B as A}from"./BackIcon-D2Vm_lyR.js";import{e as M}from"./index-CduCwCyL.js";import{f as T}from"./useOrderStatus-DMn11Py2.js";import"./avatarRing-DpEnkbQ2.js";import"./address-BEqE8lWA.js";import"./GoodsItem-Dpn1zj4M.js";import"./credit-Chkxk9-q.js";import"./mcoin-logo-1-BPG653EL.js";import"./flashSale-DDyqLyYN.js";import"./useShipTemplate-DGyxlJb1.js";import"./enums-DlE-aiss.js";import"./orderTime-Ct6bcBR3.js";import"./ChangeRegionPop-y40zTO9y.js";const G={class:"px-3 bg-[#f2f0ef] mb-1"},H={class:"gap-2 mt-2 flex-start"},J={class:"text"},K={class:"flex justify-between mt-2.5 text-sm text-[#2E2008]"},O={class:"font-medium opacity-60"},P={class:""},Q={class:"flex-center-bw mt-2.5"},U=V({setup(W){const{reloadStore:f}=M(),[y,p]=h(!1),[R,m]=h(!1),e=S({active:1,page:0,size:10,finished:!1,list:[],loading:!1,total:0}),L=t=>{const o=T();return t.fmRefundReason&&t.fmRefundReason[o]},k=async()=>{e.loading=!0,e.page+=1,await C(),e.loading=!1},C=async()=>{const t={page:e.page,size:e.size,type:3},o=await q(t);if(e.loading=!1,!o.success){e.finished=!0;return}if(!o.data||!o.total){e.finished=!0;return}e.total=o.total,e.list=e.page===1?o.data:e.list.concat(o.data),e.list.length>=e.total&&(e.finished=!0)},u=N();u.query.active&&(e.active=Number(u.query.active));const g=async(t,o)=>{if(o){m(!0);const a=await b({orderId:t.id,type:1});m(!1),a.success&&f.reload()}else{p(!0);const a=await b({orderId:t.id,type:2});p(!1),a.success&&f.reload()}};return(t,o)=>{const a=_("VanButton"),$=_("VanList");return c(),x("div",G,[n("div",H,[r(A),n("div",J,d(t.$t("common.service")),1),r(j,{showIcon:!0,showDownIcon:!0,class:"ml-auto bg-gray1 px-2 rounded-[20px] border-2 border-solid border-white",style:{"box-shadow":"0px 0px 15px 0px rgba(51, 47, 42, 0.3) inset"}})]),r($,{class:"mt-2.5",loading:i(e).loading,"onUpdate:loading":o[0]||(o[0]=s=>i(e).loading=s),finished:i(e).finished,"finished-text":t.$t("common.noMore"),"loading-text":t.$t("common.loading"),onLoad:k},{default:l(()=>[(c(!0),x(D,null,z(i(e).list,s=>(c(),E(F,{key:s.id,order:s,isService:!0},{default:l(()=>[n("div",K,[n("div",O,d(t.$t("refund.reasonforreturn")),1),n("div",P,d(L(s)),1)]),n("div",Q,[r(a,{class:"border-orange bg-[#fff] rounded-3xl text-[#fea021] w-[130px] h-[45px]",onClick:v(B=>g(s,!0),["stop"]),loading:i(R)},{default:l(()=>[w(d(t.$t("common.agree")),1)]),_:2},1032,["onClick","loading"]),r(a,{class:"btn-orange rounded-3xl text-white w-[130px] h-[45px]",onClick:v(B=>g(s,!1),["stop"]),loading:i(y)},{default:l(()=>[w(d(t.$t("common.reject")),1)]),_:2},1032,["onClick","loading"])])]),_:2},1032,["order"]))),128))]),_:1},8,["loading","finished","finished-text","loading-text"])])}}}),ue=I(U,[["__scopeId","data-v-b4124a2a"]]);export{ue as default};
