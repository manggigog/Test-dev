import{_ as Me,br as Je,r as d,D as De,ab as Fe,y as ve,F as W,G as y,H as c,P as F,Z as R,U as A,$ as k,I as e,Q as s,O as i,bs as et,a0 as tt,J,X as Te,Y as Le,z as Se,x as ot,a2 as Ve,E as Ie,K as be,a4 as T,N as Re,bl as Ae,B as st,q as at,T as nt}from"./vendor-Dr_RpJ_Y.js";import{u as Be,f as lt,h as rt,b as it,e as Q,j as ne,g as fe,G as _e,b5 as Ce,b6 as ke,b7 as we,d as ut}from"./index-CU2nzZe6.js";import{_ as ct}from"./copy-w-Dr8nkqKW.js";import{a as Pe}from"./activityContract-BYX-PliU.js";import{_ as dt}from"./EmptyTipsPop-DC2OBzZY.js";import{E as mt}from"./EcologyHeader-7-hGw5pX.js";import{_ as ft}from"./BgBox-yqETiyJM.js";import{u as vt}from"./lendingPoolContract-2CXR5Hns.js";import{e as pt}from"./exchangeContract-bHXuS7KG.js";import"./UserLevel-BMXoJmTX.js";import"./avatarRing-DtI_kRg6.js";import"./level-CZDjoDAX.js";import"./UserAsset-5EDFIGCX.js";import"./TokenBalance-CXGFvOYs.js";import"./bg-dot-bY5zV9J7.js";const ht="/static/images/list_icon-DDBlyCQZ.svg",gt="/static/images/help-qWKu9klx.png",le=v=>(Te("data-v-62f1bb22"),v=v(),Le(),v),yt={class:"w-[335px] max-w-[335px] bg-[#f5f5f5] rounded-[16px] overflow-hidden font-Puhui"},_t={class:"relative px-4 py-4 text-center border-b border-[#F5F5F5]"},wt=le(()=>e("div",{class:"text-base font-bold text-b1"},"发送验证信息",-1)),bt={class:"p-4 pt-0",id:"saveHtml"},xt=le(()=>e("div",{class:"scan-tips rounded-lg p-2 mb-4"},[e("p",{class:"text-sm text-b2 font-normal"}," 请使用对应地址进行多重验证签名 ")],-1)),$t={class:"mb-4 text-base text-b1 font-semibold text-center gap-1 flex items-center justify-center"},At=le(()=>e("span",null,"请在",-1)),Ct={class:"text-[#FF8812]"},kt=le(()=>e("span",null,"内完成验证",-1)),Mt={class:"text-[#FF8812]"},Dt={class:"bg-white rounded-lg flex-col justify-center items-center w-full p-3"},Ft={class:"flex-col justify-center items-center"},Tt={class:"text-sm text-b1 font-normal mx-auto text-center"},Lt={class:"flex items-center justify-center mt-1"},St={class:"flex-1 text-sm text-b3 font-normal line-clamp-1 max-w-[160px]"},Vt=le(()=>e("img",{src:ct,class:"w-5 h-5",alt:""},null,-1)),It=[Vt],Rt={class:"flex justify-center mt-3",id:"qr-code-container"},Bt={props:{show:{type:Boolean,default:!1},newAddress:{type:String,required:!0},qrForm:{type:[Object],default:()=>({owner:"",time:""})}},emits:["close","update:show","confirm"],setup(v,{emit:C}){const M=v,{isEqual:G,cloneDeep:re}=Je,{getCurrentAccount:ee}=Be(),{secondConfirmView:te}=Pe(),L=d(0),S=d(0),B=d(0),z=d([]),D=d([]);let $=null;const E=d(!1),O=d(""),h=d(""),N=o=>{if(o<=0)return"0秒";const a=Math.floor(o/3600),u=Math.floor(o%3600/60),_=o%60;return a>0?`${a}小时${u}分钟`:u>0?`${u}分钟${_}秒`:`${_}秒`},f=o=>{const a=Math.floor(Date.now()/1e3);return o.filter(u=>u>a).length},l=o=>{O.value=`${o}/${L.value}地址验证成功`,E.value=!0,B.value=o,o>=L.value&&(I(),setTimeout(()=>{m(),C("confirm")},1500))},oe=async()=>{try{const o=await te();if(!o.success)return;const{agreeExpired:a}=o.result||{},u=a||[];if(D.value=u.map(p=>p.toNumber()),L.value===0){L.value=u.length,z.value=[...D.value];const p=f(D.value);S.value=p,B.value=p,V();return}const _=f(D.value);S.value=_,V(),_>B.value&&l(_)}catch(o){console.error("获取验证状态失败:",o)}},V=()=>{try{const o=Math.floor(Date.now()/1e3),a=D.value||[];if(a.length===0){h.value="24小时";return}const u=a.filter(q=>q>o);if(u.length===0){h.value="24小时";return}const p=Math.min(...u)-o;h.value=p>0?N(p):"24小时"}catch(o){console.error("计算倒计时失败:",o),h.value="24小时"}},se=()=>{V()},U=async()=>{await oe();try{const a=f(D.value)===0?5e3:3e3;$&&clearTimeout($),$=setTimeout(()=>{U()},a)}catch(o){console.error("检查有效时间失败:",o),$&&clearTimeout($),$=setTimeout(()=>{U()},5e3)}},K=()=>{$&&clearTimeout($),U()},I=()=>{$&&(clearTimeout($),$=null)},H=()=>{L.value=0,S.value=0,B.value=0,z.value=[],D.value=[],E.value=!1,O.value=""},X=()=>{E.value=!1};De(()=>{var o;return[M.show,(o=M.qrForm)==null?void 0:o.time]},([o,a])=>{o&&a?(H(),se(),K()):(I(),H())},{immediate:!0}),Fe(()=>{I()});const r=ve(()=>{const o=ee()||"",a=M.qrForm||{},u=M.qrForm.time||Date.now().toString(),_=btoa(encodeURIComponent(a.owner||o)),p=btoa(encodeURIComponent(u)),q=window.location.origin+"/#/securityWithdrawVerify",ie=new URLSearchParams({owner:_,t:p,type:"WithdrawVerify"});return`${q}?${ie.toString()}`});ve(()=>`【帮我验证提取】${M.newAddress}`);const m=()=>{C("update:show",!1),C("close")},g=()=>{rt(r.value,"链接已复制")};return(o,a)=>{const u=W("van-icon"),_=W("VanPopup");return c(),y(J,null,[F(_,{show:v.show,"onUpdate:show":a[4]||(a[4]=p=>tt(show)?show.value=p:null),"close-on-click-overlay":!0,onClose:m,style:{background:"transparent"}},{default:k(()=>[e("div",yt,[e("div",_t,[wt,F(u,{name:"cross",size:"20",class:"absolute right-4 top-1/2 -translate-y-1/2 cursor-pointer",onClick:m})]),e("div",bt,[xt,e("div",$t,[At,e("span",Ct,s(h.value),1),kt,e("span",Mt,"("+s(S.value)+"/"+s(L.value)+")",1)]),e("div",Dt,[e("div",Ft,[e("p",Tt,s(i(lt)(v.qrForm.owner,"...",4,4))+"提取多重验证 ",1),e("div",Lt,[e("p",St,s(i(r)),1),e("div",{class:"min-w-fit ml-1",onClick:g},It)])]),e("div",Rt,[F(et,{value:i(r),size:239,level:"L"},null,8,["value"])])])])]),A("",!0),A("",!0)]),_:1},8,["show"]),E.value?(c(),R(dt,{key:0,onClose:X,text:O.value},null,8,["text"])):A("",!0)],64)}}},Pt=Me(Bt,[["__scopeId","data-v-62f1bb22"]]),Et={class:"bg-[#FFFDF8] rounded-2xl shadow-inset-2 px-2 py-4 mt-[10px]"},Nt={class:"text-base font-semibold flex-start"},Ut={key:0},qt={key:0,class:"font-sm text-[#7D3619] font-normal status-card p-2 my-3"},jt={key:1,class:"font-sm text-[#7D3619] font-normal status-card p-2 my-3"},zt={key:2,class:"font-sm text-[#7D3619] font-normal status-card p-2 my-3"},Ot={key:2,class:"pt-6 pb-4 text-center"},Ht={key:3},Qt={class:"flex justify-between items-center border-line pb-[10px]"},Wt={class:"text-sm mb-[5px]"},Gt={class:"opacity-60"},Kt={class:"flex-center-bw mb-[10px] mt-[10px]"},Xt={class:"text-sm"},Yt={class:"font-semibold"},Zt={class:"flex-center-bw mb-[10px]"},Jt={class:"text-sm"},eo={class:"font-semibold"},to={class:"flex-center-bw mb-[10px]"},oo={class:"text-sm"},so={class:"font-semibold"},ao={key:0,class:"flex-center-bw"},no={class:"text-sm"},lo={class:"font-semibold"},ro={key:1,class:"gap-4 mt-5 font-semibold text-white flex-center"},io=T("安全验证"),uo=T("归还借贷"),co=T("加载中"),mo=Se({props:{list:null,authMusdLoading:null,authMusd:null,musdAllowance:null,loading:null},emits:["approveMusd","rollover","repay"],setup(v,{emit:C}){const{t:M}=ot(),{secondConfirmView:G}=Pe(),re=async()=>{C("approveMusd")},ee=(r,m)=>{C("rollover",r,m)},te=(r,m)=>{C("repay",r,m)},L=r=>{let m="";switch(+r.loanStatus){case 1:m=M("ecology.ongoing");break;case 2:m=M("ecology.overdue");break;case 3:m=M("ecology.Cleared");break}return m},S=d({owner:"",time:""}),[B,z]=Ve(!1),D=()=>{const r=Be().getCurrentAccount();S.value.owner=r,S.value.time=Date.now().toString(),O()},$=()=>{},E=()=>{z(!1)},O=()=>{z(!0)},h=d(null),N=d("");let f=null,l=null;const oe=d(0),V=d(0),se=d([]),U=r=>{if(r<=0)return"";const m=Math.floor(r/86400),g=Math.floor(r%86400/3600),o=Math.floor(r%3600/60),a=r%60;return m>0?`${m}天${g}小时${o}分钟`:g>0?`${g}小时${o}分钟${a}秒`:o>0?`${o}分钟${a}秒`:`${a}秒`},K=()=>{const r=Math.floor(Date.now()/1e3),m=oe.value-r;m>0?N.value=U(m):(N.value="",I())},I=async()=>{try{const r=await G();if(r.success){const{frozen:m,agreeExpired:g}=r.result||{},o=(m==null?void 0:m.toNumber())||0;oe.value=o,V.value=(g==null?void 0:g.length)||0,se.value=g||[];const a=Math.floor(Date.now()/1e3);if(o>a){h.value=-1,K(),l&&clearInterval(l),l=setInterval(()=>{K()},1e3);return}if(l&&(clearInterval(l),l=null),N.value="",!g||g.length===0){h.value=200;return}(g||[]).map(p=>p.toNumber()+0).filter(p=>p>a).length===g.length?h.value=200:h.value=100}}catch(r){console.error("获取验证状态失败:",r),h.value=null}},H=()=>{f&&clearInterval(f),I(),f=setInterval(()=>{I()},3e3)},X=()=>{f&&(clearInterval(f),f=null),l&&(clearInterval(l),l=null)};return Ie(()=>{H()}),Fe(()=>{X()}),(r,m)=>{const g=W("van-skeleton"),o=W("VanButton");return c(),y(J,null,[e("div",Et,[e("div",Nt,s(r.$t("ecology.my loan history")),1),v.list.length>0?(c(),y("div",Ut,[h.value==100&&V.value>0?(c(),y("p",qt," 多签验证已开启 ")):A("",!0),h.value==200&&V.value>0?(c(),y("p",jt," 多签验证已开启 ")):A("",!0),h.value==-1?(c(),y("p",zt," 关闭多签验证 "+s(N.value)+" 后可操作 ",1)):A("",!0)])):A("",!0),v.list.length===0&&v.loading?(c(),R(g,{key:1,row:3,class:"py-4"})):v.list.length===0?(c(),y("div",Ot,s(r.$t("common.No data yet")),1)):(c(),y("div",Ht,[(c(!0),y(J,null,be(v.list,(a,u)=>(c(),y("div",{class:"bg-[#fff9f0] mt-3 rounded-lg p-4",key:a.loanId},[e("div",Qt,[e("div",null,[e("div",Wt,s(r.$t("ecology.flow id"))+" "+s(a.loanId),1),e("div",Gt,s(a.startTime),1)]),F(o,{class:Re(["btn",{"opacity-30":a.loanStatus===3}])},{default:k(()=>[T(s(L(a)),1)]),_:2},1032,["class"])]),e("div",Kt,[e("div",Xt,s(r.$t("ecology.loanAmount")),1),e("div",Yt,s(a.loanAmount)+" MUSD",1)]),e("div",Zt,[e("div",Jt,s(r.$t("ecology.initial stake amount")),1),e("div",eo,s(a.collateralAmount)+" MAI",1)]),e("div",to,[e("div",oo,s(r.$t("ecology.morgage date")),1),e("div",so,s(a.endTime),1)]),a.loanStatus!==3?(c(),y("div",ao,[e("div",no,s(r.$t("ecology.Current amount due")),1),e("div",lo,s(a.overdueAmount)+" MUSD",1)])):A("",!0),a.loanStatus!==3?(c(),y("div",ro,[F(o,{class:"btn-item h-[35px] min-w-[100px] px-4",loading:a.rolloverLoading,disabled:+a.pid==0,onClick:_=>ee(a.loanId,u)},{default:k(()=>[T(s(r.$t("ecology.relloverLoan")),1)]),_:2},1032,["loading","disabled","onClick"]),v.authMusd&&v.musdAllowance>=a.overdueAmount?(c(),y(J,{key:0},[h.value==200?(c(),R(o,{key:0,class:"btn-item h-[35px] min-w-[100px] px-4",disabled:!v.authMusd,onClick:_=>te(a.loanId,u),loading:a.loanLoading},{default:k(()=>[T(s(r.$t("ecology.repayLoan")),1)]),_:2},1032,["disabled","onClick","loading"])):A("",!0),h.value==100?(c(),R(o,{key:1,class:"btn-item h-[35px] min-w-[100px] px-4",onClick:D},{default:k(()=>[io]),_:1})):A("",!0),h.value==-1?(c(),R(o,{key:2,class:"btn-item h-[35px] min-w-[100px] px-4",disabled:!0},{default:k(()=>[uo]),_:1})):A("",!0),h.value===null?(c(),R(o,{key:3,class:"btn-item h-[35px] min-w-[100px] px-4",disabled:!0},{default:k(()=>[co]),_:1})):A("",!0)],64)):(c(),R(o,{key:1,class:"btn-item h-[35px] min-w-[100px] px-4",onClick:re,loading:v.authMusdLoading},{default:k(()=>[T(s(r.$t("assets.auth"))+" MUSD",1)]),_:1},8,["loading"]))])):A("",!0)]))),128))]))]),F(Pt,{show:i(B),"qr-form":S.value,onClose:E,onConfirm:$},null,8,["show","qr-form"])],64)}}}),Ee=v=>(Te("data-v-aae02d8a"),v=v(),Le(),v),fo={class:"relative h-full"},vo={class:"bg-[#FFFDF8] rounded-2xl shadow-inset-2 px-2 py-4"},po={class:"text-base font-semibold mb-[10px] flex justify-between"},ho=Ee(()=>e("img",{src:ht,class:"w-3 h-auto mr-1.5"},null,-1)),go={class:"text-[#3D1A00] text-sm font-semibold"},yo={key:1,class:"grid grid-cols-3 gap-4"},_o={key:2,class:"flex-start w-full rounded-[10px] bg-[#fff9f0] p-[10px] mt-[10px] mb-[18px]"},wo=Ee(()=>e("img",{class:"w-[18px] mr-[10px]",src:gt},null,-1)),bo={class:"opacity-60 default"},xo={class:"flex-center-bw"},$o={class:"text-base font-semibold flex-start"},Ao={class:"bg-[#fff9f0] mt-3 rounded-lg p-2"},Co={class:"flex items-center justify-end gap-2 mt-2"},ko=["onClick"],Mo={class:"mt-[20px]"},Do={class:"text-base font-semibold"},Fo={class:"flex-center-bw mb-[10px] mt-[10px]"},To={class:"font-semibold"},Lo={class:"font-medium"},So={class:"flex-center-bw mb-[10px] mt-[10px]"},Vo={class:"font-semibold"},Io={class:"font-medium"},Ro={class:"flex-center-bw mb-[10px]"},Bo={class:"font-semibold"},Po={class:"font-medium"},Eo={class:"flex-center-bw mb-[10px]"},No={class:"font-semibold"},Uo={class:"font-medium"},qo={class:"flex-center-bw"},jo={class:"font-semibold"},zo={class:"font-medium"},Oo={class:"mt-5 font-semibold text-white flex-center"},Ho=Se({setup(v){const{checkLoginAuth:C}=it(),M=at(),{maiAddress:G,rollover:re,repay:ee,loans:te,getLoanIds:L,borrow:S,musdAddress:B,poolInfo:z,ONE_DAY:D,poolLength:$,tokenCollateralRates:E,overdueTimes:O,getPenaltyAmount:h}=vt(),{lastPrice:N}=pt(),f=d(null),l=Ae({percents:[{name:"25%",value:.25},{name:"50%",value:.5},{name:"75%",value:.75},{name:"MAX",value:1}],token0:"USDT",token1:"MUSD",balance0:0,balance1:0,resouceAmount:null,allowanceAmount:0,toAmount:0,authLoading:!1,isAuth:!1,exchangeLoading:!1,maiBalance:null,isAuthMai:!1,isAuthMusd:!1,authMusdLoading:!1,tokenCollateralRates:2.572}),[oe,V]=Ve(!1),se=Ae({7:0,90:15,180:30,365:65});De(()=>f.value,t=>{l.isAuthMai=+l.allowanceAmount>=+t&&l.allowanceAmount>0},{immediate:!0,deep:!0});const U=t=>Math.ceil(t*1e5)/1e5,K=t=>{f.value=Q(t*$e.value/l.tokenCollateralRates)},I=d(0),H=async()=>{const t=await(await ne(await B())).allowance(fe.lendingPool);l.isAuthMusd=+t.result>0,I.value=t.result||0},X=async()=>{const t=await await ne(await G()).allowance(fe.lendingPool);l.isAuthMai=+t.result>0,l.allowanceAmount=t.result||0},r=async()=>{if(!C(!0))return;l.authLoading=!0;const t=await ne(await G()).approve(fe.lendingPool);l.authLoading=!1,t.success&&X()},m=async()=>{if(!C(!0))return;l.authMusdLoading=!0;const{approve:t}=ne(await B()),n=await t(fe.lendingPool);l.authMusdLoading=!1,n.success&&H()},g=async()=>{V(!0),l.maiBalance=+await ne(await G()).balanceOf(),$e.value=l.maiBalance,V(!1)},o=d(1),a=d(1),u=d([]),_=async()=>{const t=await $();u.value=[];let n=[];for(let w=0;w<t.result;w++){const b=await Ne(w);n.push(b)}u.value=n.sort((w,b)=>w.pid-b.pid),o.value=u.value[1].pid},p=ve(()=>u.value[a.value]),q=d(null),ie=async()=>{q.value=+await D()},Ne=async t=>{const n=await z(t);if(n.success)return{pid:t,duration:n.result.duration,interestRate:n.result.interestRate/1e3,penaltyRate:n.result.penaltyRate/1e3,rowInterestRate:n.result.interestRate,rowPenaltyRate:n.result.penaltyRate}},Ue=(t,n)=>{o.value=t.pid,a.value=n},xe=d(0),qe=async()=>{xe.value=+await N()},$e=d(0),pe=d(!1),je=ve(()=>{const t=new st(l.maiBalance||0).div(l.tokenCollateralRates);return Q(t)}),ze=async()=>{if(!C(!0))return;if(!f.value||+f.value<=0)return nt("请输入借贷金额");pe.value=!0;const t=await S(o.value,f.value);pe.value=!1,t.success&&(f.value=null,g(),ce())};let Y=d([]);const he=d([]),ue=d(!0),ce=async()=>{ue.value=!0;const t=await L();if(he.value=[],!t.success||!t.result.length){ue.value=!1;return}for(let n=0;n<t.result.length;n++){const w=t.result[n],b=await Oe(w);he.value.push(b)}Y.value=he.value,ue.value=!1},ge=t=>{let n=Math.ceil(t*1e3)/1e3;return n=+n.toFixed(3),n},Oe=async t=>{const n=await te(t);if(!n.success)return;const w=u.value.findIndex(j=>j.pid===+n.result.pid),b=+(n.result.dueTime||0),ye=b-u.value[w].duration,x=u.value[w],Z=await O(+n.result.pid),ae=new Date().getTime()/1e3;let de=null;+n.result.status==2?de=3:de=new Date().getTime()<b*1e3?1:2;let me=0;const P=Number(_e(n.result.loanAmount));if(ae<b-Number(Z)){const j=2*(P*x.rowInterestRate)/1e5;me=+t<1595?P:+ge(P+j)}else if(ae>=b-Number(Z)&&de===1){const j=Number(P*x.rowInterestRate)/1e5;me=+t<1595?P:+ge(P+j)}else if(ae>b){const{result:j}=await h(n.result.loanAmount.toString(),n.result.dueTime.toString(),Math.ceil(ae),x.rowPenaltyRate),Ze=P+Number(P*x.rowInterestRate/1e5)+Number(_e(j));me=+t<1595?P+Number(_e(j)):+ge(Ze)}return{interestRate:x.interestRate,loanId:t,...n.result,loanAmount:Q(ke(n.result.loanAmount)),collateralAmount:Q(ke(n.result.collateralAmount)),startTime:Ce(ye),endTime:Ce(b),loanStatus:de,loanLoading:!1,rolloverLoading:!1,overdueAmount:me}},He=async(t,n)=>{Y.value[n].loanLoading=!0;const w=await ee(t);Y.value[n].loanLoading=!1,w.success&&ce()},Qe=async(t,n)=>{Y.value[n].rolloverLoading=!0;const w=await re(t);Y.value[n].rolloverLoading=!1,w.success&&ce()},We=async()=>{l.tokenCollateralRates=await E()},Ge=()=>{C(!0)&&M.push("/ecology-liquidation")},Ke=async()=>{Ye(),C(!0)&&Xe()},Xe=async()=>{await ce()},Ye=async()=>{await g(),await ie(),await X(),await H(),await We(),await qe(),await _()};return Ie(()=>{Ke()}),(t,n)=>{const w=W("van-skeleton"),b=W("VanButton"),ye=W("VanField");return c(),y("div",fo,[F(mt,{showLoginAuth:!1}),F(ft,{icon:"images/ecology/stake.png",text:t.$t("ecology.calculateCurrency")},{default:k(()=>[e("div",vo,[e("div",po,[T(s(t.$t("ecology.lendingDuration"))+" ",1),e("div",{onClick:Ge,class:"flex items-center py-1 pl-3 pr-1 bg-[#FED73A] rounded-l-xl -mr-2"},[ho,e("span",go,s(t.$t("ecology.Loans to be liquidated")),1)])]),u.value.length===0?(c(),R(w,{key:0,class:"mb-3",row:3})):(c(),y("div",yo,[(c(!0),y(J,null,be(u.value.slice(1),(x,Z)=>(c(),R(b,{class:Re(["text-sm font-medium h-[35px] px-4 rounded pool-btn",{"hover-bg":x.pid===o.value}]),key:Z,onClick:ae=>Ue(x,+Z+1)},{default:k(()=>[T(s((q.value?i(we)(x.duration/q.value,!0):i(we)(x.duration))+t.$t("ecology.day")),1)]),_:2},1032,["class","onClick"]))),128))])),i(p)?(c(),y("div",_o,[wo,e("div",bo,[e("div",null,s(t.$t("ecology.borrowingCosts"))+"："+s(i(Q)(i(p).interestRate)||"-")+"% ",1),e("div",null,s(t.$t("ecology.Overdue penalty interest"))+"："+s(i(p).penaltyRate||"-")+"% ",1),e("div",null,s(t.$t("ecology.Additional",{day:i(se)[i(we)(i(p).duration)]||0}))+"："+s(i(Q)(i(p).interestRate)||"-")+"% ",1),e("div",null,s(t.$t("ecology.borrowingfeesreturn")),1)])])):A("",!0),e("section",null,[e("div",xo,[e("div",$o,s(t.$t("ecology.loanAmount")),1)]),e("div",Ao,[F(ye,{class:"text-[18px] bg-[#fff9f0] font-bold","input-align":"left",modelValue:f.value,"onUpdate:modelValue":n[0]||(n[0]=x=>f.value=x),type:"number",placeholder:t.$t("ecology.maxLoanAmount",{amount:i(je)||0})+"MUSD"},null,8,["modelValue","placeholder"]),e("div",Co,[(c(!0),y(J,null,be(i(l).percents,x=>(c(),y("div",{class:"text-xs text-oriange1 border border-solid border-oriange1 rounded-md px-1 py-[2px] hover:bg-[#ffcd89]",key:x.value,onClick:Z=>K(x.value)},s(x.name),9,ko))),128))])])]),e("div",Mo,[e("span",Do,s(t.$t("ecology.loan preview")),1),e("div",Fo,[e("div",To,s(t.$t("ecology.collateralAssets")),1),e("div",Lo,s(U(f.value*i(l).tokenCollateralRates||0))+" MAI ",1)]),e("div",So,[e("div",Vo,s(t.$t("ecology.mortgageable assets")),1),e("div",Io,s(i(ut)(i(Q)(i(l).maiBalance||0)))+" MAI ",1)]),e("div",Ro,[e("div",Bo,s(t.$t("ecology.collateralPrice")),1),e("div",Po,s(U((f.value||0)*i(l).tokenCollateralRates*xe.value))+" MUSD ",1)]),e("div",Eo,[e("div",No,s(t.$t("ecology.loanAmount")),1),e("div",Uo,s(f.value||0)+" MUSD",1)]),e("div",qo,[e("div",jo,s(t.$t("ecology.actualArrival")),1),e("div",zo,s(f.value||0)+" MUSD",1)])]),e("div",Oo,[F(b,{class:"btn h-[35px] min-w-[100px] px-4 mr-4",disabled:i(l).isAuthMai,loading:i(l).authLoading,onClick:r},{default:k(()=>[T(s(t.$t("assets.auth"))+" MAI",1)]),_:1},8,["disabled","loading"]),F(b,{class:"btn h-[35px] min-w-[100px] px-4",loading:pe.value,disabled:!i(l).isAuthMai||i(l).authLoading,onClick:ze},{default:k(()=>[T(s(t.$t("ecology.submitApplication")),1)]),_:1},8,["loading","disabled"])])]),i(C)(!1)?(c(),R(mo,{key:0,list:i(Y),loading:ue.value,authMusd:i(l).isAuthMusd,musdAllowance:I.value,authMusdLoading:i(l).authMusdLoading,onApproveMusd:m,onRepay:He,onRollover:Qe},null,8,["list","loading","authMusd","musdAllowance","authMusdLoading"])):A("",!0)]),_:1},8,["text"])])}}}),is=Me(Ho,[["__scopeId","data-v-aae02d8a"]]);export{is as default};
