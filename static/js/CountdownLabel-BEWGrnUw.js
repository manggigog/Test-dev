import{r as m,j as n,y as l,E as g,ab as h,G as S,U as x,O as p,H as M,Q as _}from"./vendor-Dr_RpJ_Y.js";const w={key:0,class:"w-[35px] whitespace-nowrap"},k={props:{startTime:{type:[String,Number],required:!0},endTime:{type:[String,Number],required:!1,default:null},duration:{type:Number,required:!0},durationType:{type:String,default:"minutes",validator:s=>["minutes","seconds","hours","days"].includes(s)},showZero:{type:Boolean,default:!1},doneText:{type:String,default:""}},emits:["done"],setup(s,{emit:f}){const e=s,i=m(n());let t=null;const v=l(()=>{if(e.endTime){const a=n(e.endTime),u=n();if(a.isAfter(u))return a}return n(e.startTime).add(e.duration,e.durationType)}),o=l(()=>{const r=v.value.diff(i.value);return Math.max(0,r)}),d=l(()=>{const r=o.value;if(r<=0)return e.showZero?"00:00":e.doneText||"";const a=n.duration(r),u=Math.floor(a.asMinutes()),y=a.seconds();return`${u.toString().padStart(2,"0")}:${y.toString().padStart(2,"0")}`}),c=m(null),T=()=>{i.value=n(),o.value<=0&&t&&c.value>0&&(clearInterval(t),t=null,f("done")),c.value=o.value};return g(()=>{i.value=n(),o.value>0&&(t=setInterval(T,1e3))}),h(()=>{t&&(clearInterval(t),t=null)}),(r,a)=>p(d)?(M(),S("div",w,_(p(d)),1)):x("",!0)}};export{k as _};
