import{_ as vt}from"./defaultPage2-CtOM-0xM.js";import{_ as Y,y as Z,r as i,x as N,bk as mt,a9 as Ee,F as _,G as u,H as o,X as pt,P as l,R as me,Q as r,w as Le,bc as z,E as j,a2 as x,O as I,bl as Ue,N as Q,a4 as ft,Y as Ae,Z as Me,D as pe,K as O,a0 as ne,ba as ht,bm as _t,T as ae,B as W,a1 as bt,I as gt,l as xt}from"./vendor-CjApaIpB.js";import{c as wt,i as yt,s as Ct}from"./convertToImage-Bh0gFo6J.js";import{r as qe,_ as Oe,e as kt,u as $t,O as Tt,P as Rt,b as Pe,Q as It}from"./index-DBW_ANsl.js";import{d as Ve}from"./active_empty-CBz3QrKQ.js";import{B as Bt}from"./BackIcon-D2Vm_lyR.js";import{g as St}from"./bill-6154jrAb.js";import{_ as Dt}from"./SelectShopPop-BD_GE1ZE.js";import{O as A}from"./offlineGoods-Biq4pIIG.js";import"./browser-DFlSdkZC.js";import"./upload-Dmj7KDGs.js";import"./close-DLkDHnDK.js";import"./shop-CeqcS6K2.js";const Nt="/Test-dev/static/images/arrow-down-oNIORcDn.svg",Qe="/Test-dev/static/images/avatarBig-3sFyHY3j.png",Ft={class:"w-[198px]"},Pt={class:"w-full h-full relative"},Vt={class:"w-full h-full flex items-center justify-center absolute left-0 top-0"},Et=Z({name:"Tabs"});function Lt(d,{emit:B}){const e=d,a={NEW:1,OLD:2},w=i(0),y=i(0),f=i(!1),c=i(0),b=i(0),S=N(()=>{if(!f.value)return e.tab===a.NEW?0:50;const C=(y.value-w.value)/c.value*100,X=b.value+C;return Math.max(0,Math.min(50,X))}),F=v=>{f.value=!0,w.value=v.touches[0].clientX,y.value=v.touches[0].clientX;const C=v.currentTarget;c.value=C.offsetWidth,b.value=e.tab===a.NEW?0:50},P=v=>{f.value&&(v.preventDefault(),y.value=v.touches[0].clientX)},D=()=>{if(!f.value)return;const v=25,C=S.value;f.value=!1,e.tab===a.NEW?C>v&&T(2):C<v&&T(1)},T=mt.throttle(v=>{e.disabled||v!==e.tab&&B("change",v)},300);return Ee(()=>{T.cancel()}),(v,C)=>(u(),_("div",Ft,[o("div",{class:"tabs__wrap w-full h-[30px] rounded-[50px] p-[2px] overflow-hidden",onTouchstart:F,onTouchmove:P,onTouchend:D},[o("div",Pt,[o("div",{class:"selected-tab w-[50%] h-full bg-[#212121] rounded-[50px] absolute left-0 transition-all duration-300",style:pt({left:`${l(S)}%`})},null,4),o("div",Vt,[o("div",{class:"w-[50%] h-full flex items-center justify-center overflow-hidden",onClick:C[0]||(C[0]=X=>l(T)(1))},[o("span",{class:me(["text-xs line-clamp-1 transition-all duration-300",[d.tab===a.NEW?"text-b6 font-semibold":"text-b3 font-normal"]])},r(v.$t("collect.personal_collect")),3)]),o("div",{class:"w-[50%] h-full flex items-center justify-center overflow-hidden",onClick:C[1]||(C[1]=X=>l(T)(2))},[o("span",{class:me(["text-xs line-clamp-1 transition-all duration-300",[d.tab===a.OLD?"text-b6 font-semibold":"text-b3 font-normal"]])},r(v.$t("collect.cashier_collect_tab")),3)])])])],32)]))}const Ut=Object.assign(Et,{props:{tab:{type:Number,default:1},disabled:{type:Boolean,default:!1}},emits:["change"],setup:Lt}),At=Y(Ut,[["__scopeId","data-v-7842be04"]]),Mt="/Test-dev/static/images/qr_assets-D3LZbPbn.png",je=d=>(Ae("data-v-32b43ab9"),d=d(),Me(),d),qt={class:"w-[100vw] max-w-[335px] rounded-none font-Puhui",id:"saveCollectQR"},Ot={class:"reactive qr-card__container"},Qt=je(()=>o("img",{class:"welcome-use",src:Mt,alt:"立牌头部图片",crossOrigin:"anonymous"},null,-1)),jt={class:"qr-code__content w-full flex flex-col justify-center items-center px-[44px] py-[30px] pb-[190px]"},zt={class:"w-full rounded-xl bg-[#FFFFFFE0] flex flex-col justify-center items-center p-[33px] relative z-10"},Wt={key:0,class:"cashier mt-3 font-bold text-b2"},Xt=je(()=>o("img",{class:"absolute bottom-0 left-4 right-0 z-0 overflow-hidden w-[90%]",src:Qe},null,-1)),Kt={key:0,class:"fixed left-0 w-full px-2.5 flex-center-bw top-1.5"},Gt={class:"ml-1 text-sm font-normal"},Ht=Z({props:{imgUrl:null,show:{type:Boolean},cashier:null},emits:["close","onSuccess"],setup(d,{emit:B}){const e=d,{t:a}=Le(),{loadingToggle:w}=qe();N(()=>e.imgUrl?e.imgUrl.startsWith("http")?e.imgUrl+"?"+new Date().getTime():Ve:Ve);const[y,f]=z(!1),c=()=>{B("close")},b=()=>{f(!0),w(!0),document.getElementById("saveCollectQR")?setTimeout(()=>{S()},500):setTimeout(()=>{S()},3e3)},S=async()=>{let P=document.getElementById("saveCollectQR");P.style.display="block";const D=await wt(P);await yt(D)&&Ct(D,"img")&&setTimeout(()=>{c(),f(!1),w(!1),B("onSuccess")},3e3)},F=()=>{navigator.clipboard.writeText(e.imgUrl)};return(P,D)=>{const T=j("van-icon"),v=j("VanButton");return e.show?(u(),_("div",{key:0,class:"popup-overlay",onClick:c},[o("div",{class:"popup-content",onClick:D[0]||(D[0]=ft(()=>{},["stop"]))},[o("div",qt,[o("div",Ot,[Qt,o("div",jt,[o("div",zt,[I(Ue,{class:"qr-code",value:d.imgUrl,background:"transparent",level:"M",onClick:F},null,8,["value"]),d.cashier?(u(),_("div",Wt,r(d.cashier),1)):x("",!0)])]),Xt]),l(y)?x("",!0):(u(),_("div",Kt,[I(v,{class:"text-sm h-[30px] min-w-[65px] rounded-2xl text-white share-btn",onClick:b},{default:Q(()=>[I(T,{name:"back-top",class:"rotate-180",size:"14"}),o("span",Gt,r(P.$t("common.save")),1)]),_:1}),o("div",{class:"share-btn w-[30px] h-[30px] rounded-full flex justify-center items-center text-white text-lg",onClick:c},[I(T,{name:"cross"})])]))])])])):x("",!0)}}}),Yt=Y(Ht,[["__scopeId","data-v-32b43ab9"]]),Zt={class:"flex items-center bg-[#fff8ec] rounded-[10px] mb-5 mt-2.5"},Jt={class:"flex-center"},es=Z({props:{show:{type:Boolean},scanAmount:null},emits:["close","submit"],setup(d,{emit:B}){const e=d,a=i(null),w=()=>{B("close")},y=()=>{B("submit",a.value)},f=()=>{a.value=0,y()};return pe(()=>{a.value=e.scanAmount||null}),(c,b)=>{const S=j("VanField"),F=j("VanButton");return u(),O(Oe,{show:e.show,name:c.$t("bill.set price title"),onClose:w},{default:Q(()=>[o("div",Zt,[I(S,{modelValue:a.value,"onUpdate:modelValue":b[0]||(b[0]=P=>a.value=P),class:"h-[45px] flex items-center bg-[#fff8ec] rounded-[10px] px-[8px] py-[15px]",min:0,max:999999.99,type:"number",border:!1,placeholder:c.$t("bill.set price placeholder")},null,8,["modelValue","max","placeholder"]),o("div",{onClick:f,class:"whitespace-nowrap px-[16px] text-[#F99C05] font-normal text-sm flex-shrink-0"},r(c.$t("common.reset")),1)]),o("div",Jt,[I(F,{class:"btn-border text-[#FEA021] w-[120px] h-[40px] mr-3",onClick:w},{default:Q(()=>[ne(r(c.$t("common.cancel")),1)]),_:1}),I(F,{disabled:a.value<0,class:"btn-orange text-white w-[120px] h-[40px]",block:"",onClick:y},{default:Q(()=>[ne(r(c.$t("common.confirm")),1)]),_:1},8,["disabled"])])]),_:1},8,["show","name"])}}}),ts=Y(es,[["__scopeId","data-v-2bb18d3f"]]),ss={class:"flex items-center bg-[#fff8ec] rounded-[10px] mb-5 mt-2.5"},os=["placeholder"],ls={class:"flex-center"},as=Z({props:{show:{type:Boolean},initialRatio:null},emits:["close","submit"],setup(d,{emit:B}){const e=d,a=i(null),w=()=>{B("close")},y=()=>{if(a.value<1||a.value>80){ae.fail("请输入1-80之间");return}const c=new W(a.value).integerValue();B("submit",c)},f=c=>{const b=c.target;parseInt(b.value)>100?a.value=100:a.value=parseInt(b.value)};return pe(()=>{}),(c,b)=>{const S=j("VanButton");return u(),O(Oe,{show:e.show,name:c.$t("bill.set ratio title"),onClose:w},{default:Q(()=>[o("div",ss,[ht(o("input",{"onUpdate:modelValue":b[0]||(b[0]=F=>a.value=F),class:"discount-input w-full h-[45px] flex items-center bg-[#fff8ec] rounded-[10px] px-[8px] py-[15px]",min:0,max:100,type:"number",inputmode:"numeric",placeholder:c.$t("bill.set ratio placeholder"),onInput:f},null,40,os),[[_t,a.value]])]),o("div",ls,[I(S,{class:"btn-border text-[#FEA021] w-[120px] h-[40px] mr-3",onClick:w},{default:Q(()=>[ne(r(c.$t("common.cancel")),1)]),_:1}),I(S,{disabled:a.value<0||a.value>100,class:"btn-orange text-white w-[120px] h-[40px]",block:"",onClick:y},{default:Q(()=>[ne(r(c.$t("common.confirm")),1)]),_:1},8,["disabled"])])]),_:1},8,["show","name"])}}}),ns=Y(as,[["__scopeId","data-v-4eb0bfb7"]]),J=d=>(Ae("data-v-9db837ac"),d=d(),Me(),d),is={class:"px-3 bg-gradient-to-b from-primary-004 to-yellow-002 font-Puhui"},rs={class:"grid py-[5px] grid-cols-[1fr_auto_1fr] items-center gap-2 z-10 relative"},cs={key:1,class:"text-base text-b1 font-bold"},us={key:0,class:"w-full h-[70%] flex flex-col justify-center items-center"},ds=J(()=>o("img",{src:vt,class:"w-[150px]",alt:"No data"},null,-1)),vs={class:"w-[150px] text-center mt-3 text-base font-normal",role:"button"},ms={class:"w-full mt-3 px-1 z-10 relative overflow-hidden 1145141919810"},ps={class:"flex justify-between items-center py-3 border-b border-[#F0F0F0]"},fs={key:0,class:"address__wrap"},hs={class:"text-lg font-bold text-b1 text-left line-clamp-1 max-w-[180px]"},_s={key:1},bs={key:2},gs={class:"text-lg font-bold text-b1 text-left line-clamp-1 max-w-[180px]"},xs=J(()=>o("img",{src:Nt,alt:"",class:"w-4 h-4 ml-[2px] cursor-pointer"},null,-1)),ws={class:"ratio__wrap whitespace-nowrap"},ys={class:"text-sm text-b3 font-normal"},Cs={class:"text-[#FF8812] text-lg font-bold"},ks={class:"qr-wrap flex flex-col justify-center items-center mt-4"},$s={key:0,class:"mb-3"},Ts={class:"text-base text-b1 font-semibold leading-[22px]"},Rs={key:0,class:"absolute top-[calc(50%-21px)] left-[calc(50%-21px)] p-1 w=[42px] h-[42px] bg-[#fefaf2]"},Is=["src"],Bs={key:1,class:"mt-3"},Ss={class:"text-[32px] h-[45px] font-bold text-b1 text-center leading-[45px]"},Ds={class:"mt-1.5"},Ns={class:"grid grid-cols-[auto_2px_auto_2px_auto] items-center gap-2 py-3"},Fs=J(()=>o("div",{class:"h-[10px] w-[1px] bg-gray2"},null,-1)),Ps=J(()=>o("div",{class:"h-[10px] w-[1px] bg-gray2"},null,-1)),Vs={class:"w-full mt-3 px-1 z-10 relative"},Es={class:"flex justify-between items-center rounded-xl voice-container px-3 py-4"},Ls={class:"text-sm text-b1 font-semibold"},Us=J(()=>o("img",{class:"absolute bottom-0 bottom-img left-4 z-0 overflow-hidden",src:Qe},null,-1)),As={style:{display:"none"}},Ms=Z({setup(d){const{t:B}=Le(),{accountStore:e}=kt(),{loadingToggle:a}=qe(),{getCurrentStoreId:w,forceGetCurrentStoreId:y}=$t(),f=bt(),c=xt(),b=i(!1),[S,F]=z(!0),[P,D]=z(!1),T=i(!1),[v,C]=z(!1),X=()=>{C(!0)},ze=()=>{C(!1)},[fe,ie]=z(!1),[he,ee]=z(!1),_e=i(!1),M=i(0),R=i(0),U=i(!1),V=i(null),L=i([]),K=i(null),te=i(!1),We=f.query.caddr,Xe=f.query.cnickname||"",Ke=f.query.role||"normal",re=i(We),se=i(Xe),k=i(Ke),m=i(1),g=i(null),G=i([]),oe=i(!1),Ge=async()=>{D(!0);const t=await Tt();D(!1),t.success&&(G.value=t.data||[],G.value.length>0&&(g.value=G.value[0]))},He=()=>{oe.value=!0},Ye=t=>{g.value=t,oe.value=!1,R.value=le.value[t.id]||t.discountRatio/100||0,M.value=0},Ze=t=>{var s,n;t===2?(G.value.length===0?T.value=!0:(T.value=!1,R.value=le.value[(s=g.value)==null?void 0:s.id]||((n=g.value)==null?void 0:n.discountRatio)/100||0),m.value=t):(R.value=0,xe(),T.value=!1,m.value=t),M.value=0},Je=N(()=>{var t,s,n,h;if(m.value===1){const p=(s=(t=e==null?void 0:e.store)==null?void 0:t.merchant)==null?void 0:s.toLowerCase(),$=(n=e==null?void 0:e.account)==null?void 0:n.toLowerCase();return p||$}else if(m.value===2)return(h=g.value)==null?void 0:h.merchant}),ce=N(()=>{var n,h,p,$,E;const t=window.location.origin+"/#/offlineSubmit",s=new URLSearchParams;if(s.set("address",Je.value),s.set("ratio",(R.value||0).toString()),(n=e==null?void 0:e.store)!=null&&n.id&&s.set("key",(h=e==null?void 0:e.store)==null?void 0:h.id.toString()),m.value===1){const ve=(p=e==null?void 0:e.store)!=null&&p.id?A.MPC:A.PPC;s.set("orderType",ve.toString())}return m.value===2&&(s.set("caddr",e.account),s.set("cname",encodeURIComponent((($=g.value)==null?void 0:$.nickname)||"--")),s.set("key",(E=g.value)==null?void 0:E.id),s.set("orderType",A.CPC.toString())),k.value==="cashier"&&(s.set("caddr",re.value||e.account),s.set("cname",encodeURIComponent(se.value)),s.set("orderType",A.CPC.toString())),s.set("amount",(M.value||0).toString()),`${t}?${s.toString()}`}),et=N(()=>ce.value.split("&amount")[0]),tt=N(()=>{var t;return((t=e==null?void 0:e.store)==null?void 0:t.storeName)||""});N(()=>{var t;return((t=e==null?void 0:e.store)==null?void 0:t.merchant)||""});const H=N(()=>{var t;return!!((t=e==null?void 0:e.store)!=null&&t.id)}),be=N(()=>{var t,s,n;return((s=(t=e==null?void 0:e.store)==null?void 0:t.merchant)==null?void 0:s.toLowerCase())===((n=e==null?void 0:e.account)==null?void 0:n.toLowerCase())}),ge=N(()=>{var n,h,p;let t={};const s={width:42,height:42};return k.value==="normal"?m.value===1&&((n=e==null?void 0:e.store)!=null&&n.logo)?t={src:e.store.logo+"?"+new Date().getTime(),...s}:m.value==2&&((h=g.value)!=null&&h.logo)?t={src:g.value.logo+"?"+new Date().getTime(),...s}:t={src:null,...s}:k.value==="cashier"?(p=e==null?void 0:e.store)!=null&&p.logo&&(t={src:e.store.logo+"?"+new Date().getTime(),...s}):t={src:null,...s},(!t.src||!t.src.includes("http"))&&(t.src=""),t}),st=N(()=>new W(R.value).multipliedBy(100).toString()),ue=N(()=>{var t;return!se.value||se.value=="undefined"?((t=g.value)==null?void 0:t.nickname)||"":se.value}),xe=async()=>{F(!0),await w(),H.value&&be.value?(await y(),R.value=new W(e.store.discountRatio).dividedBy(100).toNumber()):H.value&&k.value==="cashier"?R.value=new W(e.store.discountRatio).dividedBy(100).toNumber():!H.value&&k.value!=="cashier"&&(R.value=we.value||0),F(!1)},ot=async t=>{a(!0),M.value=t,a(!1),ie(!1)},le=i({}),we=i(.2),lt=async t=>{var s;_e.value=!0,R.value=t?t/100:.2,m.value===1?H.value&&k.value!=="cashier"||be.value?(await It({discountRatio:new W(R.value).multipliedBy(100).toNumber()}),await y()):!H.value&&k.value!=="cashier"&&(we.value=R.value):m.value===2&&(le.value[(s=g.value)==null?void 0:s.id]=R.value,console.log(le.value)),_e.value=!1},at=t=>{lt(t),ee(!1)},nt=async()=>{var s;if(e.isOnlyView)return ae(B("order.Requires merchant account operation"));const t=(s=await w())==null?void 0:s.merchant;U.value=!U.value,localStorage.setItem(`${t}_voice_status`,U.value.toString()),U.value?ye():(Ce(),V.value&&(V.value.pause(),V.value.currentTime=0),L.value=[],te.value=!1)},ye=()=>{K.value||(ke(),K.value=window.setInterval(ke,6e3))},Ce=()=>{K.value&&(clearInterval(K.value),K.value=null)},ke=async()=>{var Te,Re,Ie,Be,Se,De,Ne,Fe;const t=new Date().getTime();let s="",n="",h=null,p=[];m.value===1?(Te=e==null?void 0:e.store)!=null&&Te.merchant?(s=e.store.merchant,n=(Re=e.store.id)==null?void 0:Re.toString(),p=[A.MPC],h=re.value||e.store.merchant||null):(s=e.account,n="",h=null,p=[A.PPC]):m.value===2&&(s=(Ie=g.value)==null?void 0:Ie.merchant,n=(Se=(Be=g.value)==null?void 0:Be.id)==null?void 0:Se.toString(),h=e.account,p=[A.CPC]),k.value==="cashier"&&(s=(De=e==null?void 0:e.store)==null?void 0:De.merchant,n=(Fe=(Ne=e==null?void 0:e.store)==null?void 0:Ne.id)==null?void 0:Fe.toString(),h=re.value||e.account,p=[A.CPC]);const{success:$,data:E}=await Rt({page:1,size:99,orderTypes:p,merchantAddress:s,shopId:n,orderCashierAddress:h,readFlag:0});if(!$||!((E==null?void 0:E.records)||[]).length)return;const ve=E==null?void 0:E.records.filter(q=>new Date(q==null?void 0:q.payTime).getTime()>t-3e4),ut=new Set(L.value.map(q=>q.id)),dt=ve.filter(q=>!ut.has(q.id));L.value.push(...dt),!te.value&&L.value.length>0&&de()},de=async()=>{var s;if(!U.value||L.value.length===0){te.value=!1;return}const t=L.value[0];try{const n=`<speak>闪电猫到账<say-as interpret-as="currency">${t==null?void 0:t.orderRealAmount}</say-as>M-coin</speak>`,p=await St({text:n,voice:"xiaoyun"});p.success&&p.code===200&&V.value&&(V.value.src=(s=p.data)==null?void 0:s.data,V.value.play(),te.value=!0)}catch(n){console.error("获取语音URL失败:",n),$e(t.id)}},$e=async t=>{try{L.value=L.value.filter(s=>s.id!==t),de()}catch(s){console.error("标记已读失败:",s),de()}},it=()=>{navigator.clipboard.writeText(ce.value)},rt=()=>{c.push({path:"/sellerBill"})},ct=t=>{b.value=t};return pe(async()=>{f.query.from!=="clerk"&&(D(!0),await y(),D(!1)),k.value==="normal"&&Ge(),U.value&&ye(),V.value&&V.value.addEventListener("ended",()=>{L.value.length>0&&$e(L.value[0].id)}),xe(),window.addEventListener("eip6963:announceProvider",t=>{const s=t.detail.info;ct(s.name==="MetaKey")})}),Ee(()=>{Ce(),V.value&&V.value.removeEventListener("ended",()=>{}),window.dispatchEvent(new Event("eip6963:requestProvider"))}),(t,s)=>{var p;const n=j("van-loading"),h=j("van-switch");return u(),_("div",is,[o("div",rs,[I(Bt,{class:"text-b1"}),k.value==="normal"?(u(),O(At,{key:0,class:"ml-auto",tab:m.value,disabled:l(P),onChange:Ze},null,8,["tab","disabled"])):x("",!0),k.value==="cashier"?(u(),_("p",cs,r(t.$t("collect.cashier_collect")),1)):x("",!0),m.value===1&&k.value==="normal"?(u(),_("span",{key:2,class:"text-sm font-normal whitespace-nowrap text-b1 text-right max-w-[68px] ml-auto",onClick:rt},r(t.$t("shop.fundDetail")),1)):x("",!0)]),T.value?(u(),_("div",us,[ds,o("p",vs,r(t.$t("collect.no_shop")),1)])):(u(),_(gt,{key:1},[o("section",ms,[o("div",{class:me(["qr-container w-full h-full rounded-xl px-3 transition-transform duration-300",{"slide-left":m.value===1,"slide-right":m.value===2}])},[o("div",ps,[m.value===1?(u(),_("div",fs,[o("p",hs,[l(S)?(u(),O(n,{key:0,size:"16"})):x("",!0),l(e).store.id?(u(),_("span",_s,r(l(tt)||l(Pe)(l(e).store.merchant,"...",5,4)),1)):(u(),_("span",bs,r(l(Pe)(l(e).account,"...",5,4)),1))])])):x("",!0),m.value===2?(u(),_("div",{key:1,class:"address__wrap flex justify-start items-center",onClick:He},[o("p",gs,r(g.value.storeName),1),xs])):x("",!0),o("div",ws,[o("p",{onClick:s[0]||(s[0]=$=>l(ee)(!0))},[o("span",ys,r(t.$t("common.ratio"))+"：",1),o("span",Cs,[o("span",null,r(l(st))+"%",1)])])])]),o("div",ks,[(m.value===2||k.value==="cashier")&&l(ue)?(u(),_("div",$s,[o("p",Ts,r(l(ue)),1)])):x("",!0),o("div",{class:"w-[210px] h-[210px] relative flex justify-center items-center",onClick:it},[I(Ue,{value:l(ce),size:202,background:"transparent",level:"M"},null,8,["value"]),l(ge).src?(u(),_("div",Rs,[o("img",{class:"w-[33px] h-[33px]",src:l(ge).src},null,8,Is)])):x("",!0)]),M.value?(u(),_("div",Bs,[o("div",Ss,r(M.value||"0.0000")+" MC ",1)])):x("",!0)]),o("div",Ds,[o("div",Ns,[o("p",{class:"text-sm text-b3 font-normal text-center",onClick:X},r(t.$t("collect.save_this_collect_qr")),1),Fs,o("p",{class:"text-sm text-b3 font-normal text-center",onClick:s[1]||(s[1]=$=>l(e).isOnlyView?l(ae)(t.$t("order.Requires merchant account operation")):l(ie)(!0))},r(t.$t("collect.set_amount")),1),Ps,o("p",{class:"text-sm text-b3 font-normal text-center",onClick:s[2]||(s[2]=$=>l(e).isOnlyView?l(ae)(t.$t("order.Requires merchant account operation")):l(ee)(!0))},r(t.$t("collect.set_discount_ratio")),1)])])],2)]),o("section",Vs,[o("div",Es,[o("p",Ls,[o("span",null,r(t.$t("collect.voice_report")),1),o("span",null,r(U.value?t.$t("collect.open"):t.$t("collect.close")),1)]),I(h,{size:"20","active-color":"#FF8812","inactive-color":"#D9D9D9","model-value":U.value,"onUpdate:modelValue":nt},null,8,["model-value"])])])],64)),Us,I(Dt,{list:G.value,show:oe.value,shopId:(p=g.value)==null?void 0:p.id,onClose:s[3]||(s[3]=$=>oe.value=!1),onOnSelect:Ye},null,8,["list","show","shopId"]),l(fe)?(u(),O(ts,{key:2,show:l(fe),scanAmount:M.value,onLoading:l(a),onSubmit:ot,onClose:s[4]||(s[4]=()=>{l(ie)(!1)})},null,8,["show","scanAmount","onLoading"])):x("",!0),l(he)?(u(),O(ns,{key:3,show:l(he),initialRatio:new l(W)(R.value||0).multipliedBy(100).toNumber(),onClose:s[5]||(s[5]=()=>{l(ee)(!1)}),onSubmit:at},null,8,["show","initialRatio"])):x("",!0),l(v)?(u(),O(Yt,{key:4,show:l(v),imgUrl:l(et),cashier:m.value===2||k.value==="cashier"?l(ue):"",onClose:s[6]||(s[6]=$=>ze())},null,8,["show","imgUrl","cashier"])):x("",!0),o("div",As,[o("audio",{ref:($,E)=>{E.audioRef=$,V.value=$}},null,512)])])}}}),eo=Y(Ms,[["__scopeId","data-v-9db837ac"]]);export{eo as default};
