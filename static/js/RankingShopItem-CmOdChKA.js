import{y as x,K as k,F as c,G as s,r as h,z as N,E as D,O as v,_ as j,H as r,Q as f,R as F,P as C,a2 as R,I as L,a3 as M,a4 as T}from"./vendor-D6JO6WHW.js";import{L as V}from"./Lottie_v2-BPZUrIR3.js";import{g as E,b as P}from"./index-CybuWkSo.js";const z="/static/images/rank-vote-BOp99hG1.svg",A={key:2,src:z,class:"w-5 h-5"},G=x({props:{direction:null},setup(e){return(o,m)=>e.direction===200?(s(),k(V,{key:0,class:"w-5 h-5",path:"lottie/greenLight.json",ref:(a,t)=>{t.lottie=a},renderer:"svg"},null,512)):e.direction===400?(s(),k(V,{key:1,class:"w-5 h-5",path:"lottie/redLight.json",ref:(a,t)=>{t.lottie=a},renderer:"svg"},null,512)):(s(),c("img",A))}}),O={class:"text-[#4D2E0F] text-right text-[22px] font-BebasNeue"},_=x({props:{score:null},setup(e){const o=e,m=h(null),a=h(Math.floor(o.score||0)),t=h(null);return N(()=>o==null?void 0:o.score,(d,l)=>{t.value=Math.floor(d),a.value=Math.floor(l),setTimeout(()=>{var n;(n=m.value)==null||n.start()},150)},{immediate:!1,deep:!0}),(d,l)=>{const n=D("count-to");return s(),c("div",O,[v(n,{startVal:a.value,endVal:t.value,duration:2e3,autoplay:!1,ref:(i,u)=>{u.countToRef=i,m.value=i}},null,8,["startVal","endVal"])])}}}),K={class:"py-3 pl-2 pr-4 flex items-center gap-x-2"},Q={class:"flex-col text-left flex-1"},q={class:"text-[#7D3619] line-clamp-1"},J={class:"text-xs text-b3 mt-0.5"},U={class:"flex items-center justify-center gap-x-2"},W={class:"text-[#7D3619]"},X=x({props:{rankItem:null,showTip:{type:Boolean},noRank:{type:Boolean},hideScore:{type:Boolean},showPower:{type:Boolean}},emits:["voteShop","toDetail"],setup(e,{emit:o}){const{rankItem:m}=e;return(a,t)=>{var l,n,i,u,g,p,I,w,y,B,S,$,b;const d=D("van-image");return s(),c("div",K,[r("div",{class:F(["w-8 h-4 font-bold text-base text-center text-[#995C1F] index-number",{up:((l=e.rankItem)==null?void 0:l.preHeat)&&+((n=e.rankItem)==null?void 0:n.sort)<+((i=e.rankItem)==null?void 0:i.preHeat),down:((u=e.rankItem)==null?void 0:u.preHeat)&&+((g=e.rankItem)==null?void 0:g.sort)>+((p=e.rankItem)==null?void 0:p.preHeat)}])},f(+((I=e.rankItem)==null?void 0:I.sort)||"-"),3),r("div",{class:"flex-1 flex items-center",onClick:t[0]||(t[0]=H=>o("toDetail"))},[v(d,{round:"",fit:"cover",src:(((w=e.rankItem)==null?void 0:w.avatar)||((y=e.rankItem)==null?void 0:y.logo)||"").split()[0]||C(E)("images/avatarRing.png"),class:"w-[40px] h-[40px] mr-2 rounded-full object-cover"},null,8,["src"]),r("div",Q,[r("div",q,f(((B=e.rankItem)==null?void 0:B.storeName)||"-"),1),r("div",J,f(C(P)((S=e.rankItem)==null?void 0:S.shopAddress,"***",0,4)),1)])]),r("div",U,[e.hideScore?R("",!0):(s(),k(_,{key:0,score:($=e.rankItem)==null?void 0:$.score},null,8,["score"])),e.showPower?(s(),c(L,{key:1},[a.$slots.right?M(a.$slots,"right",{key:0},void 0,!0):(s(),c("div",{key:1,class:"text-xs flex items-center min-w-fit",onClick:t[1]||(t[1]=T(H=>o("voteShop"),["stop"]))},[v(G,{direction:(b=e.rankItem)==null?void 0:b.direction},null,8,["direction"]),r("span",W,f(a.$t("ranking.power")),1)]))],64)):R("",!0)])])}}}),te=j(X,[["__scopeId","data-v-8a76242a"]]);export{te as R,_,G as a};
