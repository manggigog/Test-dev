import{_ as v,o as w,x as I,q as _,F as k,G as a,H as n,I as e,U as c,P as S,a4 as q,Q as s,V as A,O as C,a3 as R,X as j,Y as D,T as l}from"./vendor-Dr_RpJ_Y.js";import{_ as V}from"./MCOIN-Bodfn-v1.js";import{ar as T,as as B}from"./index-LRhcxFAI.js";const F=""+new URL("../images/add-Bj4XIqzr.svg",import.meta.url).href,N=""+new URL("../images/theme1-u-B4ftxWpS.png",import.meta.url).href,U=""+new URL("../images/theme2-u-DaKqH4sV.png",import.meta.url).href,$=""+new URL("../images/theme3-u-D6Rgj3kV.png",import.meta.url).href,r=t=>(j("data-v-6cfea335"),t=t(),D(),t),L={class:"goods-image"},z={key:0,class:"absolute top-0 left-0 z-10 flex items-center justify-center w-full h-full text-sm text-white whitespace-nowrap bg-black/50"},E=r(()=>e("span",{class:"mr-0.5"},"·",-1)),G=r(()=>e("span",{class:"ml-0.5"},"·",-1)),O={class:"absolute top-0 left-0 w-full h-full"},P=["src"],H={class:"goods-info"},M={class:"goods-name text-b1 font-semibold text-base line-clamp-1"},X={class:"tag-list mt-2 flex flex-wrap gap-1"},K={key:0,class:"tag-item text-[#FF8812] text-xxs font-normal"},Q={key:1,class:"tag-item text-[#FF8812] text-xxs font-normal"},W={class:"goods-price-line mt-2 flex justify-between items-center"},Y={class:"goods-price flex justify-start items-center"},J={class:"currency"},Z=["src"],tt={class:"amount ml-1 text-b1 text-sm font-semibold"},et={class:"ml-1 text-b3 text-xs font-normal line-through"},st=r(()=>e("img",{src:F,class:"w-5 h-5",alt:""},null,-1)),ot=[st],at={props:{goods:{type:Object,default:()=>{}}},setup(t){const h=t,m=w(),{t:u}=I(),g=_(),f=T(),x={1:N,2:U,3:$},p={1:{position:"absolute",bottom:"14px",left:"0",right:"0",margin:" 0 auto",textAlign:"center"},2:{position:"absolute",bottom:"8px",left:"0",right:"0",margin:" 0 auto",textAlign:"center"},3:{position:"absolute",bottom:"7px",left:"7px",right:"0",textAlign:"left"}},b=()=>{g.push({path:"/goodsDetail",query:{id:h.goods.goodsId}})},y=async o=>{if(o.stock===0&&o.goodsTypes!=2){l(u("order.Insufficient stock"));return}l.loading({duration:0});const i={needlogin:"true",...m.query};g.replace({path:m.path,query:i});const d=await B(o.id);l.clear(),d.success&&(l(u("cart.addTips")),f.getCartCount())};return(o,i)=>{const d=k("van-image");return n(),a("div",{key:t.goods.id,class:"goods-card relative",onClick:b},[e("div",L,[t.goods.activityStock<=0?(n(),a("div",z,[E,q(" "+s(o.$t("goods.act Sold Out")),1),G])):c("",!0),S(d,{width:"100%",height:"100%",src:t.goods.goodsIcons&&t.goods.goodsIcons.split(",")[0]||o.getImage("images/activity/boutique/squre_empty.png"),fit:"cover"},null,8,["src"]),e("div",O,[t.goods.labelId?(n(),a("img",{key:0,src:x[t.goods.labelId],class:"goods-theme w-full h-full object-fill"},null,8,P)):c("",!0),e("span",{class:"goods-slogan absolute text-b6 test-sm",style:A(p[t.goods.labelId])},s(t.goods.slogan||`满${t.goods.fullAmount||0}减${t.goods.reduceAmount||0}`),5)])]),e("div",H,[e("p",M,s(t.goods.goodsName),1),e("div",X,[t.goods.goodsDiscountRatio?(n(),a("div",K," 让利"+s(t.goods.goodsDiscountRatio)+"% ",1)):c("",!0),t.goods.fullAmount?(n(),a("div",Q," 满"+s(t.goods.fullAmount||0)+"-"+s(t.goods.reduceAmount||0),1)):c("",!0)]),e("div",W,[e("div",Y,[e("span",J,[e("img",{src:C(V),alt:"MC",class:"w-4 h-4"},null,8,Z)]),e("span",tt,s(t.goods.activityPrice),1),e("span",et,s(t.goods.goodsPrice),1)]),e("div",{class:"add-cart",onClick:i[0]||(i[0]=R(nt=>y(t.goods),["stop"]))},ot)])])])}}},dt=v(at,[["__scopeId","data-v-6cfea335"]]);export{dt as G};
