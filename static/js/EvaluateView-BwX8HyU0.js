import{_ as y}from"./avatarRing-DpEnkbQ2.js";import{y as x,w as E,a1 as F,r as m,x as S,D as V,E as h,K as k,G as c,N as B,H as e,O as u,Q as a,F as v,a2 as I,P as i,I as A,J as D,T as p,br as P}from"./vendor-BUT0HZ5j.js";import{C as N}from"./CommonVanProvider-BpsZUrD3.js";import{b as $,l as T,bN as R}from"./index-DDhEkd_5.js";import"./BackIcon-biFt6cm7.js";const j={class:"content__wrap px-3 pb-20 flex flex-col gap-3 overflow-y-auto"},z={class:"w-full rounded-xl bg-white"},G={class:"p-2.5 bg-white rounded-xl font-normal flex"},L={class:"flex-1 mx-2.5 flex flex-col min-h-[5rem] justify-between"},U={class:"text-sm leading-[1.57rem]"},q={class:"font-bold text-black line-clamp-1"},H={class:"flex items-center text-sm text-black-400"},J={class:"mr-1"},K={class:"flex items-center mt-2 text-sm text-black-400"},M={class:"mr-1"},O={class:"w-full min-h-[140px] p-3 rounded-xl bg-white"},Q={class:"flex items-center justify-between"},W={class:"flex items-center"},X=e("div",{class:"w-[30px] h-[30px]"},[e("img",{src:y,class:"w-full h-full rounded-md",alt:"",fit:"cover"})],-1),Y={class:"ml-1"},Z={class:"text-b1"},ee={class:"text-b3 text-xs"},te={class:"mt-3"},se={class:"w-full p-2 rounded-lg text-sm font-normal text-b1"},oe={key:0,class:"mt-3"},ae={class:"flex flex-wrap gap-2"},le=["src","onClick"],ne=x({name:"EvaluateDetail"});function re(ce){const{t:_}=E(),g=F();m(!1);const n=m(null),s=m({commentStar:0,commentShopStar:0,commentContent:"",commentPics:""}),w=async()=>{if(n.value)try{const t=await R({id:n.value});t.success&&t.data?s.value=t.data||{}:p(_("common.load_failed"))}catch(t){console.error("获取评价详情失败:",t),p(_("common.load_failed"))}},d=S(()=>{const t=s.value.commentPics||"";return t?t.split(",")||[]:[]}),b=t=>{P({images:d.value,closeable:!0,showIndex:!0,startPosition:t})};return V(()=>{var t;n.value=(t=g.query)==null?void 0:t.id,n.value&&w()}),(t,l)=>{const C=h("VanImage"),f=h("van-rate");return c(),k(N,{title:t.$t("evaluate.Evaluation details"),class:"bg-[#F2F0EF] font-Puhui font-normal relative app-container","theme-vars":{"field-placeholder-text-color":"#A6A6A6",navBarBackgroundColor:"#F2F0EF"},ref:(o,r)=>{r.EvaluateDetailRef=o}},{default:B(()=>[e("section",j,[e("div",z,[e("div",G,[u(C,{src:(s.value.relIcons||"").split(",")[0],class:"w-20 h-20 overflow-hidden rounded-xl",fit:"cover"},null,8,["src"]),e("div",L,[e("div",U,[e("div",q,a(s.value.relName||s.value.shopName||""),1)]),e("div",null,[e("div",H,[e("span",J,a(t.$t("evaluate.service Rating")),1),u(f,{readonly:"","allow-half":"",modelValue:s.value.commentStar,"onUpdate:modelValue":l[0]||(l[0]=o=>s.value.commentStar=o),size:20,color:"#FEA021"},null,8,["modelValue"])]),e("div",K,[e("span",M,a(t.$t("evaluate.Store Rating")),1),u(f,{readonly:"","allow-half":"",modelValue:s.value.commentShopStar,"onUpdate:modelValue":l[1]||(l[1]=o=>s.value.commentShopStar=o),size:20,color:"#FEA021"},null,8,["modelValue"])])])])])]),e("div",O,[e("div",Q,[e("div",W,[X,e("div",Y,[e("div",Z,a(i($)(s.value.orderCustomerAddress,"...",5,5)),1),e("div",ee,a(i(T)(s.value.commentTime))+" "+a(t.$t("evaluate.evaluate")),1)])])]),e("div",te,[e("div",se,a(s.value.commentContent||t.$t("evaluate.The user has not filled in the text")),1)]),i(d).length>0?(c(),v("div",oe,[e("div",ae,[(c(!0),v(A,null,D(i(d),(o,r)=>(c(),v("img",{key:r,src:o,alt:"eva img",class:"w-full object-cover",onClick:ie=>b(r)},null,8,le))),128))])])):I("",!0)])])]),_:1},8,["title"])}}const fe=x({...ne,setup:re});export{fe as default};
