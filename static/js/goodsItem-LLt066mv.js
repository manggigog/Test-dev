import{_ as p,a1 as y,w as I,l as _,E as w,F as a,G as i,H as s,a2 as c,O as k,a0 as q,Q as e,X as A,P as T,a4 as S,Y as j,Z as C,T as l}from"./vendor-CjApaIpB.js";import{_ as D}from"./MCOIN-BcbOHmhy.js";import{q as V}from"./cart-BIjmsZJP.js";const B="/Test-dev/static/images/add-Bj4XIqzr.svg",F="/Test-dev/static/images/theme1-u-B4ftxWpS.png",N="/Test-dev/static/images/theme2-u-DaKqH4sV.png",R="/Test-dev/static/images/theme3-u-D6Rgj3kV.png",g=t=>(j("data-v-708790e5"),t=t(),C(),t),E={class:"goods-image"},$={key:0,class:"absolute top-0 left-0 z-10 flex items-center justify-center w-full h-full text-sm text-white whitespace-nowrap bg-black/50"},z=g(()=>s("span",{class:"mr-0.5"},"·",-1)),G=g(()=>s("span",{class:"ml-0.5"},"·",-1)),O={class:"absolute top-0 left-0 w-full h-full"},P=["src"],H={class:"goods-info"},M={class:"goods-name text-b1 font-semibold text-base line-clamp-1"},X={class:"tag-list mt-2 flex flex-wrap gap-1"},K={key:0,class:"tag-item text-[#FF8812] text-xxs font-normal"},Q={key:1,class:"tag-item text-[#FF8812] text-xxs font-normal"},W={class:"goods-price-line mt-2 flex justify-between items-center"},Y={class:"goods-price flex justify-start items-center"},Z={class:"currency"},J=["src"],L={class:"amount ml-1 text-b1 text-sm font-semibold"},U={class:"ml-1 text-b3 text-xs font-normal line-through"},tt=g(()=>s("img",{src:B,class:"w-5 h-5",alt:""},null,-1)),st=[tt],et={props:{goods:{type:Object,default:()=>{}}},setup(t){const h=t,m=y(),{t:r}=I(),u=_(),f={1:F,2:N,3:R},x={1:{position:"absolute",bottom:"14px",left:"0",right:"0",margin:" 0 auto",textAlign:"center"},2:{position:"absolute",bottom:"8px",left:"0",right:"0",margin:" 0 auto",textAlign:"center"},3:{position:"absolute",bottom:"7px",left:"7px",right:"0",textAlign:"left"}},v=()=>{u.push({path:"/goodsDetail",query:{id:h.goods.goodsId}})},b=async o=>{if(o.stock===0&&o.goodsTypes!=2){l(r("order.Insufficient stock"));return}l.loading({duration:0});const n={needlogin:"true",...m.query};u.replace({path:m.path,query:n});const d=await V(o.id);l.clear(),d.success&&l(r("cart.addTips"))};return(o,n)=>{const d=w("van-image");return i(),a("div",{key:t.goods.id,class:"goods-card relative",onClick:v},[s("div",E,[t.goods.activityStock<=0?(i(),a("div",$,[z,q(" "+e(o.$t("goods.act Sold Out")),1),G])):c("",!0),k(d,{width:"100%",height:"100%",src:t.goods.goodsIcons&&t.goods.goodsIcons.split(",")[0]||o.getImage("images/activity/boutique/squre_empty.png"),fit:"cover"},null,8,["src"]),s("div",O,[t.goods.labelId?(i(),a("img",{key:0,src:f[t.goods.labelId],class:"goods-theme w-full h-full object-fill"},null,8,P)):c("",!0),s("span",{class:"goods-slogan absolute text-b6 test-sm",style:A(x[t.goods.labelId])},e(t.goods.slogan||`满${t.goods.fullAmount||0}减${t.goods.reduceAmount||0}`),5)])]),s("div",H,[s("p",M,e(t.goods.goodsName),1),s("div",X,[t.goods.goodsDiscountRatio?(i(),a("div",K," 让利"+e(t.goods.goodsDiscountRatio)+"% ",1)):c("",!0),t.goods.fullAmount?(i(),a("div",Q," 满"+e(t.goods.fullAmount||0)+"-"+e(t.goods.reduceAmount||0),1)):c("",!0)]),s("div",W,[s("div",Y,[s("span",Z,[s("img",{src:T(D),alt:"MC",class:"w-4 h-4"},null,8,J)]),s("span",L,e(t.goods.activityPrice),1),s("span",U,e(t.goods.goodsPrice),1)]),s("div",{class:"add-cart",onClick:n[0]||(n[0]=S(ot=>b(t.goods),["stop"]))},st)])])])}}},ct=p(et,[["__scopeId","data-v-708790e5"]]);export{ct as G};
