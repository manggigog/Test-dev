import{_,z as h,x as b,a2 as w,r as x,F as l,Z as V,H as C,$ as r,P as d,a4 as I,Q as y,O as A,u as N,T as P}from"./vendor-Dr_RpJ_Y.js";import{m as $,y as B}from"./index-BckdT6oc.js";import{g as T}from"./nft-BllngvQD.js";const k=h({props:{show:{type:Boolean}},emits:["close","register","onSuccess"],setup(i,{emit:n}){const{registration:c}=$(),{t:u}=b(),[m,o]=w(!1),e=x(null),p=()=>{n("close"),e.value=null},f=async()=>{o(!0);let a=e.value;if(N.isAddress(e.value))a=e.value;else if(!isNaN(Number(e.value))&&e.value.trim()!==""){const{data:t}=await T({id:e.value});a=t}else{o(!1),P(u("errorMsg.invalid id"));return}const s=await c(a);o(!1),s.success&&n("onSuccess")};return(a,s)=>{const t=l("VanField"),v=l("van-button");return C(),V(B,{show:i.show,name:a.$t("home.addParentId"),onClose:p},{default:r(()=>[d(t,{modelValue:e.value,"onUpdate:modelValue":s[0]||(s[0]=g=>e.value=g),clearable:"",placeholder:a.$t("home.addParentId"),class:"input-box"},null,8,["modelValue","placeholder"]),d(v,{class:"w-full mx-auto mt-2 text-white btn-orange btn-shadow",onClick:f,loading:A(m),disabled:!e.value},{default:r(()=>[I(y(a.$t("common.confirm")),1)]),_:1},8,["loading","disabled"])]),_:1},8,["show","name"])}}}),D=_(k,[["__scopeId","data-v-ceb72738"]]);export{D as A};
