import{z as g,q as N,r as R,y as b,B as c,E as B,F as $,G as a,H as r,I as e,a1 as j,a3 as v,O as i,Q as o,J as I,K as O,U as w,P as E}from"./vendor-Dr_RpJ_Y.js";import{_ as P}from"./MCOIN-Bodfn-v1.js";import{_ as F}from"./USDT-Dlu99aCg.js";import{u as L,p as D}from"./useOrderStatus-Ch6Txdaf.js";import{P as M}from"./order-H59PKTFP.js";import{e as d,c as V}from"./index-LRhcxFAI.js";import{P as k}from"./flashSale-DDyqLyYN.js";import{u as U}from"./useShipTemplate-Cz7Cav1B.js";import{d as q}from"./default-avatar-BIKCDGrQ.js";const G={class:"p-3 mt-3 bg-white rounded-xl font-Puhui"},z={class:"flex justify-between"},H={class:"flex items-center overflow-hidden"},J=["src"],K={class:"text-base font-semibold text-b1 line-clamp-1 ml-1"},Q={class:"shrink-0 max-w-[120px] font-semibold text-[#FF8812] text-sm line-clamp-1"},W={class:"flex w-full gap-3"},X={class:"w-[calc(100%-40px-60px)] flex-1 flex flex-col min-h-[5rem] justify-between"},Y={class:"flex items-baseline justify-between font-semibold"},Z={class:"text-base text-b1 font-semibold line-clamp-1 text-ellipsis"},ee={class:"text-sm text-b3 font-normal mt-1"},te={key:0,class:"flex justify-between mt-2"},se={class:"text-sm font-normal text-b3 line-clamp-1"},oe={key:0},ne={key:1},ae={class:"text-[#FF8812] text-sm font-normal font-Puhui"},re={key:0},ie={key:0},le={key:1,class:"text-b1 text-sm flex-start gap-1"},ce=e("img",{src:P,class:"w-4 h-4 mr-[3px]",alt:"MCOIN"},null,-1),de={class:"font-semibold"},me={key:1,class:"flex items-center flex-nowrap"},ue={class:"text-b1 text-sm flex-start gap-1"},pe=e("img",{src:F,class:"w-4 h-4 mr-[3px]",alt:"USDT"},null,-1),fe={class:"font-semibold"},he={key:0},xe={key:1,class:"text-b1 text-sm flex-start gap-1 flex-nowrap"},_e=e("span",null,"(",-1),ye=e("img",{src:P,class:"w-4 h-4 mr-[3px]",alt:"MCOIN"},null,-1),be={class:"font-semibold"},ve=e("span",null,")",-1),we={key:0,class:"mt-1 flex-center-bw"},ke={class:"text-sm font-normal text-b3 line-clamp-1"},Pe={class:"flex items-center text-sm font-normal text-b3 line-clamp-1"},Ie=g({props:{order:null,isList:{type:Boolean},showPrice:{type:Boolean,default:!0},showShippingTemplate:{type:Boolean,default:!1}},setup(s){const p=s,T=N(),f=R(null),m=b(()=>1/f.value),A=async()=>{const{mcoinRate:t}=V();f.value=await t()};b(()=>{var t;return!((t=p.order)!=null&&t.totalAmount)||!m.value?0:new c(p.order.totalAmount).times(m.value).toNumber()});const h=t=>{T.push(t)},{getExpressTypeText:S}=U(),x=t=>{const l=new c(t.price).times(t.number).minus(t.goodsActivityReduceAmount||0).plus(t.goodsAdjustChangeAmount||0).toNumber();return d(l||0)},C=t=>{const l=new c(t.price).times(t.number).minus(t.goodsActivityReduceAmount||0).plus(t.goodsAdjustChangeAmount||0).times(m.value).toNumber();return d(l||0)};return B(async()=>{await A()}),(t,l)=>{const u=$("VanImage");return r(),a("div",G,[e("div",z,[e("div",{class:"flex-start",onClick:l[0]||(l[0]=v(n=>h(`/category?deliveryType=1&shopId=${s.order.stores.id}`),["stop"]))},[e("div",H,[e("img",{src:s.order.stores.logo||i(q),class:"flex-shrink-0 w-[30px] h-[30px] rounded-full object-cover"},null,8,J),e("div",K,o(s.order.stores.storeName||"--"),1)])]),e("div",Q,o(i(L)(s.order)),1)]),(r(!0),a(I,null,O(s.order.orderGoods,n=>{var _,y;return r(),a("div",{class:"mt-4",key:n.goodsName},[e("div",null,[e("div",W,[E(u,{onClick:v(Te=>h(`/buyerOrderList/detail?id=${n.goodsId}`),["stop"]),src:(n.icons||"").split(",")[0],class:"shrink-0 w-20 h-20 overflow-hidden rounded-[8px]",alt:"",fit:"cover"},null,8,["onClick","src"]),e("div",X,[e("div",null,[e("div",Y,[e("div",Z,o(n.goodsName),1)]),e("div",ee,o(t.$t("order.quantity",{number:n.number||0})),1)]),s.showPrice?(r(),a("div",te,[e("span",se,[s.order.paySource?(r(),a("span",oe,o(i(D)(+s.order.paySource)),1)):(r(),a("span",ne,o(t.$t("order.payAmount"))+" :",1))]),e("div",ae,[+s.order.paySource!==i(M).USDT_WALLET?(r(),a("div",re,[s.order.payType===i(k).STORE_CARD?(r(),a("span",ie,o(i(d)(+new i(c)(n.cardPrice).times(n.number??1)||0))+" "+o((_=s.order.fmStoredCard)==null?void 0:_.symbol),1)):(r(),a("span",le,[ce,e("span",de,o(x(n)),1)]))])):(r(),a("div",me,[e("span",ue,[pe,e("span",fe,o(C(n)),1)]),s.order.payType===i(k).STORE_CARD?(r(),a("span",he," ("+o(i(d)(+new i(c)(n.cardPrice)||0))+" "+o((y=s.order.fmStoredCard)==null?void 0:y.symbol)+") ",1)):(r(),a("span",xe,[_e,ye,e("span",be,o(x(n)),1),ve]))]))])])):w("",!0)])]),s.showShippingTemplate&&n.shippingTemplateType?(r(),a("div",we,[e("div",ke,o(t.$t("order.expressPrice")),1),e("div",Pe,o(i(S)(n)),1)])):w("",!0)])])}),128)),j(t.$slots,"default")])}}});export{Ie as _};
