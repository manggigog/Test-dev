import{r as x,y as H,_ as J,z as q,x as ne,o as se,E as X,ab as Ae,G as F,H as I,I as r,J as Z,K as ye,V as we,O as o,U as A,Q as S,X as re,Y as ae,P as O,a2 as P,F as z,Z as j,$ as B,a4 as V,a0 as Le,T as G,q as Ue,D as Be,bl as De,bm as Pe,N as Ce}from"./vendor-Dr_RpJ_Y.js";import{U as g,M as He,a as Ve,b as ze}from"./Merchant-BL00IUKL.js";import{Y as b,a as Y,w as qe,$ as le,U as Ge,f as Ie,y as Se,b as je,m as Je,c as Xe}from"./index-7OiUoGXy.js";import{a as Ye}from"./activityContract-bcX9y4nM.js";import{P as M}from"./profileEnum-CXsMKuND.js";import{q as Ke,o as Qe}from"./order-D0_No2Ew.js";import{g as Ze}from"./notice-BxuRbrZw.js";import{f as We}from"./mall-BRPa8DWq.js";import{q as et}from"./payHelp-CYFZHRwW.js";import{c as tt}from"./innerService-9vavUSxi.js";import{_ as ot}from"./close-BkqxFSX4.js";import{b as nt,I as st}from"./LevelPop-B4eI1OT2.js";import{s as rt,i as at,b as lt,c as _e,u as it,d as ut,e as ct}from"./user-DxDy-AJj.js";import{_ as pt}from"./RecommendationFeed-Cd9QsTZk.js";import{A as dt}from"./AddParentIdPop-Cd9mbKBz.js";import"./avatarRing2-Ckr5tuam.js";import"./level-mfpPkzkt.js";import"./offlineGoods-DvT2Go6q.js";import"./UpgradeStorePop-DDTu8e9B.js";import"./BoutiqueLable-DDlxeK08.js";import"./shop-CeqcS6K2.js";import"./level-Slm86KHn.js";import"./GoodsItem-Lg__8eri.js";import"./buy-cart-m4kq4Bzt.js";import"./goods-BVwS8oFG.js";import"./ShopMaskTips-ClYuWX9C.js";import"./GoodsPrice-Dz5PcG19.js";import"./MCOIN-Bodfn-v1.js";import"./WaterFull-BoFTr9ol.js";/* empty css                                                              */import"./useShowActiveInfo-BV_mozbF.js";import"./nft-D_Chzc_m.js";const ft=""+new g("../images/lock-info-eOzJ2HB0.svg",import.meta.url).href,mt=()=>{const{secondConfirmView:n}=Ye(),v=x(0),e=x([]),C=x(!1),_=x("");let u=null;const $=()=>Math.floor(Date.now()/1e3),N=H(()=>{const s=$();return v.value>s}),l=H(()=>{if(!e.value||e.value.length===0)return 0;const s=$();return e.value.filter(m=>(m.toNumber?m.toNumber():m)>s).length}),f=H(()=>{var s;return((s=e.value)==null?void 0:s.length)||0}),i=s=>{if(s<=0)return"";const m=Math.floor(s/86400),k=Math.floor(s%86400/3600),a=Math.floor(s%3600/60),d=s%60;return m>0?`${m}天${k}小时${a}分钟`:k>0?`${k}小时${a}分钟${d}秒`:a>0?`${a}分钟${d}秒`:`${d}秒`},c=()=>{const s=$(),m=v.value-s;m>0?_.value=i(m):(_.value="",u&&(clearInterval(u),u=null))},p=()=>{u&&clearInterval(u),c(),N.value&&(u=setInterval(()=>{c()},1e3))},y=()=>{u&&(clearInterval(u),u=null),_.value=""};return{isFrozen:N,validAuthCount:l,totalAuthCount:f,loading:C,frozenTime:v,agreeExpired:e,frozenCountDownText:_,fetchVerifyStatus:async(s=null,m=!0)=>{try{C.value=!0;const k=await n(s);if(k.success){const{frozen:a,agreeExpired:d}=k.result||{};if(v.value=(a==null?void 0:a.toNumber())||0,e.value=d||[],m){const E=$();v.value>E?p():y()}}return k}catch(k){throw console.error("获取验证状态失败:",k),v.value=0,e.value=[],y(),k}finally{C.value=!1}},startCountdown:p,stopCountdown:y,cleanup:()=>{y()}}},vt=n=>(re("data-v-5165f28e"),n=n(),ae(),n),ht={class:"w-full h-fit py-[16px] px-[12px] bg-white rounded-[12px] flex flex-wrap font-Puhui"},gt=["onClick"],xt={class:"relative"},yt=["src"],wt={key:0,class:"absolute top-[-5px] right-[1px] translate-x-1/2 min-w-[6px] w-fit h-[14px] px-1 bg-[#F44] rounded-[12px] text-white text-[10px] leading-[14px] font-normal text-center border-[1px] border-solid border-white box-content"},Ct={key:1,class:"absolute top-[-5px] right-[1px] translate-x-1/2 min-w-[6px] w-fit h-[14px] px-1 bg-[#F44] rounded-[12px] text-white text-[10px] leading-[14px] font-normal text-center border-[1px] border-solid border-white box-content"},_t={key:2,class:"absolute top-[-5px] right-[1px] translate-x-1/2 min-w-[6px] w-fit h-[14px] px-1 bg-[#F44] rounded-[12px] text-white text-[10px] leading-[14px] font-normal text-center border-[1px] border-solid border-white box-content"},It={key:3,class:"absolute top-[-5px] right-[1px] translate-x-1/2 min-w-[6px] w-fit h-[14px] px-1 bg-[#F44] rounded-[12px] text-white text-[10px] leading-[14px] font-normal text-center border-[1px] border-solid border-white box-content"},St={class:"mt-[4px] text-[14px] text-[#2E2008] font-normal font-Puhui leading-[20px] text-center"},bt={class:"mt-[16px] w-full h-fit py-[16px] px-[12px] bg-white rounded-[12px] flex flex-wrap font-Puhui"},$t=["onClick"],Tt={class:"relative"},Nt=["src"],Ot={key:0,class:"absolute top-[-5px] right-[-6px]"},Ft=vt(()=>r("img",{src:ft,alt:"冻结提示",class:"w-[14px] h-[14px]"},null,-1)),Et=[Ft],kt={class:"mt-[4px] text-[14px] text-[#2E2008] font-normal font-Puhui leading-[20px] text-center"},Rt=q({props:{unreadCount:null,messageCount:null,payhelpCount:null,serviceUnread:null},emits:["handleMenu"],setup(n,{emit:v}){const{t:e}=ne(),{isFrozen:C,fetchVerifyStatus:_}=mt(),u=w=>w===0?0:w>99?"99+":w,$=se(),N=H(()=>{var w;return((w=$.query)==null?void 0:w.tab)||"online"}),l=H(()=>[{text:e("user.payRecord"),img:b("profile2/consumerOption/PaymentHistory.svg"),type:g.INTERNL,url:"/buyerBill"},{text:e("user.pointsDetails"),img:b("profile2/consumerOption/PointsChangeDetails.svg"),type:g.INTERNL,url:"/integralDetail"},{text:e("user.balanceDetails"),img:b("profile2/consumerOption/BalanceChangeDetails.svg"),type:g.INTERNL,url:" /balanceDetail"},{text:e("profile.collect"),img:b("profile2/consumerOption/GoodsCollect.svg"),type:g.INTERNL,url:"/goodsCollect"},{text:e("collect.shopsCollect"),img:b("profile2/consumerOption/ShopAttention.svg"),type:g.INTERNL,url:"/shopsCollect"},{text:e("order.receive address"),img:b("profile2/consumerOption/DeliveryAddress.svg"),type:g.INTERNL,url:"/userAddress"},{text:e("voucher.voucher"),img:b("profile2/consumerOption/Vouchers.svg"),type:g.INTERNL,url:"/voucher"},{text:e("profile.announcement"),img:b("profile2/consumerOption/Announcement.svg"),type:g.INTERNL,url:"/postList"},{text:e("flashSale.flashSaleOrder"),img:b("profile2/consumerOption/LightningPurchaseOrders.svg"),type:g.INTERNL,url:"/buyerFlashSaleOrder?type=2"},{text:e("user.comminicate"),img:b("profile2/consumerOption/CommunityExchangeSection.svg"),type:g.OPTIONS,key:"concat"},{text:e("user.browsingHistory"),img:b("profile2/consumerOption/browsingHistory.svg"),type:g.INTERNL,url:"/browsingHistory"},{text:e("profile.notice"),img:b("profile2/consumerOption/Message.svg"),type:g.OPTIONS,key:"message"},{text:e("order.payHelp"),img:b("profile2/consumerOption/payHelp.svg"),type:g.INTERNL,url:N.value==="online"?"/payHelpGoodsList":"/payHelpOfflineList",key:"payHelp"},{text:e("common.service"),img:b("profile2/consumerOption/Service.svg"),type:g.OPTIONS,key:"innerService"}]),f=H(()=>[{text:e("user.Improve Maker Level"),img:b("profile2/consumerOption/ImproveMakerLevel.svg"),type:g.OPTIONS,key:"level"},{text:e("ecology.otc"),img:b("profile2/consumerOption/OTC-Transactions.svg"),type:g.INTERNL,url:"/ecology-otcTransaction"},{text:e("common.inviteFriend"),img:b("profile2/consumerOption/InviteFriends.svg"),type:g.OPTIONS,key:"invite"},{text:e("common.myNft"),img:b("profile2/consumerOption/MyNFT.svg"),type:g.OPTIONS,key:"nft"},{text:e("ranking.Ecological help list"),img:b("profile2/consumerOption/ranking.svg"),type:g.INTERNL,url:"/talentRankingV1?type=2&cycleType=2"},{text:"安全中心",img:b("profile2/consumerOption/safe.svg"),type:g.INTERNL,url:"/securityCenter"}]);let i=null;const c=async()=>{try{await _(null,!1)}catch(w){console.error("获取安全验证状态失败:",w)}},p=()=>{i&&clearInterval(i),c(),i=setInterval(()=>{c()},3e3)},y=()=>{i&&(clearInterval(i),i=null)};return X(()=>{p()}),Ae(()=>{y()}),(w,R)=>(I(),F(Z,null,[r("div",ht,[(I(!0),F(Z,null,ye(o(l),(s,m)=>(I(),F("div",{class:"w-[25%] flex flex-col items-center",style:we(m<Math.floor((o(l).length-1)/4)*4?"margin-bottom: 16px":""),key:m,onClick:()=>v("handleMenu",s)},[r("div",xt,[r("img",{class:"shrink-0 w-[24px] h-[24px]",src:s.img,alt:""},null,8,yt),s.url==="/postList"&&+n.unreadCount.totalUnread>0?(I(),F("div",wt,S(u(n.unreadCount.totalUnread)),1)):A("",!0),s.key==="message"&&+n.messageCount.totalUnread>0?(I(),F("div",Ct,S(u(n.messageCount.totalUnread)),1)):A("",!0),s.key==="payHelp"&&+n.payhelpCount>0?(I(),F("div",_t,S(u(n.payhelpCount)),1)):A("",!0),s.key==="innerService"&&+n.serviceUnread>0?(I(),F("div",It,S(u(n.serviceUnread)),1)):A("",!0)]),r("div",St,S(s.text),1)],12,gt))),128))]),r("div",bt,[(I(!0),F(Z,null,ye(o(f),(s,m)=>(I(),F("div",{class:"w-[25%] flex flex-col items-center",style:we(m<Math.floor((o(f).length-1)/4)*4?"margin-bottom: 16px":""),key:m,onClick:()=>v("handleMenu",s)},[r("div",Tt,[r("img",{class:"shrink-0 w-[24px] h-[24px]",src:s.img,alt:""},null,8,Nt),s.url==="/securityCenter"&&o(C)?(I(),F("div",Ot,Et)):A("",!0)]),r("div",kt,S(s.text),1)],12,$t))),128))])],64))}}),Mt=J(Rt,[["__scopeId","data-v-5165f28e"]]),At=q({emits:["handleTo","handleReplace","handleMenu"],setup(n,{expose:v,emit:e}){const C=se(),{accountStore:_}=Y(),u=x({afterSales:0,completed:0,toBeDelivered:0,waitingForReceipt:0}),$=async()=>{const a=await Ke({type:2});a.success&&(u.value=a.data)},N=x({afterSales:0,completed:0,toBeDelivered:0,waitingForReceipt:0}),l=async()=>{var d,E;const a=await Qe({orderCustomerAddress:_.account||((d=_.sign)==null?void 0:d.address)});a.success&&(N.value=a.data,y.value=(E=a.data)==null?void 0:E.waitPayCount)},f=x({versionUnread:0,platformUnread:0,totalUnread:0}),i=async()=>{const a=await Ze();a.success&&(f.value=a.data)},c=x({}),p=async()=>{const a=await We({type:1});a.success&&(c.value=a.data)},y=x(0),w=async()=>{const{success:a,data:d}=await et();a&&(y.value=d==null?void 0:d.total)},R=x(0),s=async()=>{var d;const a=await tt({page:1,size:1,sync:!0});a.msg==="SUCCESS"&&(R.value=((d=a.data)==null?void 0:d.totalUnread)||0)},m=a=>{a==="online"?($(),w()):a==="offline"&&l()};return v({init:async()=>{var d;console.log("consumer init");const a=((d=C.query)==null?void 0:d.tab)||"online";m(a),i(),p(),s()}}),(a,d)=>(I(),F(Z,null,[O(He,{activeTab:o(M).CONSUMER,orderCount:u.value,offlineOrderCount:N.value,onHandleTo:d[0]||(d[0]=E=>e("handleTo",E)),onHandleReplace:d[1]||(d[1]=(E,K)=>e("handleReplace",E,K)),onUpdateOrderData:m},null,8,["activeTab","orderCount","offlineOrderCount"]),O(Mt,{unreadCount:f.value,messageCount:c.value,payhelpCount:y.value,serviceUnread:R.value,onHandleMenu:d[2]||(d[2]=E=>e("handleMenu",E))},null,8,["unreadCount","messageCount","payhelpCount","serviceUnread"])],64))}}),Lt=n=>(re("data-v-2c4ddcca"),n=n(),ae(),n),Ut={class:"w-[85vw] max-w-[375px] px-5 py-6 bg-popBg"},Bt={class:"pb-5 flex-center-bw"},Dt={class:"flex-start"},Pt=Lt(()=>r("img",{src:ot,class:"w-[10px] h-[10px]",alt:""},null,-1)),Ht=[Pt],Vt=V("%"),zt={class:"mt-5 flex-center"},qt=q({props:{show:{type:Boolean}},emits:["close"],setup(n,{emit:v}){const{show:e}=n,{t:C}=ne(),{accountStore:_}=Y(),{loadingToggle:u}=qe(),[$,N]=P(!1),l=x(0),f=async()=>{u(!0);const p=await le(_.account);p.success&&p.data&&(l.value=p.data.discountRatio),u(!1)},i=p=>p>80?80:p,c=async()=>{if(!Number(l.value)){G.fail(C("common.pleaseInput"));return}N(!0),(await Ge({discountRatio:l.value})).success&&(N(!1),v("close"),setTimeout(()=>{f()},1e3))};return X(()=>{f()}),(p,y)=>{const w=z("van-field"),R=z("VanButton"),s=z("VanPopup");return I(),j(s,{show:n.show,"onUpdate:show":y[2]||(y[2]=m=>Le(e)?e.value=m:null),round:""},{default:B(()=>[r("div",Ut,[r("div",Bt,[r("div",Dt,[r("span",null,S(p.$t("common.ratiodEdit")),1)]),r("div",{onClick:y[0]||(y[0]=m=>v("close"))},Ht)]),r("div",null,[O(w,{class:"bg-gray1 rounded-3xl","input-align":"center",modelValue:l.value,"onUpdate:modelValue":y[1]||(y[1]=m=>l.value=m),type:"digit",placeholder:p.$t("shop.pleaseInputPoint"),formatter:i,disabled:o($)},{"right-icon":B(()=>[Vt]),_:1},8,["modelValue","placeholder","disabled"]),r("div",zt,[O(R,{class:"px-20 font-bold text-white h-9 btn-orange",onClick:c,loading:o($)},{default:B(()=>[V(S(p.$t("common.edit")),1)]),_:1},8,["loading"])])])])]),_:1},8,["show"])}}}),Gt=J(qt,[["__scopeId","data-v-2c4ddcca"]]),jt=n=>(re("data-v-720e2866"),n=n(),ae(),n),Jt={class:"flex flex-col items-center justify-center"},Xt={class:"text-sm"},Yt={class:"text-primary"},Kt=V(" 嘗試遷移店舖信息至您的地址 "),Qt={class:"text-primary"},Zt=V(" 是否同意遷移。 "),Wt={key:0,class:"border border-primary rounded-lg p-2.5 mt-4 bg-[#FFFAF4] flex items-start"},eo=jt(()=>r("div",{class:"text-xs opacity-70 ml-1.5 leading-5"}," 監測到當前地址下有店舖信息，同意遷移將合併新舊店舖信息 ",-1)),to={class:"flex items-center justify-center w-full gap-3 mt-4"},oo={key:1,class:"mt-3 text-xs font-normal"},no=q({props:{show:{type:Boolean},info:null},emits:["close"],setup(n,{emit:v}){const e=n,{accountStore:C}=Y(),_=e.info[0].shop,u=x(null),$=async()=>{var p;const{data:i,success:c}=await at((_==null?void 0:_.id)||((p=e.info[0])==null?void 0:p.id));c&&(u.value=i)},N=x(-1),l=async i=>{var p;if(await $(),u.value&&i!==3){G("已經遷移過，請勿重複操作");return}(await rt({id:(p=e.info[0])==null?void 0:p.id,status:i})).success&&(i===3?G("拒绝成功"):G("同意成功"),i===3?v("close",i):v("close"))},f=async()=>{var c;const i=await le(((c=C.store)==null?void 0:c.merchant)||C.account);i.success&&i.data&&(N.value=i.data.status)};return X(()=>{f()}),(i,c)=>{const p=z("van-icon"),y=z("VanButton");return I(),j(Se,{show:n.show,noBorder:!0,noClose:!0,onClose:c[2]||(c[2]=()=>{v("close")})},{default:B(()=>{var w;return[r("div",Jt,[r("div",Xt,[r("span",Yt,S((w=o(_))==null?void 0:w.storeName),1),Kt,r("span",Qt,S(o(Ie)(o(C).account)),1),Zt]),N.value===1?(I(),F("div",Wt,[O(p,{name:"warning",color:"#FEA021",size:"18"}),eo])):A("",!0),r("div",to,[O(y,{round:"",class:"border border-solid border-[#CDCDCD] h-[40px] w-full flex-1 font-medium text-sm",onClick:c[0]||(c[0]=R=>l(3))},{default:B(()=>[r("span",null,S(i.$t("common.reject")),1)]),_:1}),O(y,{round:"",class:"btn-yellow h-[40px] w-full flex-1 font-semibold text-sm",onClick:c[1]||(c[1]=R=>l(2))},{default:B(()=>[V(S(i.$t("common.agree")),1)]),_:1})]),n.info.length>0?(I(),F("div",oo,S(i.$t("user.migrate length",{num:n.info.length})),1)):A("",!0)])]}),_:1},8,["show"])}}}),so=J(no,[["__scopeId","data-v-720e2866"]]),ro={class:"flex flex-col items-center justify-center"},ao={class:"text-sm"},lo={class:"text-primary"},io={class:"text-primary"},uo={key:0,class:"border border-primary rounded-lg p-2.5 mt-4 bg-[#FFFAF4] flex items-start"},co={class:"text-xs opacity-70 ml-1.5 leading-5"},po={class:"w-full flex items-center justify-center gap-3 mt-4"},fo={key:1,class:"text-xs font-normal mt-3"},mo=q({props:{show:{type:Boolean},approveInfo:null,approveIndex:null},emits:["close"],setup(n,{emit:v}){const e=n,{accountStore:C}=Y(),_=e.approveInfo[e.approveIndex].shop,u=x(-1),$=async l=>{(await lt({id:e.approveInfo[e.approveIndex].id,status:l})).success&&(l===3?v("close",l):v("close"))},N=async()=>{var f;const l=await le(((f=C.store)==null?void 0:f.merchant)||C.account);l.success&&l.data&&(u.value=l.data.status)};return X(()=>{N()}),(l,f)=>{const i=z("van-icon"),c=z("VanButton");return I(),j(Se,{show:n.show,noBorder:!0,noClose:!0,onClose:f[2]||(f[2]=()=>{v("close")})},{default:B(()=>[r("div",ro,[r("div",ao,[r("span",lo,S(o(_).storeName),1),V(" "+S(l.$t("user.use tips"))+" ",1),r("span",io,S(o(Ie)(o(C).account)),1),V(" "+S(l.$t("user.approveShop")),1)]),u.value===1?(I(),F("div",uo,[O(i,{name:"warning",color:"#FEA021",size:"18"}),r("div",co,S(l.$t("user.approve shop tips2")),1)])):A("",!0),r("div",po,[O(c,{round:"",class:"border border-solid border-[#CDCDCD] h-[40px] w-full flex-1 font-medium text-sm",onClick:f[0]||(f[0]=p=>$(3))},{default:B(()=>[r("span",null,S(l.$t("common.reject")),1)]),_:1}),O(c,{round:"",class:"btn-yellow h-[40px] w-full flex-1 font-semibold text-sm",onClick:f[1]||(f[1]=p=>$(2))},{default:B(()=>[V(S(l.$t("common.agree")),1)]),_:1})]),n.approveInfo.length>0?(I(),F("div",fo,S(l.$t("user.approve length",{num:n.approveInfo.length})),1)):A("",!0)])]),_:1},8,["show"])}}}),vo=J(mo,[["__scopeId","data-v-57d700dc"]]),ho={class:"linear-bg"},go={class:"mt-[16px] w-full z-[10] overflow-hidden px-[12px]"},xo={class:"flex items-start gap-[24px]"},yo=q({name:"Profile"});function wo(n){const{checkLoginAuth:v}=je(),{t:e}=ne(),C=Ue(),_=se(),{accountStore:u}=Y(),[$,N]=P(!1),[l,f]=P(!1),[i,c]=P(!1),[p,y]=P(!1),[w,R]=P(!1),[s,m]=P(!1),{isUserExists:k}=Je(),{members:a}=Xe();Be(()=>_.path,(t,h)=>{h==="/clerk/index"&&t==="/profile"&&Q()});const d=x(null),E=x(null),K=x(0),be=()=>{f(!1),c(!0)},W=De({userInfo:{address:u.account}}),$e=H(()=>[{id:M.CONSUMER,name:e("common.consumerSide")},{id:M.MERCHANT,name:e("common.merchantSide")}]),D=H(()=>{var t;return((t=_.query)==null?void 0:t.path)??M.CONSUMER}),ie=x(!1),Te=t=>{t.id!==D.value&&(t.id===M.MERCHANT&&_e(),localStorage.setItem("profile_query",JSON.stringify({path:t.id})),C.push(`/profile?path=${t.id}`),ie.value=!0,setTimeout(()=>{ie.value=!1,ee()},500))},U=t=>{C.push(t)},ue=(t,h)=>{localStorage.setItem("profile_query",JSON.stringify(h)),C.replace({path:t,query:h})},Ne=()=>{N(!1),ce()},Oe=()=>{R(!1),Q()},ce=async()=>{var h,T;const t=await ut({type:2,page:1,size:99});d.value=(h=t.data)==null?void 0:h.filter(L=>L.status===1).reverse(),((T=d.value)==null?void 0:T.length)>0&&(N(!0),K.value=0)},Fe=async()=>{var h,T,L;const t=await ct({type:2,page:1,size:99});if(((h=t.data)==null?void 0:h.findIndex(oe=>oe.status===2))>-1){E.value=[];return}E.value=(T=t.data)==null?void 0:T.filter(oe=>oe.status===1).reverse(),((L=E.value)==null?void 0:L.length)>0&&R(!0)},pe=async t=>{if(t.type===g.INTERNL&&t.url)return U(t.url);if(t.type===g.OPTIONS){if(t.key==="invite"){if(!await a())return G(e("home.inviteTip"));c(!0)}if(t.key==="level"&&f(!0),t.key==="ratio"&&y(!0),t.key==="concat"&&U("/concat"),t.key==="nft"){if(fe.value)return U("/matrixNFT");m(!0)}t.key==="message"&&(U("/orderMessage?type=1"),sessionStorage.setItem("orderMessage_refreshFlag","1")),t.key==="innerService"&&U("/innerServiceList")}else t.type===g.EXTERNAL&&t.url&&window.open(t.url,"_blank")},de=async()=>{ge(!0);const t=await it(u.account);ge(!1),!(!t.success||!t.data)&&(W.userInfo=t.data)},fe=x(!1),me=async()=>{const t=await k();fe.value=t},Ee=()=>{me(),U("/matrixNFT")},ke=x(!1),ve=x(null),he=x(null),ee=async()=>{var t,h;D.value===M.CONSUMER?(t=ve.value)==null||t.init():(h=he.value)==null||h.init()},[Re,ge]=P(!1),xe=x(null),Me=()=>{var t;(t=xe.value)==null||t.getMemberLevel(),de()},Q=async()=>{v(!0)&&(await u.changeStore({}),ke.value=!0,await de(),ce(),Fe(),me(),D.value===M.MERCHANT&&_e())},te=x(!1);return X(()=>{v(!0)&&(te.value=!0,Q(),ee(),setTimeout(()=>{te.value=!1},500))}),Pe(()=>{te.value||v(!0)&&(Q(),ee())}),(t,h)=>(I(),F("div",ho,[O(Ve,{ref:(T,L)=>{L.userAvatarRef=T,xe.value=T},info:o(W).userInfo,active:o(D),"tab-list":o($e),onChangeTab:Te,onSetLevelShow:h[0]||(h[0]=T=>o(f)(!0))},null,8,["info","active","tab-list"]),r("div",go,[r("div",xo,[r("div",{class:Ce(["shrink-0 w-full transition delay-0 duration-500 ease-in-out",{"consumer-in-merchant-out":o(D)===o(M).CONSUMER,"consumer-out-merchant-in h-0 opacity-0":o(D)===o(M).MERCHANT}])},[O(At,{ref:(T,L)=>{L.ConsumerRef=T,ve.value=T},onHandleTo:U,onHandleMenu:pe,onHandleReplace:ue},null,512)],2),r("div",{class:Ce(["shrink-0 w-full transition delay-0 duration-500 ease-in-out",{"consumer-out-merchant-in":o(D)===o(M).MERCHANT,"consumer-in-merchant-out h-0 opacity-0":o(D)===o(M).CONSUMER}])},[O(ze,{ref:(T,L)=>{L.MerchantRef=T,he.value=T},onHandleTo:U,onHandleMenu:pe,onHandleReplace:ue},null,512)],2)]),O(nt,{show:o(l),userInfo:o(W).userInfo,userInfoLoading:o(Re),onClose:h[1]||(h[1]=T=>o(f)(!1)),onInvite:be,onHandleTo:U,onOpenVipSuccess:Me},null,8,["show","userInfo","userInfoLoading"]),O(st,{show:o(i),onClose:h[2]||(h[2]=T=>o(c)(!1))},null,8,["show"]),O(Gt,{show:o(p),onClose:h[3]||(h[3]=T=>o(y)(!1))},null,8,["show"]),o($)?(I(),j(vo,{key:0,show:o($),approveInfo:d.value,approveIndex:K.value,onClose:Ne},null,8,["show","approveInfo","approveIndex"])):A("",!0),o(w)?(I(),j(so,{key:1,show:o(w),info:E.value,onClose:Oe},null,8,["show","info"])):A("",!0),O(pt,{"title-text":o(e)("common.recommend_for_you")},null,8,["title-text"]),O(dt,{show:o(s),onClose:h[4]||(h[4]=T=>o(m)(!1)),onOnSuccess:Ee},null,8,["show"])])]))}const Co=q({...yo,setup:wo}),en=J(Co,[["__scopeId","data-v-96b2a49a"]]);export{en as default};
