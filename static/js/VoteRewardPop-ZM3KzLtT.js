import{_ as P,z as O,a2 as v,R as W,r as _,bp as M,y as q,E as G,ab as H,F as g,Z as w,H as i,$ as k,I as t,U as y,bj as J,V as n,O as e,G as K,bk as X,a4 as b,a3 as Y,a0 as Z,X as Q,Y as ee}from"./vendor-Dr_RpJ_Y.js";import{ci as S,cj as V}from"./index-LRhcxFAI.js";const E=""+new URL("../images/claim-BxIoJuaK.webp",import.meta.url).href,r=l=>(Q("data-v-687ae5c1"),l=l(),ee(),l),te={key:0,class:"success-text"},oe=r(()=>t("div",{class:"text-b6 text-xl mb-3"},"投票成功",-1)),se=r(()=>t("div",{class:"text-2xl text-b6"},[b(" 恭喜获得"),t("span",{class:"text-[#FEA527] font-bold"},"1张"),b("抵用券 ")],-1)),ae=[oe,se],ne=["src"],le={class:"center-card text-b1 font-semibold"},ce=r(()=>t("div",{class:"text-center text-xs text-[#FE7E66] font-BebasNeue font-normal"}," 抵用券 ",-1)),ie=r(()=>t("div",{class:"container relative"},[t("div",{class:"center-text text-[#F15965] h-[52px] pt-1 flex items-center justify-center gap-x-1",id:"original"},[t("span",{class:"text-[40px] font-BebasNeue leading-[52px]"},"1")])],-1)),re=[ce,ie],de=b(" 确定 "),ue=O({setup(l,{expose:R}){const[d,u]=v(!1),{height:s}=W(),D=_(null),B=_(null),{top:C,height:F}=M(B),p=_(null),[$,I]=v(!1),[m,h]=v(!1),U=q(()=>s.value>811?1:811/s.value),L=()=>`${E}?t=${Date.now()}`,N=async()=>{if(h(!0),await V(500),document.getElementById("cloned-animation"))return;const a=document.getElementById("original").cloneNode(!0);a.id="cloned-animation",a.classList.add("animated-div"),document.querySelector(".container").appendChild(a)},c=()=>{u(!1),setTimeout(()=>{h(!1)},150)},T=async()=>{u(!0),I(!0),p.value=L(),await S(p.value),I(!1),await V(1300),N()};return G(()=>{S(E)}),H(()=>{u(!1),h(!1)}),R({handleShowReward:T}),(j,f)=>{const a=g("VanLoading"),z=g("VanButton"),A=g("VanPopup");return i(),w(A,{show:e(d),"onUpdate:show":f[0]||(f[0]=o=>Z(d)?d.value=o:null),teleport:"#app",onClickOverlay:Y(c,["stop"]),onClose:c,class:"font-Puhui w-full max-w-[375px] bg-transparent","overlay-style":{backgroundColor:"rgba(0, 0, 0, 0.8)"},style:n({height:`${e(s)}px`})},{default:k(()=>[t("div",{class:"w-full overflow-hidden relative left-0 top-0",style:n({height:`${e(s)}px`}),onClick:c,ref:(o,x)=>{x.wrapperRef=o,D.value=o}},[t("div",{class:"w-full text-center absolute",style:n({top:`${e(C)-110}px`})},[e(m)?(i(),K("div",te,ae)):y("",!0)],4),t("div",{class:"center-card opacity-0",style:n({height:` ${e(s)*.26*e(U)}px`}),ref:(o,x)=>{x.imgWrapper=o,B.value=o}},null,4),e($)?(i(),w(a,{key:0,vertical:"",type:"spinner",color:"#FEA527",class:"center-card"})):y("",!0),t("img",{src:p.value,class:"w-full h-full object-cover relative z-[1]"},null,8,ne),J(t("div",le,re,512),[[X,e(m)]]),e(m)?(i(),w(z,{key:1,class:"success-text confirm-btn !font-semibold !border-none",onClick:c,style:n({top:`${e(C)+e(F)+45}px`})},{default:k(()=>[de]),_:1},8,["style"])):y("",!0)],4)]),_:1},8,["show","onClickOverlay","overlay-style","style"])}}}),he=P(ue,[["__scopeId","data-v-687ae5c1"]]);export{he as V};
