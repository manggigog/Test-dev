import{_ as J,a as K}from"./2year-DDqfglUX.js";import{_ as Q}from"./gift-CM2ReEsi.js";import{_ as O}from"./warring-Cw4PS6si.js";import{_ as X,bB as Z,y as tt,r as G,j as T,G as m,H as _,I as t,P as $,V as et,bn as R,J as g,K as C,O as A,Q as v,$ as E,F as L,a0 as st,T as f,X as at,Y as it,q as ot,aL as lt,by as nt,a4 as I}from"./vendor-Dr_RpJ_Y.js";import{h as j}from"./index-7OiUoGXy.js";import{a as ct,b as rt,c as dt}from"./festivalActivities-XxC8e1fT.js";const mt=""+new URL("../images/header-bottom-cLhHgAHB.png",import.meta.url).href,_t=""+new URL("../images/full-disc-DTfzTdn9.png",import.meta.url).href,vt=""+new URL("../images/yeah-CaQGMFvg.png",import.meta.url).href,pt=""+new URL("../images/clock-Cm4lWMc5.png",import.meta.url).href,ut=""+new URL("../images/stock-table-DEMKejqA.png",import.meta.url).href,ft=""+new URL("../images/table-etxv7BjT.png",import.meta.url).href,o=y=>(at("data-v-bdeb6f6e"),y=y(),it(),y),ht={class:"active-container"},bt=o(()=>t("img",{class:"header-bottom hidden",src:mt},null,-1)),gt=o(()=>t("img",{class:"w-[22px] h-[22px]",src:K,alt:"返回"},null,-1)),yt=[gt],wt={class:"body__wrap z-20"},xt=R('<div class="active-play__wrap" data-v-bdeb6f6e><div class="active-play__title" data-v-bdeb6f6e>活动玩法</div><div class="active-play__content" data-v-bdeb6f6e><img class="active-play-full-discount-bg" src="'+_t+'" data-v-bdeb6f6e><img class="active-play-full-discount-yeah" src="'+vt+'" data-v-bdeb6f6e><div class="active-play-full-discount-title line-clamp-1" data-v-bdeb6f6e> 单店内活动商品满减 </div><div class="active-play-full-discount-tag text-center" data-v-bdeb6f6e> 商家自行设置优惠满减比例 </div></div></div>',1),Tt={class:"active-time__wrap"},At=o(()=>t("div",{class:"active-time__title"},"活动时间",-1)),kt={class:"active-time__content"},Gt={class:"w-full flex fle-row justify-between items-start"},It={class:"left-col w-2 relation-mark"},Dt=o(()=>t("div",{class:"circle"},null,-1)),St=o(()=>t("div",{class:"line"},null,-1)),Mt=[Dt,St],Yt={class:"right-col ml-3 relation-text w-full"},Ht={class:"title whitespace-nowrap line-clamp-1"},$t={class:"value whitespace-nowrap line-clamp-1"},Ct=o(()=>t("img",{class:"active-time-clock-img",src:pt},null,-1)),Et={class:"active-rule__wrap"},Lt=o(()=>t("div",{class:"active-rule__title"},"活动规则",-1)),jt={class:"active-rule__content"},Rt={class:"join-time-box"},Ut=o(()=>t("p",{class:"text-base color-[#401507] font-semibold text-center"}," 报名时间 ",-1)),Bt={class:"section"},Wt=o(()=>t("p",{class:"font-normal"}," 符合条件的商家在2025年闪电猫两周年！活动报名入口确认相关规则要求，设置商品优惠起始条件与价格并完成活动商品提报后即视为完成本活动的报名。 ",-1)),Vt=o(()=>t("p",{class:"font-semibold mt-2"},"活动商品报名时间：",-1)),qt={class:"font-semibold mt-1 text-oriange1"},Nt=o(()=>t("p",{class:"font-normal mt-2"}," 请商家注意以上商品报名时间，过期则申报入口关闭。上述时间安排若有调整的将提前公告，请商家及时关注。 ",-1)),Pt={class:"active-rule__content mt-2"},zt={class:"act-time-box"},Ft=o(()=>t("p",{class:"text-base color-[#401507] font-semibold text-center"}," 活动时间 ",-1)),Jt={class:"section"},Kt=o(()=>t("p",{class:"font-semibold mt-2"},"活动预热时间：",-1)),Qt={class:"font-semibold mt-1 text-oriange1"},Ot=o(()=>t("p",{class:"font-semibold mt-2"},"活动售卖时间：",-1)),Xt={class:"font-semibold mt-1 text-oriange1"},Zt=R('<div class="active-rule__content mt-2" data-v-bdeb6f6e><div class="goods-laws-box" data-v-bdeb6f6e><p class="text-base color-[#401507] font-semibold text-center" data-v-bdeb6f6e> 商品准入 </p><section class="section" data-v-bdeb6f6e><p class="font-normal" data-v-bdeb6f6e> 活动报名商品要求活动期内为现货商品（特殊类目除外）。缺货产品/预售产品不得报名活动。 </p></section></div></div><div class="active-rule__content mt-2" data-v-bdeb6f6e><div class="goods-price-box" data-v-bdeb6f6e><p class="text-base color-[#401507] font-semibold text-center" data-v-bdeb6f6e> 价格效验 </p><section class="section" data-v-bdeb6f6e><p class="font-normal" data-v-bdeb6f6e> 活动商品报名销售价格要求不得高于该商品在2025年04月15日-2025年05月15日内已生效的最低标价。 </p></section></div></div>',2),te=o(()=>t("p",{class:"text-base color-[#401507] font-semibold text-center"}," 商品库存 ",-1)),ee=o(()=>t("p",{class:"font-normal"}," 报名活动的每款商品库存要求不低于100件。请商家确认备货情况。 ",-1)),se=o(()=>t("img",{class:"mt-2",src:ut,alt:"规则表"},null,-1)),ae=[ee,se],ie=o(()=>t("img",{class:"active-time-gift-img",src:Q},null,-1)),oe=o(()=>t("div",{class:"end__wrap w-full flex justify-center items-center"},[t("img",{class:"logo-2-year",src:J,alt:"2周年"})],-1)),le={class:"text-[20px] text-b6 font-Puhui"},ne=I(" 重新报名 "),ce=I(" 查看报名情况 "),re=I(" 我要报名 "),de=o(()=>t("div",{class:"flex flex-col justify-center items-center"},[t("img",{src:O,class:"w-10 h-10",alt:"警告"}),t("p",{class:"text-b2 text-sm font-normal text-center mt-3"}," 很遗憾根据您店铺以往数据综合评估暂不符合报名资质要求 ")],-1)),me={setup(y){const w=ot(),[k,D]=Z(),S=tt(()=>{var e,l,n,a,r,d,p,u,b,M,Y,H;const s="MM月DD日";return[{id:1,title:"预热时间",value:`${c((l=(e=i.value)==null?void 0:e.fmGeneralActivity)==null?void 0:l.preStartTime,s)} ~ ${c((a=(n=i.value)==null?void 0:n.fmGeneralActivity)==null?void 0:a.preEndTime,s)}`},{id:2,title:"报名时间",value:`${c((d=(r=i.value)==null?void 0:r.fmGeneralActivity)==null?void 0:d.applyStartTime,s)} ~ ${c((u=(p=i.value)==null?void 0:p.fmGeneralActivity)==null?void 0:u.applyEndTime,s)}`},{id:3,title:"售卖时间",value:`${c((M=(b=i.value)==null?void 0:b.fmGeneralActivity)==null?void 0:M.startTime,s)} ~ ${c((H=(Y=i.value)==null?void 0:Y.fmGeneralActivity)==null?void 0:H.endTime,s)}`}]}),i=G({fmGeneralActivity:{},fmGeneralActivityLabelList:[],fmGeneralActivityRule:{}}),U=()=>{f("可旋转屏幕查看详细规则"),setTimeout(()=>{nt({images:[ft],showIndex:!1,closeable:!0})},500)},B=async()=>{ct({generalActivityId:1}).then(e=>{e.code==1?(i.value=e.data,W(),V()):e.message&&f(e.message)})},W=()=>{var e,l;const s=(l=(e=i.value)==null?void 0:e.fmGeneralActivity)==null?void 0:l.name;s&&(document.title=s)},x=G({}),V=()=>{var e,l;const s=((l=(e=i.value)==null?void 0:e.fmGeneralActivity)==null?void 0:l.activityMainImgs)||"";if(s){const n=s.split(",")[0];x.value={backgroundImage:`url(${n})`};const a=new Image;a.onload=()=>{const r=a.naturalWidth,d=a.naturalHeight;if(r>0&&d>0){const p=document.documentElement.clientWidth>=375?375:document.documentElement.clientWidth,u=d/r*p;x.value={...x.value,height:`${u}px`}}},a.onerror=()=>{console.log("活动主图图片加载失败")},a.src=n}},c=(s,e="YY年MM月DD日HH:mm:ss")=>s?T(s).format(e):"",q=()=>{var e,l,n,a;const s={generalActivityId:1,applyStartTime:(l=(e=i.value)==null?void 0:e.fmGeneralActivity)==null?void 0:l.applyStartTime,applyEndTime:(a=(n=i.value)==null?void 0:n.fmGeneralActivity)==null?void 0:a.applyEndTime};w.push({path:"/520-terms",query:{...s}})},N=()=>{const s="https://metakey.pro/invite?code=cngkfc1i";j(s),lt.confirm({title:"群聊链接",message:"群聊链接已复制，请在手机浏览器打开",showCancelButton:!1}).then(()=>{j(s)})},P=()=>{var s,e;((e=(s=window.history)==null?void 0:s.state)==null?void 0:e.back)===null?w.replace({path:"/"}):w.back()},h=G(null),z=async()=>{var l,n;const e=await rt({generalActivityId:1});e.code==1&&(h.value=((n=(l=e.data)==null?void 0:l.fmGeneralActivityShop)==null?void 0:n.status)||null)},F=async()=>{var l,n,a,r,d,p,u,b;const s=new Date().getTime();if(console.log("当前时间",T(s).format("YYYY-MM-DD HH:mm:ss")),console.log("后台配置的报名开始时间",T((n=(l=i.value)==null?void 0:l.fmGeneralActivity)==null?void 0:n.applyStartTime).format("YYYY-MM-DD HH:mm:ss")),console.log("后台配置的报名结束时间",T((r=(a=i.value)==null?void 0:a.fmGeneralActivity)==null?void 0:r.applyEndTime).format("YYYY-MM-DD HH:mm:ss")),s<((p=(d=i.value)==null?void 0:d.fmGeneralActivity)==null?void 0:p.applyStartTime)){f("报名时间未开始");return}if(s>((b=(u=i.value)==null?void 0:u.fmGeneralActivity)==null?void 0:b.applyEndTime)){f("报名时间已结束");return}f.loading({message:"查询中..."});const e=await dt();if(e.code==1&&!e.data){f.clear(),D(!0);return}else e.code==1&&e.data&&setTimeout(()=>{f.clear(),w.push({path:"/520-sign-up",query:{from:"fm"}})},500)};return B(),z(),(s,e)=>{const l=L("van-button"),n=L("van-dialog");return _(),m("div",ht,[t("div",{class:"header__wrap",style:et(x.value)},[t("div",{class:"join-rule-btn",onClick:q},"报名须知"),t("div",{class:"join-im-btn",onClick:N},"群聊链接"),bt,t("div",{class:"back-arrow w-[22px] h-[22px] absolute top-[11px] left-[9px]",onClick:P},yt)],4),t("div",wt,[xt,t("div",Tt,[At,t("div",kt,[t("div",Gt,[t("div",It,[(_(!0),m(g,null,C(A(S),a=>(_(),m("div",{key:a.id,class:"relation-mark-item"},Mt))),128))]),t("div",Yt,[(_(!0),m(g,null,C(A(S),a=>(_(),m("div",{key:a.id,class:"relation-text-item w-full flex justify-between"},[t("span",Ht,v(a.title),1),t("span",$t,v(a.value),1)]))),128))])])]),Ct]),t("div",Et,[Lt,t("div",jt,[t("div",Rt,[Ut,t("section",Bt,[Wt,Vt,t("p",qt,v(c(i.value.fmGeneralActivity.applyStartTime))+" ~ "+v(c(i.value.fmGeneralActivity.applyEndTime)),1),Nt])])]),t("div",Pt,[t("div",zt,[Ft,t("section",Jt,[Kt,t("p",Qt,v(c(i.value.fmGeneralActivity.preStartTime))+" ~ "+v(c(i.value.fmGeneralActivity.preEndTime)),1),Ot,t("p",Xt,v(c(i.value.fmGeneralActivity.startTime))+" ~ "+v(c(i.value.fmGeneralActivity.endTime)),1)])])]),Zt,t("div",{class:"active-rule__content mt-2"},[t("div",{class:"stock-box"},[te,t("section",{class:"section table",onClick:U},ae)])]),ie])]),oe,t("div",{class:"btn__wrap",onClick:F,role:"button"},[$(l,{class:"submit-btn"},{default:E(()=>[t("span",le,[h.value==4?(_(),m(g,{key:0},[ne],64)):h.value==1||h.value==2||h.value==3?(_(),m(g,{key:1},[ce],64)):(_(),m(g,{key:2},[re],64))])]),_:1})]),$(n,{"class-name":"notice-dialog",show:A(k),"onUpdate:show":e[0]||(e[0]=a=>st(k)?k.value=a:null),onClick:e[1]||(e[1]=a=>A(D)(!1)),"show-confirm-button":!1,"close-on-click-overlay":""},{default:E(()=>[de]),_:1},8,["show"])])}}},be=X(me,[["__scopeId","data-v-bdeb6f6e"]]);export{be as default};
