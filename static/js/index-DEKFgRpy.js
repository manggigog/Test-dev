import{_ as Z,y as C,r as b,E as D,F as m,G as u,H as s,a2 as F,Q as t,I as z,J as W,P as a,a0 as M,O as p,N as I,Y as xs,Z as $s,l as X,a4 as ws,bf as ys,be as Ds,D as Bs,bc as J,bd as K,K as Is,n as Ms,B as Cs}from"./vendor-BUT0HZ5j.js";import{_ as Y}from"./MAI-DI3UfkaQ.js";import{_ as ss}from"./MCOIN-BcbOHmhy.js";import{N as O,h as ts,b as es,x as Q,d as r,f as Ls,g as ks,q,s as E,I as Ts,B as H}from"./index-BvL8wS8a.js";import{_ as Ns}from"./USDT-BFPkoPAz.js";import{B as As}from"./BackIcon-biFt6cm7.js";import{b as Ss}from"./beiConstContract-Chl2nHlo.js";import{p as Ps}from"./piggyBank-DmnJvorA.js";import{o as Vs}from"./OTCContract-BhvhU2Az.js";import{q as Us}from"./storeValue-CiK3EcLS.js";const as="/Test-dev/static/images/copy-MrxcJdwb.png",os="/Test-dev/static/images/LP-DxuS8Bb-.png",ns="/Test-dev/static/images/MUSD-DzKAPSpJ.png",Fs=o=>O("GET","/fmUsers/list",o),Os=o=>O("GET","/fmUsers/parent",o),qs=o=>O("GET",`store/getSales?address=${o}`,null),Es=o=>O("GET",`/fm/permissions/flag?resourceType=${o}`,null),zs=o=>(xs("data-v-6b202d3c"),o=o(),$s(),o),Ws={class:"py-3 bg-white rounded-xl"},Ys={class:"w-full text-center table-auto"},Gs={class:"my-8 text-sm font-normal opacity-80"},Rs={class:"my-[8px]"},js=["onClick"],Js=zs(()=>s("img",{src:as,class:"inline-block w-3.5 h-3.5 align-middle"},null,-1)),Ks={key:0,class:"py-6 text-base text-center opacity-60"},Qs={key:1,class:"py-6 text-base text-center opacity-60"},Hs={class:"px-10 py-3"},Zs=C({props:{address:null},setup(o,{expose:g}){const x=o,c=b(1),N=b(10),h=b([]),_=b(0),w=b(!1),L=async()=>{w.value=!0,h.value=[];const f=await Fs({page:c.value,size:N.value,address:x.address});w.value=!1,f.success&&(_.value=f.total||0,h.value=f.data)};return g({getTableList:L,resetValue:()=>{c.value=1,_.value=0}}),(f,B)=>{const S=D("van-loading"),n=D("van-icon"),P=D("van-pagination");return u(),m("div",Ws,[s("table",Ys,[s("tr",Gs,[s("th",Rs,t(f.$t("home.team")),1),s("th",null,t(f.$t("home.level")),1),s("th",null,t(f.$t("integral.integral")),1),s("th",null,t(f.$t("home.teamPoints")),1)]),(u(!0),m(z,null,W(h.value,l=>(u(),m("tr",{key:l.id,class:"opacity-40"},[s("td",{onClick:k=>a(ts)(l.address)},[M(t(a(es)(l.address))+" ",1),Js],8,js),s("td",null,"V"+t(l.memberLevel),1),s("td",null,t(a(Q)(l.contribute)),1),s("td",null,t(a(Q)(l.totalContribute)),1)]))),128))]),w.value?(u(),m("div",Ks,[p(S,{size:"18px"},{default:I(()=>[M(t(f.$t("common.loading"))+"...",1)]),_:1})])):_.value===0?(u(),m("div",Qs,t(f.$t("common.No data yet")),1)):F("",!0),s("div",Hs,[p(P,{onChange:L,modelValue:c.value,"onUpdate:modelValue":B[0]||(B[0]=l=>c.value=l),"total-items":_.value,"show-page-size":3,"force-ellipses":""},{"prev-text":I(()=>[p(n,{name:"arrow-left"})]),"next-text":I(()=>[p(n,{name:"arrow"})]),page:I(({text:l})=>[M(t(l),1)]),_:1},8,["modelValue","total-items"])])])}}}),Xs=Z(Zs,[["__scopeId","data-v-6b202d3c"]]),st="/Test-dev/static/images/BNB-DAYjjexP.png",tt="/Test-dev/static/images/WMAI-BCBaCUmb.png",et={class:"p-1.5 px-4 bg-white rounded-xl"},at={class:"flex py-2.5 items-center text-sm font-bold border-b-[0.5px] border-solid border-[#D9D9D9]"},ot=s("img",{class:"w-auto h-[22px] mr-1.5 rounded-full",src:ss},null,-1),nt=s("span",null,"MCOIN",-1),lt={class:"ml-auto"},it={class:"flex py-2.5 items-center text-sm font-bold border-b-[0.5px] border-solid border-[#D9D9D9]"},ct=s("img",{class:"w-auto h-[22px] mr-1.5 rounded-full",src:ns},null,-1),dt=s("span",null,"MUSD",-1),rt={class:"ml-auto"},ut={class:"flex py-2.5 items-center text-sm font-bold border-b-[0.5px] border-solid border-[#D9D9D9]"},mt=s("img",{class:"w-auto h-[22px] mr-1.5 rounded-full",src:Y},null,-1),_t=s("span",null,"MAI",-1),pt={class:"ml-auto"},ht={class:"flex py-2.5 items-center text-sm font-bold border-b-[0.5px] border-solid border-[#D9D9D9]"},ft=s("img",{class:"w-auto h-[22px] mr-1.5 rounded-full",src:Ns},null,-1),vt=s("span",null,"USDT",-1),bt={class:"ml-auto"},gt={class:"flex py-2.5 items-center text-sm font-bold border-b-[0.5px] border-solid border-[#D9D9D9]"},xt=s("img",{class:"w-auto h-[22px] mr-1.5 rounded-full",src:st},null,-1),$t=s("span",null,"BNB",-1),wt={class:"ml-auto"},yt={class:"flex py-2.5 items-center text-sm font-bold border-b-[0.5px] border-solid border-[#D9D9D9]"},Dt=s("img",{class:"w-auto h-[22px] mr-1.5 rounded-full",src:tt},null,-1),Bt=s("span",null,"WMAI",-1),It={class:"ml-auto"},Mt={class:"flex pt-1.5 items-center text-sm font-bold"},Ct=s("img",{class:"w-[40px] h-auto mr-1.5 rounded-full",src:os},null,-1),Lt=s("span",null,"WMAI-MCOIN LP",-1),kt={class:"ml-auto"},Tt=C({props:{data:null},setup(o){return(g,x)=>(u(),m("div",et,[s("div",at,[ot,nt,s("span",lt,t(a(r)(o.data.MCOIN)),1)]),s("div",it,[ct,dt,s("span",rt,t(a(r)(o.data.MUSD)),1)]),s("div",ut,[mt,_t,s("span",pt,t(a(r)(o.data.MAI)),1)]),s("div",ht,[ft,vt,s("span",bt,t(a(r)(o.data.USDT)),1)]),s("div",gt,[xt,$t,s("span",wt,t(a(r)(o.data.BNB)),1)]),s("div",yt,[Dt,Bt,s("span",It,t(a(r)(o.data.WMAI)),1)]),s("div",Mt,[Ct,Lt,s("span",kt,t(a(r)(o.data.LP)),1)])]))}}),Nt={class:"px-4 py-5 bg-white rounded-xl"},At={class:"mb-4 text-center"},St={class:"bg-[#F3F3F3] rounded-xl"},Pt={class:"flex mt-5 mb-1.5 gap-4"},Vt={class:"text-base"},Ut={class:"text-[#2E2008] text-base flex items-center gap-1.5"},Ft=C({props:{loading:{type:Boolean},hasPermission:{type:Boolean}},emits:["search","reset"],setup(o,{expose:g,emit:x}){const c=b("");return g({reset:()=>{c.value=""}}),(h,_)=>{const w=D("van-field"),L=D("van-button"),A=D("van-icon"),f=D("VanButton");return u(),m("div",Nt,[s("div",At,t(h.$t("service.Please enter the asset address to be queried")),1),s("div",St,[p(w,{placeholder:h.$t("piggy.please enter address"),modelValue:c.value,"onUpdate:modelValue":_[0]||(_[0]=B=>c.value=B),rows:"2",type:"textarea",spellcheck:!1},null,8,["placeholder","modelValue"])]),s("div",Pt,[p(L,{disabled:o.loading||!c.value,class:"plain-btn w-1/2 h-[48px] text-[#FED73A] font-semibold rounded-3xl",onClick:_[1]||(_[1]=()=>{x("reset")})},{default:I(()=>[s("span",Vt,t(h.$t("common.reset")),1)]),_:1},8,["disabled"]),p(f,{loading:o.loading,onClick:_[2]||(_[2]=B=>x("search",c.value)),disabled:!(c.value&&c.value.length>0)||!o.hasPermission,class:"btn w-1/2 font-semibold bg-[#FED73A] h-[48px] rounded-3xl text-base text-center leading-[48px]"},{default:I(()=>[s("div",Ut,[p(A,{name:"search",size:"18",class:"font-bold"}),M(" "+t(o.hasPermission?h.$t("service.Query"):h.$t("assets.No permission")),1)])]),_:1},8,["loading","disabled"])])])}}}),Ot=Z(Ft,[["__scopeId","data-v-6566d95a"]]),qt={class:"flex flex-col gap-4 px-4 py-4 bg-white rounded-xl"},Et={class:"flex items-start pb-4 border-b-[0.5px] border-solid border-[#D9D9D9]"},zt={class:"text-default/80"},Wt={class:"flex flex-col gap-1 ml-auto"},Yt=["onClick"],Gt={class:"ml-auto max-w-[100px] truncate"},Rt={class:"flex items-center ml-2 text-xs text-primary"},jt={class:"mr-1 underline underline-offset-2"},Jt=s("span",null," > ",-1),Kt={class:"flex items-start"},Qt={class:"text-default/80 mr-[60px] whitespace-nowrap"},Ht={class:"flex flex-col gap-2.5 ml-auto w-full text-sm"},Zt={class:"w-1/2 ml-auto table-auto"},Xt={class:"w-full"},se={class:"text-right"},te={class:"mr-4 text-default/60 whitespace-nowrap"},ee={class:"font-bold text-right"},ae={class:"w-full"},oe={class:"font-normal text-right"},ne={class:"mr-4 text-default/60 whitespace-nowrap"},le={class:"font-bold text-right"},ie={class:"w-full"},ce={class:"text-right"},de={class:"mr-4 whitespace-nowrap text-default/60"},re={class:"font-bold text-right"},ue={class:"flex items-start pt-4 border-t-[0.5px] border-solid border-[#D9D9D9]"},me={class:"text-default/80"},_e={class:"ml-auto"},pe=C({props:{data:{default:()=>{}}},setup(o){const g=X(),x=c=>{g.push(c)};return(c,N)=>{var h;return u(),m("div",qt,[s("div",Et,[s("span",zt,t(c.$t("shop.shopName")),1),s("div",Wt,[(u(!0),m(z,null,W(((h=o.data)==null?void 0:h.shops)||[],_=>(u(),m("div",{class:"flex items-center font-bold",key:_.id,onClick:ws(w=>x(`/category?shopId=${_.id}`),["stop"])},[s("span",Gt,t(_.storeName),1),s("div",Rt,[s("div",jt,t(c.$t("collect.intoShop")),1),Jt])],8,Yt))),128))])]),s("div",Kt,[s("div",Qt,t(c.$t("assets.Sales in the past 30 days")),1),s("div",Ht,[s("table",Zt,[s("tr",Xt,[s("td",se,[s("span",te," Mcoin "+t(c.$t("assets.Including lightning treasure")),1)]),s("td",ee,t(a(r)(o.data.salesAmountMc)),1)]),s("tr",ae,[s("td",oe,[s("div",ne,t(c.$t("assets.Balance")),1)]),s("td",le,t(a(r)(o.data.salesAmountKt)),1)]),s("tr",ie,[s("td",ce,[s("div",de,t(c.$t("piggy.stored value card")),1)]),s("td",re,t(a(r)(o.data.salesAmountCzk)),1)])])])]),s("div",ue,[s("div",me,t(c.$t("assets.Order volume in the past 30 days")),1),s("div",_e,t(o.data.salesOrderCount)+" "+t(c.$t("assets.order")),1)])])}}}),he={class:"h-[44px] bg-white sticky top-0 w-full z-50 flex items-center gap-0.5 px-3"},fe=C({setup(o){return(g,x)=>(u(),m("div",he,[p(As),M(" "+t(g.$t("service.Asset query")),1)]))}}),ve={class:"bg-[#F2F0EF] font-normal"},be={class:"p-4"},ge={class:"pt-12 text-base text-center"},xe={key:0},$e={class:"mt-6 mb-2 text-lg font-bold"},we={class:"mt-6 mb-2 text-lg font-bold"},ye={class:"flex items-center justify-between p-4 text-sm bg-white text-default/80 rounded-xl"},De=s("img",{src:as,class:"inline-block w-3.5 h-3.5 align-middle"},null,-1),Be={class:"mt-6 mb-2 text-lg font-bold"},Ie={class:"mt-6 mb-2 text-lg font-bold"},Me={class:"mt-6 mb-2 text-lg font-bold"},Ce={class:"p-4 text-sm bg-white rounded-xl"},Le={class:"flex items-center"},ke={class:"text-default/80"},Te={key:1,class:"ml-auto"},Ne={class:"mt-6 mb-2 text-lg font-bold"},Ae={class:"p-4 text-sm bg-white rounded-xl"},Se={class:"flex items-center"},Pe={class:"text-default/80"},Ve={class:"ml-auto"},Ue={class:"mt-6 mb-2 text-lg font-bold"},Fe={class:"p-4 text-sm bg-white rounded-xl"},Oe={class:"flex items-center"},qe={class:"text-default/80"},Ee={class:"ml-auto"},ze=s("img",{src:Y,class:"w-auto h-5 ml-2.5"},null,-1),We={class:"mt-6 mb-2 text-lg font-bold"},Ye={class:"px-4 py-2 text-sm bg-white rounded-xl"},Ge={class:"flex items-center"},Re={class:"text-default/80"},je={class:"ml-auto"},Je=s("img",{src:os,class:"w-auto h-10 ml-2.5"},null,-1),Ke={class:"mt-6 mb-2 text-lg font-bold"},Qe={class:"p-4 text-sm bg-white rounded-xl"},He={class:"flex items-center"},Ze={class:"text-default/80"},Xe={class:"ml-auto"},sa=s("img",{src:ss,class:"w-auto h-5 ml-2.5"},null,-1),ta={class:"mt-6 mb-2 text-lg font-bold"},ea={class:"px-4 text-sm bg-white rounded-xl"},aa={class:"flex py-4 items-center border-b-[0.5px] border-solid border-[#D9D9D9]"},oa=s("span",{class:"text-default/80"},"OTC_MUSD",-1),na={class:"ml-auto"},la=s("img",{src:ns,class:"w-auto h-5 ml-2.5"},null,-1),ia={class:"flex items-center py-4"},ca=s("span",{class:"text-default/80"},"OTC_MAI",-1),da={class:"ml-auto"},ra=s("img",{src:Y,class:"w-auto h-5 ml-2.5"},null,-1),ua={key:1,class:"mt-6 mb-2 text-lg font-bold"},ma={key:2,class:"px-4 text-sm bg-white rounded-xl"},_a=["index"],pa={class:"text-default/80"},ha={class:"ml-auto"},fa=["src"],va={class:"mt-6 mb-2 text-lg font-bold"},ba={class:"p-4 text-sm bg-white rounded-xl"},ga={class:"flex items-center"},xa={class:"text-default/80"},$a={class:"ml-auto"},wa=C({name:"serviceAsset"});function ya(o){const g=X(),{pointBalances:x,contributes:c}=Ls(),{credits:N,userTotalLp:h,pendingLp:_,queryId:w}=Ss(),{userIds:L,pending:A}=Ps(),{musd:f,mai:B,balances:S}=Vs(),n=ys({MCOIN:"",MUSD:"",MAI:"",USDT:"",BNB:"",WMAI:"",LP:"",integralNum:0,pointBalance:0,allMai:0,allLp:0,allYue:0,otcMai:0,otcMusd:0,cardList:[],allFmcp:0,parentInfo:{}}),P=e=>{g.push(e)},l=b(""),k=b(!1),V=b(null),ls=async e=>{var i,d;l.value=e,k.value=!0,T.value=null,(i=V.value)==null||i.resetValue(),await Ms(),await Promise.all([(d=V.value)==null?void 0:d.getTableList(),cs(),ds(),rs(),ms(),_s(),ps(),hs(),fs(),vs(),bs(),gs()]),k.value=!1},G=b(),is=()=>{var e,i;l.value="",T.value=null,(e=G.value)==null||e.reset(),(i=V.value)==null||i.resetValue()},cs=async()=>{const{success:e,data:i}=await Os({address:l.value});e&&(n.parentInfo=i||{})},T=b(null),ds=async()=>{const{success:e,data:i}=await qs(l.value);e&&(T.value=i||null)},rs=async()=>{const e=["MCOIN","MUSD","MAI","USDT","BNB","WMAI","LP"];for(let i=0;i<e.length;i++){const d=e[i];if(!q[d])return;const{balanceOf:$}=E(q[d]),U=d==="BNB"?await Ts(l.value):await $(l.value);n[d]=U}},[us,R]=Ds(!1),ms=async()=>{R(!0);const e=await c(l.value);e.success&&(n.integralNum=+e.result||0,R(!1))},_s=async()=>{const e=await x(l.value);n.pointBalance=+e||0},ps=async()=>{const e=await N(l.value),i=+H(e==null?void 0:e.maiTotal);n.allMai=i},hs=async()=>{const e=+await w(l.value);if(!e)return;const i=await _(e),d=await h(e);n.allLp=+Cs(i).plus(d).toString()},fs=async()=>{const e=+await L(l.value);if(!e)return;const i=await A(e.toString());let d=0;i.records.forEach($=>{d+=+H($.amount)||0}),n.allYue=+d.toFixed(18)},vs=async()=>{n.otcMusd=+await S(await f(),l.value),n.otcMai=+await S(await B(),l.value)},bs=async()=>{let e=[];e=(await Us({userAddress:l.value})).data.filter(d=>d.storedCardId>0&&d.shopId)||[];for(let d=0;d<e.length;d++){const $=e[d];e[d].balance=$.contract&&await E($.contract).balanceOf(l.value)}n.cardList=e||[]},gs=async()=>{n.allFmcp=+await E(q.FMCP).balanceOf(l.value)},j=b(!1);return Bs(async()=>{const{success:e,data:i}=await Es(1);e&&(j.value=i||!1)}),(e,i)=>{var $,U;const d=D("van-loading");return u(),m("div",ve,[p(fe),s("div",be,[p(Ot,{ref:(v,y)=>{y.searchBox=v,G.value=v},onSearch:ls,onReset:is,hasPermission:j.value,loading:k.value},null,8,["hasPermission","loading"]),J(s("div",ge,[p(d,{size:"18px"},{default:I(()=>[M(t(e.$t("common.loading"))+"...",1)]),_:1})],512),[[K,k.value]]),J(s("div",null,[T.value&&T.value.shops?(u(),m("div",xe,[s("div",$e,t(e.$t("assets.Store information")),1),p(pe,{data:T.value},null,8,["data"])])):F("",!0),s("div",we,t(e.$t("service.Superior recommender")),1),s("div",ye,[s("span",null,t(e.$t("service.Recommender information")),1),s("span",null,"V"+t(($=a(n).parentInfo)==null?void 0:$.memberLevel),1),s("span",{onClick:i[0]||(i[0]=v=>{var y;return a(ts)((y=a(n).parentInfo)==null?void 0:y.address)})},[M(t(a(es)((U=a(n).parentInfo)==null?void 0:U.address))+" ",1),De])]),s("div",Be,t(e.$t("service.Net")),1),p(Xs,{ref:(v,y)=>{y.tableRef=v,V.value=v},address:l.value},null,8,["address"]),s("div",Ie,t(e.$t("common.wallet")),1),p(Tt,{data:a(n)},null,8,["data"]),s("div",Me,t(e.$t("common.credit")),1),s("div",Ce,[s("div",Le,[s("span",ke,t(e.$t("ranking.Number of points")),1),a(us)?(u(),Is(d,{key:0,size:"14"})):(u(),m("span",Te,t(a(r)(a(n).integralNum)),1))]),s("div",{onClick:i[1]||(i[1]=v=>P("/integralDetail?address="+l.value)),class:"mt-2 text-xs text-center text-blue-002"},t(e.$t("service.View points change details"))+" >> ",1)]),s("div",Ne,t(e.$t("assets.canWithdraw")),1),s("div",Ae,[s("div",Se,[s("span",Pe,t(e.$t("assets.canWithdraw")),1),s("span",Ve,t(a(r)(a(n).pointBalance)),1)]),s("div",{onClick:i[2]||(i[2]=v=>P("/balanceDetail?address="+l.value)),class:"mt-2 text-xs text-center text-blue-002"},t(e.$t("service.View the details of changes in available balance"))+" >> ",1)]),s("div",Ue,t(e.$t("service.In the MAI")),1),s("div",Fe,[s("div",Oe,[s("span",qe,t(e.$t("service.Number of MAI in stock")),1),s("span",Ee,t(a(r)(a(n).allMai)),1),ze])]),s("div",We,t(e.$t("service.Deposited LP")),1),s("div",Ye,[s("div",Ge,[s("span",Re,t(e.$t("service.Number of LPs in existence")),1),s("span",je,t(a(r)(a(n).allLp)),1),Je])]),s("div",Ke,t(e.$t("common.piggy")),1),s("div",Qe,[s("div",He,[s("span",Ze,t(e.$t("service.Lightning Treasure Balance")),1),s("span",Xe,t(a(r)(a(n).allYue)),1),sa])]),s("div",ta,t(e.$t("otc.OTCAccount")),1),s("div",ea,[s("div",aa,[oa,s("span",na,t(a(r)(a(n).otcMusd)),1),la]),s("div",ia,[ca,s("span",da,t(a(r)(a(n).otcMai)),1),ra])]),a(n).cardList&&a(n).cardList.length>0?(u(),m("div",ua,t(e.$t("piggy.stored value card")),1)):F("",!0),a(n).cardList&&a(n).cardList.length>0?(u(),m("div",ma,[(u(!0),m(z,null,W(a(n).cardList,(v,y)=>(u(),m("div",{index:y,class:"flex py-4 items-center border-b-[0.5px] border-solid border-[#D9D9D9]"},[s("span",pa,t(v.symbol),1),s("span",ha,t(a(r)(v.balance)),1),s("img",{src:v.symbolLogo||a(ks)("images/piggyBank/default-token.png"),class:"w-auto h-5 ml-2.5 rounded-full"},null,8,fa)],8,_a))),256))])):F("",!0),s("div",va,t(e.$t("voucher.voucher")),1),s("div",ba,[s("div",ga,[s("span",xa,t(e.$t("service.Voucher balance")),1),s("span",$a,t(a(r)(a(n).allFmcp)),1)])])],512),[[K,!k.value&&l.value]])])])}}const Sa=C({...wa,setup:ya});export{Sa as default};
