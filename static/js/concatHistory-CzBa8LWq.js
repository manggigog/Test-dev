import{_ as V}from"./default-img-CLGxkH-F.js";import{B as N}from"./BackIcon-CDrGaEPo.js";import{c as S}from"./concat-CzA3QGh0.js";import{_ as T,z as j,r as o,y as J,G as l,H as n,I as s,P as g,$ as y,J as F,K as w,O as m,F as q,q as H,N as k,Q as d,U as C,X as R,Y as U}from"./vendor-Dr_RpJ_Y.js";import{u as G,f as K,r as M}from"./index-LRhcxFAI.js";const D=f=>(R("data-v-29a842db"),f=f(),U(),f),O={class:"w-full bg-[#F2F0EF]"},P={class:"fixed top-0 left-0 w-full z-10 h-[44px] bg-[#FFFFFF]"},Q={class:"absolute top-3 left-2.5 text-[#2E2008] flex items-center h-5"},X=D(()=>s("span",{class:"font-medium"},"交流历史",-1)),Y={class:"h-[44px] text-sm font-normal fixed justify-around flex items-center top-[44px] left-0 w-full bg-[#FFFFFF] z-10"},W=["onClick"],Z={class:"bg-white pt-[88px]"},ee=["onClick"],te=D(()=>s("img",{src:V,class:"flex-shrink-0 w-11 h-11"},null,-1)),se={class:"w-[calc(100%-3.5rem)] flex flex-col h-11 justify-between"},ae={class:"flex justify-between w-full text-sm"},oe={class:"text-[#2E2008]/60"},le={class:"flex items-center w-full"},ne={key:0,style:{flex:"0 0 6px"},class:"w-[6px] h-[6px] rounded-full mr-2.5 bg-[#FB1A18]"},re={class:"w-full truncate text-black-600"},ce={key:1,class:"px-1.5 flex-shrink-0 ml-4 py-1 text-xs text-primary rounded border border-primary"},ue=j({setup(f){const z=H(),p=o(!1),u=o(!1),i=o(0),x=o(10),_=o(0),L=o(null),A=t=>{L.value=t,z.push("/concatDetail?id="+t.id)},r=o([]),B=J(()=>[{title:"我发起的",value:1},{title:"我回复的",value:2}]),v=o(1),E=t=>{v.value!==t&&(v.value=t,$())},I=async()=>{const t=G().getCurrentAccount();let c={};v.value===1?c={page:i.value,size:x.value,address:t}:c={page:i.value,size:x.value,replyAddress:t};const a=await S(c);if(!a.success){u.value=!0;return}if(!a.data||!a.total){u.value=!0;return}_.value=a.total,r.value=i.value===1?a.data:r.value.concat(a.data),r.value.length>=_.value&&(u.value=!0)},b=async()=>{p.value=!0,i.value+=1,await I(),p.value=!1},$=()=>{i.value=0,_.value=0,u.value=!1,r.value=[],b()};return(t,c)=>{const a=q("VanList");return n(),l("div",O,[s("header",P,[s("div",Q,[g(N,null,{default:y(()=>[X]),_:1})])]),s("div",Y,[(n(!0),l(F,null,w(m(B),e=>(n(),l("div",{key:e.value,onClick:h=>E(e.value),class:k({abtive_tab:v.value===e.value})},d(e.title),11,W))),128))]),s("div",Z,[g(a,{loading:p.value,"onUpdate:loading":c[0]||(c[0]=e=>p.value=e),finished:u.value,"finished-text":t.$t("common.noMore"),"loading-text":t.$t("common.loading"),onLoad:b},{default:y(()=>[(n(!0),l(F,null,w(r.value,(e,h)=>(n(),l("div",{key:h,onClick:ie=>A(e),class:k([{"border-none":h===r.value.length-1},"flex items-center border-b px-4 gap-3 border-solid border-[#000000]/10 py-5 w-full"])},[te,s("div",se,[s("div",ae,[s("span",null,d(m(K)(e.address,"...",5,5)),1),s("span",oe,d(m(M)(e.createTime)),1)]),s("div",le,[e.replyJson?C("",!0):(n(),l("div",ne)),s("div",re,d(e.content),1),e.replyJson?(n(),l("div",ce,d(t.$t("user.Replied")),1)):C("",!0)])])],10,ee))),128))]),_:1},8,["loading","finished","finished-text","loading-text"])])])}}}),he=T(ue,[["__scopeId","data-v-29a842db"]]);export{he as default};
