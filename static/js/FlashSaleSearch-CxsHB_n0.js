import{_ as k,z as g,q as w,o as F,r,bl as G,E,F as R,G as h,H as _,I as a,P as i,$ as f,U as D,Q as v,O as d,X as L,Y as T}from"./vendor-Dr_RpJ_Y.js";import{B as $}from"./BackIcon-CDrGaEPo.js";import{F as z}from"./FlashSaleGoods-x1hXyHC7.js";import{c as V}from"./category-CPc0zbBB.js";import"./index-CU2nzZe6.js";import"./flashSale-DDyqLyYN.js";import"./RatioBox-BwMA7vB_.js";import"./luckyShopContract-DunEf0Vg.js";import"./shop-CeqcS6K2.js";const q="/static/images/search-CDTd2ms1.svg",H=t=>(L("data-v-d9a4bc78"),t=t(),T(),t),K={class:"px-3 top-0 right-0 left-0 bg-gray1 min-h-screen absolute z-50 h-full overflow-y-auto safe-bottom-page"},O={class:"sticky top-0 z-50 bg-gray1"},P={class:"flex-center-bw gap-1 pt-3"},U={key:0,class:"border border-solid rounded-lg px-2 py-0.5 text-xs text-primary"},j=H(()=>a("img",{src:q,class:"w-5 h-5"},null,-1)),A=[j],M=g({name:"FlashSaleSearch"});function Q(t){const u=w(),y=F(),c=r(),l=r(null),n=G({title:"",pageKey:"flashSale"}),S=e=>{e.code==="Enter"&&l.value.handleSearch(n)},x=()=>{l.value.handleSearch(n)},p=r([]),b=async()=>{const e=[{id:null,type:1,name:"精选",cnName:"精選",jpName:"おすすめ",enName:"Featured"}],o=await V();o.success&&(p.value=[...e,...o.data])},C=e=>{m(`/saleGoodDetail?id=${e.id}`)},m=e=>{u.push(e)},B=async()=>{c.value=y.query.className||null,b()};return E(()=>{B()}),(e,o)=>{const I=R("van-field");return _(),h("div",K,[a("section",O,[a("section",P,[i($),i(I,{"model-value":d(n).title,"onUpdate:model-value":o[0]||(o[0]=s=>d(n).title=s),clearable:"",class:"rounded-3xl flex-1",onKeypress:S},{"left-icon":f(()=>[c.value?(_(),h("view",U,v(c.value),1)):D("",!0)]),"right-icon":f(()=>[a("div",{onClick:x},A)]),_:1},8,["model-value"]),a("div",{class:"opacity-50",onClick:o[1]||(o[1]=s=>d(u).go(-1))},v(e.$t("common.cancel")),1)])]),i(z,{onHandleTo:m,ref:(s,N)=>{N.saleGoodsRef=s,l.value=s},class:"mt-4",categoryList:p.value,onRushToBuy:C},null,8,["categoryList"])])}}const X=g({...M,setup:Q}),ne=k(X,[["__scopeId","data-v-d9a4bc78"]]);export{ne as default};
