import{_ as v,o as I,x as _,q as k,F as w,G as a,H as c,I as s,U as n,P as S,a4 as q,Q as o,V as A,O as C,a3 as j,X as D,Y as V,T as l}from"./vendor-Dr_RpJ_Y.js";import{_ as T}from"./MCOIN-BOqZVkND.js";import{ar as B,as as F}from"./index-CU2nzZe6.js";const N="/static/images/add-Bj4XIqzr.svg",R="/static/images/theme1-u-B4ftxWpS.png",$="/static/images/theme2-u-DaKqH4sV.png",z="/static/images/theme3-u-D6Rgj3kV.png",r=t=>(D("data-v-6cfea335"),t=t(),V(),t),E={class:"goods-image"},G={key:0,class:"absolute top-0 left-0 z-10 flex items-center justify-center w-full h-full text-sm text-white whitespace-nowrap bg-black/50"},O=r(()=>s("span",{class:"mr-0.5"},"·",-1)),P=r(()=>s("span",{class:"ml-0.5"},"·",-1)),H={class:"absolute top-0 left-0 w-full h-full"},M=["src"],X={class:"goods-info"},K={class:"goods-name text-b1 font-semibold text-base line-clamp-1"},Q={class:"tag-list mt-2 flex flex-wrap gap-1"},U={key:0,class:"tag-item text-[#FF8812] text-xxs font-normal"},W={key:1,class:"tag-item text-[#FF8812] text-xxs font-normal"},Y={class:"goods-price-line mt-2 flex justify-between items-center"},J={class:"goods-price flex justify-start items-center"},L={class:"currency"},Z=["src"],tt={class:"amount ml-1 text-b1 text-sm font-semibold"},st={class:"ml-1 text-b3 text-xs font-normal line-through"},ot=r(()=>s("img",{src:N,class:"w-5 h-5",alt:""},null,-1)),et=[ot],at={props:{goods:{type:Object,default:()=>{}}},setup(t){const h=t,g=I(),{t:u}=_(),m=k(),f=B(),x={1:R,2:$,3:z},b={1:{position:"absolute",bottom:"14px",left:"0",right:"0",margin:" 0 auto",textAlign:"center"},2:{position:"absolute",bottom:"8px",left:"0",right:"0",margin:" 0 auto",textAlign:"center"},3:{position:"absolute",bottom:"7px",left:"7px",right:"0",textAlign:"left"}},p=()=>{m.push({path:"/goodsDetail",query:{id:h.goods.goodsId}})},y=async e=>{if(e.stock===0&&e.goodsTypes!=2){l(u("order.Insufficient stock"));return}l.loading({duration:0});const i={needlogin:"true",...g.query};m.replace({path:g.path,query:i});const d=await F(e.id);l.clear(),d.success&&(l(u("cart.addTips")),f.getCartCount())};return(e,i)=>{const d=w("van-image");return c(),a("div",{key:t.goods.id,class:"goods-card relative",onClick:p},[s("div",E,[t.goods.activityStock<=0?(c(),a("div",G,[O,q(" "+o(e.$t("goods.act Sold Out")),1),P])):n("",!0),S(d,{width:"100%",height:"100%",src:t.goods.goodsIcons&&t.goods.goodsIcons.split(",")[0]||e.getImage("images/activity/boutique/squre_empty.png"),fit:"cover"},null,8,["src"]),s("div",H,[t.goods.labelId?(c(),a("img",{key:0,src:x[t.goods.labelId],class:"goods-theme w-full h-full object-fill"},null,8,M)):n("",!0),s("span",{class:"goods-slogan absolute text-b6 test-sm",style:A(b[t.goods.labelId])},o(t.goods.slogan||`满${t.goods.fullAmount||0}减${t.goods.reduceAmount||0}`),5)])]),s("div",X,[s("p",K,o(t.goods.goodsName),1),s("div",Q,[t.goods.goodsDiscountRatio?(c(),a("div",U," 让利"+o(t.goods.goodsDiscountRatio)+"% ",1)):n("",!0),t.goods.fullAmount?(c(),a("div",W," 满"+o(t.goods.fullAmount||0)+"-"+o(t.goods.reduceAmount||0),1)):n("",!0)]),s("div",Y,[s("div",J,[s("span",L,[s("img",{src:C(T),alt:"MC",class:"w-4 h-4"},null,8,Z)]),s("span",tt,o(t.goods.activityPrice),1),s("span",st,o(t.goods.goodsPrice),1)]),s("div",{class:"add-cart",onClick:i[0]||(i[0]=j(ct=>y(t.goods),["stop"]))},et)])])])}}},dt=v(at,[["__scopeId","data-v-6cfea335"]]);export{dt as G};
