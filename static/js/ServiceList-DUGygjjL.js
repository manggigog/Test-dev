import{_ as V,y as $,bc as u,bd as N,a1 as D,F as h,G as d,H as l,O as n,Q as c,N as r,P as s,E as x,I as S,J as R,K as z,a4 as _,a0 as v}from"./vendor-CjApaIpB.js";import{D as A}from"./DeliveredItem-DXPbRBpS.js";import{B as G}from"./BackIcon-D2Vm_lyR.js";import{e as q,aN as E}from"./index-B3VH42pz.js";import{C as F}from"./ChangeRegion-gAKG44Xn.js";import{l as M}from"./luckyShopContract-CxfmjUqE.js";import"./avatarRing-DpEnkbQ2.js";import"./address-BEqE8lWA.js";import"./GoodsItem-CqvfUUWN.js";import"./useOrderStatus-DMn11Py2.js";import"./ChangeRegionPop-DePVVDPh.js";const P={class:"px-3 bg-[#f2f0ef] mb-1"},T={class:"gap-2 mt-2 flex-start"},j={class:"text"},H={class:"flex-center-bw"},J=$({setup(K){const{serverDealProtest:b}=M(),{reloadStore:w}=q(),[y,f]=u(!1),[k,p]=u(!1),e=N({active:1,page:0,size:10,finished:!1,list:[],loading:!1,total:0}),C=async()=>{e.loading=!0,e.page+=1,await L(),e.loading=!1},L=async()=>{const o={page:e.page,size:e.size},t=await E(o);if(e.loading=!1,!t.success){e.finished=!0;return}if(!t.data||!t.total){e.finished=!0;return}e.total=t.total,e.list=e.page===1?t.data:e.list.concat(t.data),e.list.length>=e.total&&(e.finished=!0)},g=D();g.query.active&&(e.active=Number(g.query.active));const m=async(o,t)=>{t?p(!0):f(!0);const i=await b(o,t);f(!1),p(!1),i.success&&w.reload()};return(o,t)=>{const i=x("VanButton"),B=x("VanList");return d(),h("div",P,[l("div",T,[n(G),l("div",j,c(o.$t("common.service")),1),n(F,{showIcon:!0,showDownIcon:!0,class:"ml-auto bg-gray1 px-2 rounded-[20px] border-2 border-solid border-white",style:{"box-shadow":"0px 0px 15px 0px rgba(51, 47, 42, 0.3) inset"}})]),n(B,{class:"mt-2.5",loading:s(e).loading,"onUpdate:loading":t[0]||(t[0]=a=>s(e).loading=a),finished:s(e).finished,"finished-text":o.$t("common.noMore"),"loading-text":o.$t("common.loading"),onLoad:C},{default:r(()=>[(d(!0),h(S,null,R(s(e).list,a=>(d(),z(A,{key:a.id,order:a},{default:r(()=>[l("div",H,[n(i,{class:"border-orange bg-[#fff] rounded-3xl text-[#fea021] w-[130px] h-[45px]",onClick:_(I=>m(a.odGoodsId,!0),["stop"]),loading:s(k)},{default:r(()=>[v(c(o.$t("common.agree")),1)]),_:2},1032,["onClick","loading"]),n(i,{class:"btn-orange rounded-3xl text-white w-[130px] h-[45px]",onClick:_(I=>m(a.odGoodsId,!1),["stop"]),loading:s(y)},{default:r(()=>[v(c(o.$t("common.reject")),1)]),_:2},1032,["onClick","loading"])])]),_:2},1032,["order"]))),128))]),_:1},8,["loading","finished","finished-text","loading-text"])])}}}),se=V(J,[["__scopeId","data-v-0450dbab"]]);export{se as default};
