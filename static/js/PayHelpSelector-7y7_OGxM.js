import{z as M,x as P,y as U,a2 as b,F as _,G as y,H as h,P as a,$ as x,I as s,Q as l,O as o,J as B,K as H,a3 as C,a0 as $,bs as F,a4 as N}from"./vendor-Dr_RpJ_Y.js";import{_ as O}from"./MCOIN-Bodfn-v1.js";import{k,e as j,y as D,h as E}from"./index-LRhcxFAI.js";const K={class:"bg-b5 p-4 font-Puhui safe-bottom"},z={class:"header text-center text-lg text-b1 font-bold relative"},A={class:"absolute right-0 top-0 w-6 h-6 text-b1 font-bold"},Q={class:"flex items-center justify-center gap-x-1 mt-4"},G=s("img",{src:O,class:"w-[17px] h-[17px]"},null,-1),J={class:"text-b1 text-[28px] font-bold"},L={class:"bg-b6 rounded-xl px-3 mt-4"},R=["onClick"],Y={class:"flex py-3 items-center justify-between gap-x-2"},q=["src"],W={class:"text-b1 font-semibold"},X={class:"w-[230px] h-[230px] relative flex justify-center items-center bg-b6 rounded-2xl"},Z={class:"font-Puhui"},ne=M({props:{amount:null,link:null},setup(r,{expose:S}){const d=r,{t:w}=P(),g=[{id:1,name:"metakey",icon:k("images/payHelp/metakey.svg"),text:"Metakey"},{id:2,name:"scan",icon:k("images/payHelp/scan.png"),text:w("payhelp.scan_code")},{id:2,name:"copy",icon:k("images/payHelp/copy.png"),text:w("payhelp.copy_link")}],T=U(()=>{var n;return(n=window==null?void 0:window.ethereum)!=null&&n.isMetaKey?g:g.filter(e=>e.name!=="metakey")}),[p,c]=b(!1),[u,m]=b(!1),[V,f]=b(!1),I=n=>{var e;switch(n){case"metakey":if((e=window==null?void 0:window.ethereum)!=null&&e.isMetaKey)try{window==null||window.handleSendMessage({myUrl:d.link,otherUrl:d.link,type:"SUBSTITUTE_PAYMENT",detail:{}})}catch(i){console.log(i)}break;case"scan":m(!0);break;case"copy":E(d.link,"已复制到剪切板");break}};return S({setShow:c,setTipShow:f}),(n,e)=>{const i=_("VanIcon"),v=_("VanPopup");return h(),y("div",{onClick:e[8]||(e[8]=C(()=>{},["stop"]))},[a(v,{show:o(p),"onUpdate:show":e[0]||(e[0]=t=>$(p)?p.value=t:null),position:"bottom",round:"",style:{background:"transparent"},onClickOverlay:e[1]||(e[1]=t=>o(c)(!1)),onClick:e[2]||(e[2]=t=>o(c)(!1))},{default:x(()=>[s("div",K,[s("div",z,[s("span",null,l(n.$t("payhelp.findHelp")),1),s("div",A,[a(i,{name:"cross"})])]),s("div",Q,[G,s("span",J,l(o(j)(r.amount)),1)]),s("div",L,[(h(!0),y(B,null,H(o(T),t=>(h(),y("div",{key:t.id,class:"flex-center-bw border-b-[0.5px] border-solid border-b4 last:border-none",onClick:C(ee=>I(t.name),["stop"])},[s("div",Y,[s("img",{src:t.icon,class:"w-8 h-8"},null,8,q),s("span",W,l(t.text),1)]),a(i,{name:"arrow",class:"text-b3 text-base"})],8,R))),128))])])]),_:1},8,["show"]),a(v,{show:o(u),"onUpdate:show":e[3]||(e[3]=t=>$(u)?u.value=t:null),position:"center",style:{background:"transparent"},onClickOverlay:e[4]||(e[4]=t=>o(m)(!1)),onClick:e[5]||(e[5]=t=>o(m)(!1))},{default:x(()=>[s("div",X,[a(F,{value:r.link,size:190,background:"transparent",level:"M"},null,8,["value"])])]),_:1},8,["show"]),a(D,{noClose:"",show:o(V),onClose:e[7]||(e[7]=t=>o(f)(!1))},{default:x(()=>[s("div",Z,[N(l(n.$t("payhelp.linkTip"))+" ",1),s("div",{class:"mt-6 flex-1 h-[46px] leading-[46px] rounded-full text-center bg-yellow",onClick:e[6]||(e[6]=t=>o(f)(!1))},l(n.$t("common.I_see")),1)])]),_:1},8,["show"])])}}});export{ne as _};
