import{_ as T,y as k,w,r as E,z as B,x as h,B as D,E as C,F as u,G as p,H as o,O as f,a2 as x,Q as r,P as g,bc as G,bo as $,a0 as M,I as L,Y as O,Z as S}from"./vendor-BUT0HZ5j.js";import{_ as V}from"./mall-BNNzTN-n.js";import{_ as P}from"./MCOIN-BcbOHmhy.js";import{O as z}from"./OrderGoods-6Orhet_M.js";import{g as F}from"./enums-DlE-aiss.js";const v=s=>(O("data-v-acd754b2"),s=s(),S(),s),q={class:"flex-start pb-3 text-base font-semibold"},j=v(()=>o("img",{src:V,class:"w-5 h-5 mr-2"},null,-1)),H={key:0,class:"flex-center-bw text-sm"},Q={class:"text-b3"},U={class:"flex text-right text-b1"},Y={key:1,class:"bg-white rounded-lg p-2.5"},Z={key:0,class:"flex-center-bw pb-3"},A={class:"text-sm"},J={class:"flex items-center justify-end gap-1"},K={class:"input-wrapper rounded bg-[#f1f1f1]"},R={class:"px-2"},W=["placeholder"],X={class:"flex-center-bw"},ee={class:"text-sm"},se={class:"flex items-center"},te=v(()=>o("img",{src:P,class:"w-3 h-3 mr-1"},null,-1)),oe=k({props:{orderInfo:null,number:null,isDisabledEdit:{type:Boolean},isDisabledEditCount:{type:Boolean},maxNumber:null,payType:null,card:null,needMask:{type:Boolean,default:!0},expressGoodsList:null},emits:["changeNumber"],setup(s,{emit:y}){const e=s,{t:_}=w(),c=E(1);B(()=>e.number,t=>{c.value=t});const m=t=>{+t&&e.maxNumber&&+t>=e.maxNumber?(c.value=e.maxNumber,y("changeNumber",+e.maxNumber)):y("changeNumber",+t)},N=h(()=>{var t,n;return+D(e.payType===2?(t=e.orderInfo)==null?void 0:t.cardPrice:(n=e.orderInfo)==null?void 0:n.price).times(e.number)}),I=h(()=>{var a,d,i;const t=(d=(a=e.orderInfo)==null?void 0:a.goods)==null?void 0:d.id,n=(i=e.expressGoodsList)==null?void 0:i.find(l=>l.goodsId===t);return n&&F(_)[n.shippingTemplateType]||""});return(t,n)=>{var a,d,i;const b=C("van-button");return p(),u(L,null,[o("div",q,[j,o("div",null,r(((d=(a=s.orderInfo)==null?void 0:a.stores)==null?void 0:d.storeName)||((i=s.orderInfo)==null?void 0:i.shopName)||"-"),1)]),f(z,{needMask:s.needMask,goods:e.orderInfo.goods||e.orderInfo,number:e.number,class:"mb-3",onChangeNumber:m,isDisabledEdit:e.isDisabledEdit,payType:s.payType,card:s.card},null,8,["needMask","goods","number","isDisabledEdit","payType","card"]),s.expressGoodsList&&s.expressGoodsList.length>0?(p(),u("div",H,[o("div",Q,r(t.$t("order.expressPrice")),1),o("div",U,r(g(I)),1)])):x("",!0),e.isDisabledEdit?(p(),u("div",Y,[e.isDisabledEditCount?x("",!0):(p(),u("div",Z,[o("div",A,r(t.$t("ecology.quantity")),1),o("div",J,[f(b,{icon:"minus",size:"mini",type:"primary",class:"w-5 border-none aspect-square text-default",disabled:e.number===1,onClick:n[0]||(n[0]=l=>m(e.number-1))},null,8,["disabled"]),o("div",K,[o("span",R,r(e.number),1),G(o("input",{class:"text-center rounded input-box",type:"number","onUpdate:modelValue":[n[1]||(n[1]=l=>c.value=l),m],placeholder:e.maxNumber?e.maxNumber.toString():""},null,8,W),[[$,c.value]])]),f(b,{icon:"plus",size:"mini",type:"primary",disabled:e.number>=t.$props.orderInfo.purchaseLimit,style:{border:"none",background:"none",color:"#000"},onClick:n[2]||(n[2]=l=>m(e.number+1))},null,8,["disabled"])])])),o("div",X,[o("div",ee,r(t.$t("common.total price")),1),o("div",se,[te,M(r(g(N))+r(s.payType===2?s.card&&s.card.symbol:"Mcoin"),1)])])])):x("",!0)],64)}}}),le=T(oe,[["__scopeId","data-v-acd754b2"]]);export{le as O};
