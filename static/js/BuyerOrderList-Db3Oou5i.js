import{_ as De,z as ye,F as B,Z as M,H as h,$ as v,I as n,Q as a,P as m,a4 as C,x as qe,a2 as ee,D as Ue,j as ve,y as Oe,r as d,bl as nt,E as je,G as D,bv as at,O as f,U as A,J as te,K as xe,N as he,a3 as G,a0 as Te,X as lt,Y as it,q as rt,o as ut,bo as Fe,V as dt,T as L}from"./vendor-Dr_RpJ_Y.js";import{_ as ct}from"./BuyerDeliveredItem-B9XuGGQf.js";import{y as mt,u as pt,aA as ie,V as ft,a as vt,b as ht,i as Ee,a8 as yt}from"./index-BckdT6oc.js";import{B as gt,V as wt}from"./VoucherConfirm-CSRrzjx8.js";import{_ as bt}from"./search-C4fLtTfY.js";import{_ as _t}from"./filter-DRLh1k_O.js";import{a as Ct}from"./category-D2HQzb2Y.js";import{_ as Tt}from"./CountdownLabel-BEWGrnUw.js";import{_ as kt}from"./RegionBox-Dwor092Q.js";import{C as $t}from"./CommonVanProvider-KZuKVOde.js";import{B as xt}from"./BetweenTab-nGcUWfRT.js";import{_ as Dt}from"./RecommendationFeed-By3SPRJ_.js";import{m as Pe,a as ke,c as $e,n as Me,C as Bt}from"./order-BTAcEDew.js";import{d as Ne,a as St}from"./useOrderStatus-B4sCDXOr.js";import{a as It,h as Ye,n as Vt,o as Rt}from"./useOrderActionButtons-CBZMA2Vd.js";import"./MCOIN-Bodfn-v1.js";import"./USDT-Dlu99aCg.js";import"./order-H59PKTFP.js";import"./flashSale-DDyqLyYN.js";import"./useShipTemplate-4sMa-Tzi.js";import"./enums-DlE-aiss.js";import"./default-avatar-BIKCDGrQ.js";import"./selected-icon-Dcrtmy6G.js";import"./useRefund-DuvymEPl.js";import"./BackIcon-CDrGaEPo.js";/* empty css                                                               */import"./GoodsItem-BjohChWG.js";import"./buy-cart-m4kq4Bzt.js";import"./goods-BVwS8oFG.js";import"./ShopMaskTips-ClYuWX9C.js";import"./GoodsPrice-Dz5PcG19.js";import"./shop-CeqcS6K2.js";import"./mall-BsPFqNQo.js";import"./WaterFull-BoFTr9ol.js";/* empty css                                                              */import"./useShowActiveInfo-Cv9TtuRq.js";const Lt={class:"text-center text-[#B9B9B9] py-5 font-normal"},At={class:"flex justify-center"},Ot=ye({props:{show:{type:Boolean},order:null,loading:{type:Boolean}},emits:["close","confirm"],setup(T,{emit:N}){return(O,S)=>{const Z=B("VanButton"),I=B("van-button");return h(),M(mt,{width:"90%",show:T.show,name:O.$t("order.delayConfirm"),onClose:S[2]||(S[2]=()=>{N("close")})},{default:v(()=>[n("div",Lt,a(O.$t("order.delayTips")),1),n("div",At,[m(Z,{class:"plain-btn w-1/2 mx-2.5 text-defalut font-normal h-10",onClick:S[0]||(S[0]=Y=>N("close")),loading:T.loading},{default:v(()=>[C(a(O.$t("common.cancel")),1)]),_:1},8,["loading"]),m(I,{class:"w-1/2 mx-2.5 btn-orange btn-shadow text-white font-normal h-10",loading:T.loading,onClick:S[1]||(S[1]=Y=>N("confirm",T.order))},{default:v(()=>[C(a(O.$t("common.confirm")),1)]),_:1},8,["loading"])])]),_:1},8,["show","name"])}}}),Ft=De(Ot,[["__scopeId","data-v-40b66748"]]),Be=T=>(lt("data-v-5248d28d"),T=T(),it(),T),Et={class:"pb-3 pt-3 flex items-center"},Pt={class:"flex-1 bg-white rounded-3xl search-input-box"},Mt=Be(()=>n("div",null,[n("img",{src:bt,class:"w-4 h-4"})],-1)),Nt=Be(()=>n("img",{src:_t,class:"w-full h-full"},null,-1)),Yt=[Nt],qt={class:"flex flex-col h-fit justify-between px-5 pb-[94px] text-[#2E2008]"},Ut={class:"mt-4 pb-4 text-lg leading-[26px] font-bold text-center"},jt={class:"overflow-y-auto flex-1"},Kt={class:"text-sm font-semibold font-Puhui"},Gt={class:"flex items-center gap-2 mt-3"},zt={class:"pt-3 flex-start"},Ht=Be(()=>n("div",{class:"mx-3"},"-",-1)),Wt={key:0},Zt={class:"text-base font-semibold mt-[16px]"},Jt={class:"flex flex-wrap items-center gap-2 gap-y-3 mt-3"},Qt={class:"px-3 py-4 flex justify-between gap-3 fixed bottom-0 left-0 right-0 bg-white"},Xt=ye({props:{modelValue:null,noType:{type:Boolean},active:null},emits:["update:modelValue","onSubmit","onFilter","getList"],setup(T,{expose:N,emit:O}){const S=T,{getCurrentStoreId:Z}=pt(),{t:I}=qe(),[Y,b]=ee(!1);Ue(()=>S.active,i=>{p.state=null});const V=ve().format("YYYY-MM-DD"),_=ve().subtract("days",7).format("YYYY-MM-DD"),F=ve().subtract("month",1).format("YYYY-MM-DD"),J=ve().subtract("month",3).format("YYYY-MM-DD"),re=Oe(()=>[{id:1,label:I("shop.Last 7 days")},{id:2,label:I("shop.last month")},{id:3,label:I("shop.last 3 months")}]),ue=Oe(()=>[{id:1,label:I("goods.commonOrderWaitDeal"),value:[1]},{id:2,label:I("goods.creditPendingUnfreeze"),value:[11]},{id:3,label:I("refund.Platform intervention"),value:[10]}]),[Q,q]=ee(!1),[se,oe]=ee(!1),y=d(),g=d(),k=d(),E=d(new Date(new Date("2020/1/1").getTime())),R=d(),p=nt({startTime:null,endTime:null,state:null}),ne=(i=!0)=>{p.endTime=null,p.startTime=null,p.state=null,j.value=null,y.value=null,g.value=null,k.value=null,i&&le()},U=()=>{q(!1),oe(!1),(!p.startTime||!p.endTime)&&(p.endTime=null,p.startTime=null)},ge=i=>{y.value=new Date(ie(i)),R.value=new Date(new Date(i).getTime()),p.startTime=ie(y.value),j.value=null,q(!1),oe(!0)},X=i=>{g.value=new Date(ie(i)),p.startTime=ie(y.value),p.endTime=ie(i),j.value=null,oe(!1)},ae=()=>{var r;return{createStartTime:p.startTime||null,createEndTime:p.endTime||null,refundStatusList:k.value?(r=ue.value.find($=>$.id===k.value))==null?void 0:r.value:null}},le=()=>{const i=ae();O("getList",i),b(!1)},de=d(null),ce=()=>{O("onSubmit"),de.value.blur()},j=d(null),we=i=>{if(j.value!==i){switch(g.value=new Date(V),p.endTime=V,i){case 1:p.startTime=_,y.value=new Date(_),R.value=new Date(new Date(_).getTime()+60*1e3);break;case 2:p.startTime=F,y.value=new Date(F),R.value=new Date(new Date(F).getTime()+60*1e3);break;case 3:p.startTime=J,y.value=new Date(J),R.value=new Date(new Date(J).getTime()+60*1e3);break}j.value=i}},me=d([]),be=async()=>{var r;const i=await Ct({address:(r=await Z())==null?void 0:r.merchant});me.value=i.data||[]};return je(()=>{be()}),N({handleReset:ne}),(i,r)=>{const $=B("VanField"),z=B("VanButton"),pe=B("van-datetime-picker"),fe=B("van-popup"),_e=B("VanPopup");return h(),D(te,null,[n("div",Et,[n("div",Pt,[m($,{ref:(l,H)=>{H.searchRef=l,de.value=l},onKeyup:at(ce,["enter"]),"model-value":T.modelValue,"onUpdate:modelValue":r[0]||(r[0]=l=>O("update:modelValue",l)),placeholder:"请输入商品名/交易哈希/支付地址/物流/备注",class:"w-[100% - 20px] text-center bg-transparent items-center text-xs",clearable:"",enterkeyhint:"search"},{"left-icon":v(()=>[Mt]),"right-icon":v(()=>[n("div",{onClick:ce,class:"text-newOrigin font-semibold leading-5 text-sm"},a(i.$t("common.search")),1)]),_:1},8,["onKeyup","model-value"])]),n("div",{class:"flex-shrink-0 w-5 h-5 ml-2",onClick:r[1]||(r[1]=l=>f(b)(!0))},Yt)]),m(_e,{teleport:"body",show:f(Y),"onUpdate:show":r[8]||(r[8]=l=>Te(Y)?Y.value=l:null),round:"",position:"bottom",closeable:"","close-on-click-overlay":"",onClickOverlay:r[9]||(r[9]=l=>f(b)(!1)),onClickCloseIcon:r[10]||(r[10]=l=>f(b)(!1))},{default:v(()=>[n("div",qt,[n("div",Ut,a(i.$t("common.OrderScreening")),1),n("div",jt,[n("div",Kt,a(i.$t("common.payOrderTime")),1),n("div",Gt,[(h(!0),D(te,null,xe(f(re),l=>(h(),M(z,{class:he(["rounded text-sm px-3 h-[35px] bg-b5 flex-1 text-b1 whitespace-nowrap border-0",j.value==l.id?"cell-active":""]),key:l.id,onClick:H=>we(l.id)},{default:v(()=>[C(a(l.label),1)]),_:2},1032,["class","onClick"]))),128))]),n("div",zt,[n("div",{class:"rounded bg-[#F5F5F5] h-[35px] van-cell p-0 leading-[35px] flex justify-center",onClick:r[2]||(r[2]=G(l=>f(q)(!0),["stop"]))},[n("div",{class:he({"opacity-30":!f(p).startTime})},a(f(p).startTime||i.$t("goods.selectStartTime")),3)]),m(fe,{show:f(Q),"onUpdate:show":r[4]||(r[4]=l=>Te(Q)?Q.value=l:null),position:"bottom",round:"",style:{height:"50%"},"close-on-click-overlay":!1,teleport:"body"},{default:v(()=>[m(pe,{modelValue:y.value,"onUpdate:modelValue":r[3]||(r[3]=l=>y.value=l),"min-date":E.value,type:"date",title:i.$t("goods.selectStartTime"),onCancel:U,onConfirm:ge},null,8,["modelValue","min-date","title"])]),_:1},8,["show"]),Ht,n("div",{class:"rounded bg-[#F5F5F5] h-[35px] van-cell p-0 leading-[35px] flex justify-center",onClick:r[5]||(r[5]=G(l=>f(q)(!0),["stop"]))},[n("div",{class:he({"opacity-30":!f(p).endTime})},a(f(p).endTime||i.$t("goods.selectEndTime")),3)]),m(fe,{show:f(se),"onUpdate:show":r[7]||(r[7]=l=>Te(se)?se.value=l:null),position:"bottom",round:"",style:{height:"50%"},"close-on-click-overlay":!1,teleport:"body"},{default:v(()=>[m(pe,{modelValue:g.value,"onUpdate:modelValue":r[6]||(r[6]=l=>g.value=l),onConfirm:X,"min-date":R.value,onCancel:U,type:"date",title:i.$t("goods.selectEndTime")},null,8,["modelValue","min-date","title"])]),_:1},8,["show"])]),T.noType?A("",!0):(h(),D("div",Wt,[n("div",Zt,a(i.$t("common.category")),1),n("div",Jt,[(h(!0),D(te,null,xe(f(ue),l=>(h(),M(z,{class:he(["rounded text-sm px-3 h-[35px] bg-b5 text-b1 whitespace-nowrap border-0",k.value==l.id?"cell-active":""]),key:l.id,onClick:H=>k.value=l.id},{default:v(()=>[C(a(l.label),1)]),_:2},1032,["class","onClick"]))),128))])]))]),n("div",Qt,[m(z,{class:"flex-1 h-[46px] bg-[#f5f5f5] text-b1 rounded-full border-0 text-base font-normal",onClick:ne},{default:v(()=>[C(a(i.$t("common.reset")),1)]),_:1}),m(z,{class:"flex-1 h-[46px] bg-btnOrBg text-b1 rounded-full border-0 text-base font-semibold",onClick:le},{default:v(()=>[C(a(i.$t("common.confirm")),1)]),_:1})])])]),_:1},8,["show"])],64)}}}),es=De(Xt,[["__scopeId","data-v-5248d28d"]]),ts={class:"buyer-order-list-wrapper h-full"},ss={class:"px-3"},os={class:"bg-[#f2f0ef]"},ns={class:"h-[calc(100vh-50px-33px-60px)] overflow-y-auto"},as={class:"button-line__wrap text-line overflow-hidden"},ls={key:0,class:"pt-3 text-sm text-b3"},is={key:0,class:"items-center inline"},rs={class:"block"},us={class:"colon"},ds={class:"block"},cs={class:"colon"},ms={class:"block"},ps={class:"colon"},fs={class:"block"},vs={class:"colon"},hs={key:1,class:"inline mt-1"},ys={class:"block"},gs={class:"colon"},ws={class:"block"},bs={class:"colon"},_s={class:"block"},Cs={class:"colon"},Ts={class:"block"},ks={class:"colon"},$s={class:"flex justify-start items-center mt-2 overflow-hidden"},xs={class:"text-sm font-normal text-b3 overflow-hidden"},Ds=C(" 请及时退回商品 "),Bs={class:"ml-auto flex items-center gap-2"},Ss=["onClick"],Is={class:"text-sm text-[#FF8812] font-normal font-Puhui"},Vs={key:1,class:"flex justify-end items-center mt-2"},Rs={class:"ml-auto"},Ls=ye({name:"BuyerOrderList"});function As(T){const{getUserDhKey:N,decryptAddressKey:O,decryptKey:S,cryptoAESWithBuyerSearch:Z}=ft(),{reloadStore:I}=vt(),{checkLoginAuth:Y}=ht(),{t:b}=qe(),V=d(-1);d(1);const _=rt(),F=ut();F.query.active&&(V.value=Number(F.query.active));const J=e=>{const t=$.value||Date.now();return St(e.expressTime,e.confirmLimit,t)},re=e=>{const t=$.value||Date.now();return Ne(e.merchantsConfirm,t)},ue=e=>($.value||Date.now()/1e3,Rt(e)),Q=e=>Vt(e),q=e=>Ye(e);Ue(()=>F.path,(e,t)=>{e==="/buyerOrderList"&&t!=="/buyerOrderList"&&(console.log("从子页面返回，刷新订单列表"),sessionStorage.getItem("refreshOrderID")&&se())},{immediate:!1});const se=async()=>{const e=sessionStorage.getItem("refreshOrderID");if(e)try{const t=await ke({id:e});if(t.success&&t.data){const c=g.value.findIndex(u=>u.id===parseInt(e));c!==-1?Object.assign(g.value[c],t.data):console.log("未找到要更新的订单，ID:",e)}}catch{}finally{sessionStorage.removeItem("modifiedOrderId")}},oe=d([{id:-1,name:b("order.all")},{id:0,name:b("order.waitPay")},{id:1,name:b("order.wait")},{id:2,name:b("order.already")},{id:4,name:b("order.completed")}]),y=d(""),g=d([]),k=d(!1),E=d(!1),R=d(0),p=d(10),ne=d(0),U=d({}),ge=async()=>{Y(!0)&&(R.value+=1,await ae(U.value))},X=d([]),ae=async(e={})=>new Promise(async t=>{k.value&&t(),k.value=!0,U.value=Object.keys(e).length>0?e:U.value;let c=V.value,u=null;y.value&&(u=await Z(y.value.replace(/\s+/g,""))),L.loading({duration:0,forbidClick:!0});const s=await Pe({page:R.value,size:p.value,status:V.value,type:2,keyword:u,keywordPlain:y.value,...e});if(L.clear(),!s.success){E.value=!0;return}if(!s.data||!s.total){E.value=!0,k.value=!1;return}c===V.value&&(ne.value=s.total,X.value=s.data,g.value=R.value===1?X.value:g.value.concat(X.value),g.value.length>=ne.value&&(E.value=!0),k.value=!1,ce(X.value),t())}),le=async e=>{E.value=!1,g.value=[],R.value=1,await ae(e)},de=()=>{if(y.value=y.value.trim(),y.value&&y.value.length<2)return L(b("common.Please enter at least two keywords"));le(U.value)},ce=async e=>{var c;let t=[];for(let u=0;u<e.length;u++){let s={...e[u]};if(!s.userEns){if(s.userAddress&&(s.userAddress.postscript=s.postscript),s!=null&&s.userAddress&&((c=s==null?void 0:s.userAddress)!=null&&c.encryptFlag)){const x=await N(s.stores.id,s==null?void 0:s.submitMerchantPubKey);x&&(s.userAddress=O(s.userAddress,x))}if(s!=null&&s.shippingHash){const x=await N(s.stores.id,s==null?void 0:s.shippingMerchantPubKey);if(x){const K=S(s.expressNo,x);K.hash===s.shippingHash&&(s.expressNo=K.decrypt,s.expressCompany=S(s.expressCompany,x).decrypt)}}t.push(await j(s))}}t.filter(u=>u.userEns),t.length&&Bt({enInfoList:t})},j=async e=>{var t,c,u,s,x,K,W,o,P;try{let st=((P=[(((t=e==null?void 0:e.userAddress)==null?void 0:t.postscript)||"").replace(/\s+/g,""),""+(((c=e==null?void 0:e.userAddress)==null?void 0:c.provinceName)||"")+(((u=e==null?void 0:e.userAddress)==null?void 0:u.cityName)||"")+(((s=e==null?void 0:e.userAddress)==null?void 0:s.countyName)||"")+(((x=e==null?void 0:e.userAddress)==null?void 0:x.detailInfo)||""),(K=e==null?void 0:e.userAddress)==null?void 0:K.telNumber,e==null?void 0:e.address,(W=e==null?void 0:e.stores)==null?void 0:W.storeName,(o=e==null?void 0:e.stores)==null?void 0:o.merchant,e==null?void 0:e.expressNo,e==null?void 0:e.expressCompany].filter(Ae=>Ae||Ae===0))==null?void 0:P.join(""))||"",ot=await Z(st);return{id:e.id,userEns:ot}}catch{}},we=async e=>{_.replace({path:"buyerOrderList",query:{active:e,type:1}}),V.value=e,E.value=!1,R.value=1,g.value=[],Se(),ae(U.value)},me=e=>{_.push(e)},[be,i]=ee(!1),r=d(),$=d(new Date().getTime()/1e3),z=async()=>{$.value=await yt()};Fe(()=>{$.value+=1},1e3),Fe(()=>{z()},6e4);const{senderDelay:pe}=Ee(),fe=async e=>{r.value=e,i(!0)},_e=async e=>{e.loading=!0;try{const c=(await $e({orderIds:e.id})).data.ordIds;if(!(await pe(c)).success)return;e.confirmLimit=$.value+86400*10,i(!1),L.success(b("order.delaySuccess")),setTimeout(()=>{I.reload()},3e3)}finally{e.loading=!1}},l=d(0),H=d([]),Se=async()=>{const e=await Pe({page:1,size:999,status:2,type:2});e.success&&(l.value=e.total,H.value=e.data.filter(t=>(!t.merchantsConfirm||Ne(t.merchantsConfirm,$.value)>0)&&Ye(t)),l.value=H.value.length)},[Ke,Ce]=ee(!1),Ie=d(null),Ge=async e=>{Ie.value=e.id,l.value>1?Ce(!0):We(e)},Ve=d(null),[ze,Re]=ee(!1),He=async e=>{const t=e.join();Re(!0);try{const u=(await $e({orderIds:t})).data.ordIds,s=await Le(u);if(!s.success||!(await Me({ordIds:u,hash:s.result.hash})).success)return;Ce(!1),L.success(b("order.confirmSuccess")),setTimeout(()=>{_.replace({path:"/buyerOrderList",query:{active:4,type:1}})},1e3),setTimeout(()=>{F.params.refresh="1",_.push("/evaluate-my")},2e3)}finally{Re(!1)}},{confirm:Le}=Ee(),We=async e=>{var t;e.loading=!0;try{const u=(await $e({orderIds:e.id})).data.ordIds,s=await Le(u);if(!s.success||!(await Me({ordIds:u,hash:s.result.hash})).success)return;e.status=4,Ve.value.showToastPop(((t=s.result)==null?void 0:t.logs)||[])||(L.success(b("order.confirmSuccess")),setTimeout(()=>{_.replace({path:"/buyerOrderList",query:{active:4,type:1}})},1e3),setTimeout(()=>{F.params.refresh="1",_.push("/evaluate-my")},2e3))}finally{e.loading=!1}},Ze=async e=>{const t=e.id;try{const c=await ke({id:t});if(c.success&&c.data){const u=g.value.findIndex(s=>s.id==t);u!==-1?Object.assign(g.value[u],c.data):console.log("未找到要更新的订单，ID:",t)}}catch(c){console.error("更新订单数据失败:",c)}},Je=async(e,t)=>{var u;L.loading({duration:0,forbidClick:!0});const c=await ke({id:e.id});if(L.clear(),((u=c.data)==null?void 0:u.status)!==0){L.fail("该订单状态已发生改变"),setTimeout(()=>{g.value.splice(t,1)},1500);return}_.push({name:"BuyerOrderDetail",query:{id:e.id},params:{quick:"quickPay"}})},Qe=async e=>{_.push({name:"BuyerOrderDetail",query:{id:e.id},params:{quick:"quickCancel"}})},Xe=async e=>{try{L.loading({duration:0,forbidClick:!0}),me(`/buyerOrderList/buyerOrderDetail?id=${e.id}`)}catch(t){console.error("更新订单数据失败:",t)}finally{L.clear()}},et=async e=>{_.push({path:"/refundExpress",query:{id:e.id}})},tt=e=>{var t;return((t=e.modifyInfo)==null?void 0:t.status)===1||e.orderPostscriptUpdateReviewId};return je(async()=>{Y(!0)&&(await z(),Se())}),(e,t)=>{const c=B("Empty"),u=B("van-count-down"),s=B("VanButton"),x=B("VanList"),K=B("router-view");return h(),D("div",ts,[m($t,{title:e.$t("order.order"),class:"bg-gray1 font-Puhui font-normal relative shopGoodsPage h-full","theme-vars":{"field-placeholder-text-color":"#A6A6A6"},ref:(W,o)=>{o.shopGoodsRef=W}},{right:v(()=>[m(kt)]),default:v(()=>{var W;return[m(xt,{options:oe.value,"label-key":"name","value-key":"id",modelValue:V.value,"onUpdate:modelValue":t[0]||(t[0]=o=>V.value=o),onChange:we},null,8,["options","modelValue"]),n("section",ss,[n("div",os,[m(es,{modelValue:y.value,"onUpdate:modelValue":t[1]||(t[1]=o=>y.value=o),onOnSubmit:de,onGetList:le,noType:!0,ref:(o,P)=>{P.searchBox=o},active:V.value},null,8,["modelValue","active"])]),n("div",ns,[g.value.length===0&&!k.value?(h(),M(c,{key:0,name:"没有订单",class:"py-6"})):A("",!0),m(x,{loading:k.value,"onUpdate:loading":t[2]||(t[2]=o=>k.value=o),finished:E.value,"finished-text":"","loading-text":e.$t("common.loading"),onLoad:ge},{default:v(()=>[(h(!0),D(te,null,xe(g.value,(o,P)=>(h(),M(ct,{key:o.id,isList:!0,onClick:w=>Xe(o),style:dt(P===0?"margin-top: 0":""),order:o},{default:v(()=>[n("div",as,[q(o)?(h(),D("div",ls,[J(o)>0&&!o.merchantsConfirm?(h(),D("div",is,[m(u,{class:"order-time",time:J(o)},{default:v(w=>[n("span",rs,a(w.days),1),n("span",us,a(e.$t("common.day")),1),n("span",ds,a(w.hours),1),n("span",cs,a(e.$t("common.hours")),1),n("span",ms,a(w.minutes),1),n("span",ps,a(e.$t("common.minutes")),1),n("span",fs,a(w.seconds),1),n("span",vs,a(e.$t("common.seconds")),1)]),_:2},1032,["time"]),n("span",null,a(e.$t("order.buyerConfirmTip")),1)])):re(o)>0?(h(),D("div",hs,[C(a(e.$t("order.The merchant has confirmed receipt"))+" ",1),m(u,{class:"order-time",time:re(o)},{default:v(w=>[n("span",ys,a(w.days),1),n("span",gs,a(e.$t("common.day")),1),n("span",ws,a(w.hours),1),n("span",bs,a(e.$t("common.hours")),1),n("span",_s,a(w.minutes),1),n("span",Cs,a(e.$t("common.minutes")),1),n("span",Ts,a(w.seconds),1),n("span",ks,a(e.$t("common.seconds")),1)]),_:2},1032,["time"]),C(" "+a(e.$t("order.The receipt will be automatically confirmed")),1)])):A("",!0)])):A("",!0),n("div",$s,[n("div",xs,[Q(o)?(h(),D(te,{key:0},[Ds],64)):q(o)?(h(),D(te,{key:1},[C(a(e.$t("order.confirm_immediately")),1)],64)):A("",!0)]),n("div",Bs,[ue(o)?(h(),M(s,{key:0,round:"",class:"main-btn font-semibold h-9",loading:o.loading,onClick:G(w=>fe(o),["stop"])},{default:v(()=>[C(a(e.$t("order.delayGeted")),1)]),_:2},1032,["loading","onClick"])):A("",!0),q(o)?(h(),M(s,{key:1,round:"",loading:o.loading,class:"main-btn font-semibold text-b1 text-sm h-9",onClick:G(w=>Ge(o),["stop"])},{default:v(()=>[C(a(e.$t("order.confirmGeted")),1)]),_:2},1032,["loading","onClick"])):A("",!0),Q(o)?(h(),M(s,{key:2,round:"",loading:o.loading,class:"main-btn font-semibold text-b1 text-sm h-9",onClick:G(w=>et(o),["stop"])},{default:v(()=>[C(a(e.$t("afterSale.Returned items")),1)]),_:2},1032,["loading","onClick"])):A("",!0)])])]),tt(o)&&f(It)(o,$.value)?(h(),D("div",{key:0,class:"tipsCard w-full h-fit p-2 mt-2 text-left",onClick:G(w=>me("/buyerOrderList/buyerOrderDetail?id="+o.id),["stop"])},[n("span",Is,a(e.$t("order.submit modify order info wait auth")),1)],8,Ss)):A("",!0),o.status===0&&!o.hash?(h(),D("div",Vs,[n("div",Rs,[m(s,{round:"",class:"secondary-btn mr-2 font-normal h-9",loading:o.loading,onClick:G(w=>Qe(o),["stop"])},{default:v(()=>[C(a(e.$t("order.cancelOrder")),1)]),_:2},1032,["loading","onClick"]),m(s,{round:"",class:"main-btn font-semibold text-b1 text-sm h-9",loading:o.loading,onClick:G(w=>Je(o,P),["stop"])},{default:v(()=>[n("span",null,a(e.$t("order.continuePay")),1),m(Tt,{class:"inline-block",startTime:o.createTime,duration:15,durationType:"minutes",showZero:!1,onDone:()=>Ze(o)},null,8,["startTime","onDone"])]),_:2},1032,["loading","onClick"])])])):A("",!0)]),_:2},1032,["onClick","style","order"]))),128)),E.value?(h(),M(Dt,{key:0,"title-text":f(b)("common.recommend_for_you"),class:"pt-[14px]"},null,8,["title-text"])):A("",!0)]),_:1},8,["loading","finished","loading-text"])])]),m(Ft,{show:f(be),order:r.value,loading:(W=r.value)==null?void 0:W.loading,onClose:t[3]||(t[3]=o=>f(i)(!1)),onConfirm:t[4]||(t[4]=o=>_e(o))},null,8,["show","order","loading"]),m(gt,{show:f(Ke),list:H.value,currentId:Ie.value,loading:f(ze),onClose:t[5]||(t[5]=o=>f(Ce)(!1)),onReceipt:He},null,8,["show","list","currentId","loading"]),m(wt,{ref:(o,P)=>{P.voucherConfirmRef=o,Ve.value=o},onReload:t[6]||(t[6]=o=>f(I).reload()),onHandleTo:t[7]||(t[7]=()=>{f(_).push("/voucher?active=1")})},null,512)]}),_:1},8,["title"]),m(K,{id:"child",class:"child-view",nowTime:$.value},null,8,["nowTime"])])}}const Os=ye({...Ls,setup:As}),wo=De(Os,[["__scopeId","data-v-18755483"]]);export{wo as default};
