import{_ as D,y as R,r as V,bc as S,E as w,K as E,G as v,N as p,H as s,ba as J,Q as n,bm as K,O as i,a0 as C,P as r,$ as U,Y as M,Z as P,w as T,x as Z,F as $,J as G,I as L,D as O,aj as Q}from"./vendor-CjApaIpB.js";import{_ as H}from"./close-DLkDHnDK.js";import{p as j}from"./piggyBank-DxEy59jK.js";import{B as X}from"./BackIcon-D2Vm_lyR.js";import{u as Y,bn as q}from"./index-CduCwCyL.js";const z=o=>(M("data-v-9dcf2c1e"),o=o(),P(),o),W={class:"flex items-center border-b border-solid border-[#ececec] justify-between text-[#2E2008] pb-4"},ss={class:"font-bold"},es=z(()=>s("img",{src:H,class:"w-3 h-3",alt:""},null,-1)),os=[es],ts=["placeholder"],ns={class:"mt-4 flex-center-bw gap-x-4"},as=R({props:{show:{type:Boolean},id:null},emits:["close","success"],setup(o,{emit:u}){const k=o,{userAddrAdd:h}=j(),f=V(""),[b,a]=S(!1);function _(){u("close"),f.value=""}async function y(){try{a(!0),(await h(k.id,f.value)).success&&u("success"),f.value=""}finally{a(!1)}}return(m,l)=>{const d=w("VanButton"),c=w("van-popup");return v(),E(c,{show:o.show,"onUpdate:show":l[1]||(l[1]=g=>U(show)?show.value=g:null),class:"px-6 py-6 w-[300px]",round:"",onClose:l[2]||(l[2]=g=>u("close"))},{default:p(()=>[s("div",W,[s("div",ss,n(m.$t("piggy.add admin address")),1),s("div",{class:"",onClick:_},os)]),J(s("textarea",{placeholder:m.$t("piggy.please enter address"),class:"w-full mt-4 break-words bg-[#FFF8EC] rounded-lg px-2.5 py-3","onUpdate:modelValue":l[0]||(l[0]=g=>f.value=g)},null,8,ts),[[K,f.value]]),s("div",ns,[i(d,{onClick:_,class:"font-sans flex-1 btn-border text-[#FEA021] h-[36px] text-[15px] font-semibold rounded-3xl"},{default:p(()=>[C(n(m.$t("common.cancel")),1)]),_:1}),i(d,{onClick:y,loading:r(b),class:"font-sans btn flex-1 text-default h-[36px] text-[15px] font-semibold rounded-3xl mx-auto"},{default:p(()=>[C(n(m.$t("common.confirm")),1)]),_:1},8,["loading"])])]),_:1},8,["show"])}}}),ls=D(as,[["__scopeId","data-v-9dcf2c1e"]]),ds=o=>(M("data-v-528e5250"),o=o(),P(),o),cs={class:"flex items-center border-b border-solid border-[#ececec] justify-between text-[#2E2008] pb-4"},rs={class:"font-bold"},is=ds(()=>s("img",{src:H,class:"w-3 h-3",alt:""},null,-1)),us=[is],ps={class:"bg-[#FFF8EC] flex rounded-lg px-2 py-4 text-sm w-full"},fs={class:"flex-1 font-normal opacity-60"},ms={class:"w-[78%] break-words text-wrap break-all px-1"},xs={class:"mt-4 flex-center-bw gap-x-4"},vs=R({props:{show:{type:Boolean},address:null,id:null},emits:["close","success"],setup(o,{emit:u}){const k=o,{t:h}=T(),f=Z(()=>[h("piggy.address one"),h("piggy.address two")]),{userAddrRemove:b}=j(),a=V(null),[_,y]=S(!1);async function m(){try{if(y(!0),!(await b(k.id,a.value)).success)return;a.value=null,u("success"),a.value=null}finally{y(!1)}}const l=()=>{u("close"),a.value=null};return(d,c)=>{const g=w("van-radio"),B=w("van-radio-group"),A=w("VanButton"),F=w("van-popup");return v(),E(F,{show:o.show,"onUpdate:show":c[1]||(c[1]=e=>U(show)?show.value=e:null),class:"px-6 py-6 w-[95%] max-w-[335px]",round:"",onClose:l},{default:p(()=>[s("div",cs,[s("div",rs,n(d.$t("piggy.remove admin address")),1),s("div",{class:"",onClick:l},us)]),i(B,{modelValue:a.value,"onUpdate:modelValue":c[0]||(c[0]=e=>a.value=e),"checked-color":"#f1a443"},{default:p(()=>[(v(!0),$(L,null,G(o.address,(e,t)=>(v(),E(g,{name:e,key:e},{default:p(()=>[s("div",ps,[s("div",fs,n(r(f)[t])+":",1),s("div",ms,n(e),1)])]),_:2},1032,["name"]))),128))]),_:1},8,["modelValue"]),s("div",xs,[i(A,{onClick:l,class:"font-sans flex-1 btn-border text-[#FEA021] h-[36px] text-[15px] font-semibold rounded-3xl"},{default:p(()=>[C(n(d.$t("common.cancel")),1)]),_:1}),i(A,{onClick:m,loading:r(_),disabled:!a.value,class:"font-sans btn flex-1 text-default h-[36px] text-[15px] font-semibold rounded-3xl mx-auto"},{default:p(()=>[C(n(d.$t("common.confirm")),1)]),_:1},8,["loading","disabled"])])]),_:1},8,["show"])}}}),_s=D(vs,[["__scopeId","data-v-528e5250"]]),gs={class:"min-h-screen -mt-[7px] py-2 px-3 bg-[#f2f0ef]"},bs={class:"gap-2 mt-2 flex-start"},ws={key:0,class:"flex justify-center mt-4"},hs={key:1,class:"flex-col p-3 mt-3 bg-white rounded-xl"},ys={class:"font-normal opacity-60"},$s={class:"flex-1 break-words px-2.5 py-3 mt-2.5 rounded-lg bg-[#FFF8EC]"},Cs={class:"mt-3 flex-center gap-x-4"},ks=R({setup(o){const{t:u}=T(),{getCurrentAccount:k}=Y(),h=Z(()=>[u("piggy.myAddress"),u("piggy.address one"),u("piggy.address two")]),[f,b]=S(!1),[a,_]=S(!1),{userIds:y,userAddrList:m}=j(),l=3,d=V(null),c=V([]),[g,B]=S(!1),A=async()=>{d.value=await y();let e=await m(d.value);const t=e.findIndex(x=>q(x,k()));e=Array.from(e);let I=e[t];e.splice(t,1),e.unshift(I),c.value=e},F=()=>{b(!1),_(!1),A()};return O(async()=>{B(!0),await A(),B(!1)}),(e,t)=>{const I=w("VanButton");return v(),$(L,null,[s("div",gs,[s("div",bs,[i(X),s("div",null,n(e.$t("piggy.setting admin address")),1)]),r(g)?(v(),$("div",ws,[i(r(Q),{class:"text-[#f2ac4b]"})])):(v(),$("div",hs,[(v(!0),$(L,null,G(c.value.filter(x=>!!x),(x,N)=>(v(),$("div",{class:"rounded-lg px-2.5 py-4 text-sm",key:N},[s("div",ys,n(r(h)[N]),1),s("div",$s,n(x),1)]))),128)),s("div",Cs,[i(I,{onClick:t[0]||(t[0]=x=>r(b)(!0)),disabled:c.value.length===l,class:"font-sans btn text-default min-w-[125px] h-[40px] text-[15px] font-semibold rounded-3xl"},{default:p(()=>[C(n(e.$t("piggy.add")),1)]),_:1},8,["disabled"]),i(I,{onClick:t[1]||(t[1]=x=>r(_)(!0)),class:"font-sans btn-border text-[#FEA021] min-w-[125px] h-[40px] text-[15px] font-semibold rounded-3xl",disabled:c.value.slice(1).length===0},{default:p(()=>[C(n(e.$t("piggy.remove")),1)]),_:1},8,["disabled"])])]))]),i(ls,{show:r(f),onSuccess:F,onClose:t[2]||(t[2]=x=>r(b)(!1)),id:d.value},null,8,["show","id"]),i(_s,{show:r(a),onSuccess:F,onClose:t[3]||(t[3]=x=>r(_)(!1)),id:d.value,address:c.value.slice(1)},null,8,["show","id","address"])],64)}}}),Vs=D(ks,[["__scopeId","data-v-bc5ea21a"]]);export{Vs as default};
