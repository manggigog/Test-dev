import{_ as N}from"./mall-DLd1UK-E.js";import{_ as O,z as B,a2 as L,r as $,bu as S,F as v,G as r,H as s,I as o,Z as x,Q as a,J as g,K as E,P as F,U as d,O as n}from"./vendor-Dr_RpJ_Y.js";import{O as _}from"./OrderGoods-dbG_h6yn.js";import{e as A}from"./index-LRhcxFAI.js";import{u as R}from"./useShipTemplate-Cz7Cav1B.js";const j={class:"flex-start"},z={key:1,src:N,class:"w-5 h-5 mr-2"},D={key:0,class:"text-[#A45E00]"},M={key:1,class:"flex items-baseline justify-between py-3"},P={class:"text-b3"},U={class:"text-right text-b1"},H={class:"bg-white py-3 border-t-[0.5px] border-b4 border-solid"},J={class:"flex items-center justify-between"},K={class:"text-b3"},Q=B({props:{orderInfo:null,payType:null,expressGoodsList:null},emits:["changeNumber"],setup(t,{expose:I,emit:T}){const{orderInfo:i,expressGoodsList:Z}=t,C="development",{getCartExpressTypeText:V}=R(),[p,c]=L(!1),f=$(null);return S(f,()=>{c(!!(i!=null&&i.remark))}),I({setRemarkShow:c}),(l,m)=>{var y,b,h,k;const w=v("VanImage"),G=v("VanField");return s(),r(g,null,[o("div",j,[(b=(y=t.orderInfo)==null?void 0:y.stores)!=null&&b.logo?(s(),x(w,{key:0,src:(((k=(h=t.orderInfo)==null?void 0:h.stores)==null?void 0:k.logo)||"").split(",")[0],class:"w-6 h-6 rounded overflow-hidden mr-1",alt:"店铺 logo",fit:"cover"},null,8,["src"])):(s(),r("img",z)),o("div",null,a(t.orderInfo.stores.storeName||"-"),1)]),(s(!0),r(g,null,E(t.orderInfo.goods,e=>(s(),r("div",{class:"mt-3",key:e.id},[F(_,{goods:e,number:e.number,payType:e.payType===3&&t.payType||e.payType,card:t.orderInfo.fmStoredCard,class:"mb-3",onChangeNumber:u=>T("changeNumber",e,u)},null,8,["goods","number","payType","card","onChangeNumber"]),n(C)==="development"&&e.voucherAmount>0?(s(),r("div",D,a(l.$t("voucher.use_voucher_deduction",{amount:n(A)(e.voucherAmount),token:"Mcoin"})),1)):d("",!0),t.expressGoodsList&&t.expressGoodsList.length>0?(s(),r("div",M,[o("div",P,a(l.$t("order.expressPrice")),1),o("div",U,a(n(V)(e,t.expressGoodsList)),1)])):d("",!0)]))),128)),o("div",H,[o("div",J,[o("span",K,a(l.$t("order.remark")),1),n(p)?d("",!0):(s(),r("span",{key:0,class:"text-b3",onClick:m[0]||(m[0]=e=>n(c)(!0))},a(l.$t("common.pleaseInput"))+a(l.$t("order.remark")),1))]),n(p)?(s(),x(G,{key:0,ref:(e,u)=>{u.remarkRef=e,f.value=e},modelValue:t.orderInfo.remark,"onUpdate:modelValue":m[1]||(m[1]=e=>t.orderInfo.remark=e),type:"textarea",maxlength:"100",class:"!bg-b5 rounded-lg mt-2 p-2 remark-box",rows:"1",autosize:""},null,8,["modelValue"])):d("",!0)])],64)}}}),te=O(Q,[["__scopeId","data-v-37831e20"]]);export{te as O};
