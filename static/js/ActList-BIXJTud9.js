import{g as w}from"./festivalActivities-BUKk1gCA.js";import{_ as $}from"./defaultPage2-D4PiU2tc.js";import{B as T}from"./BackIcon-CPUEW9je.js";import{_ as A,y as m,F as r,G as c,H as t,X as k,R as v,x as G,a2 as y,Q as _,P as b,o as j,r as f,bf as L,O as h,I as C,J as D,K as M,T as p}from"./vendor-D6JO6WHW.js";import"./index-CybuWkSo.js";const N={class:"w-[198px]"},O={class:"w-full h-[30px] bg-white rounded-[50px] p-[2px] overflow-hidden"},B={class:"w-full h-full relative"},E={class:"w-full h-full flex items-center justify-center absolute left-0 top-0"},Y=m({name:"Tabs"});function H(s,{emit:n}){const i={NEW:1,OLD:2},a=o=>{n("change",o)};return(o,e)=>(c(),r("div",N,[t("div",O,[t("div",B,[t("div",{class:"selected-tab w-[50%] h-full bg-[#212121] rounded-[50px] absolute left-0 transition-all duration-300",style:k({left:s.tab===i.NEW?"0":"50%"})},null,4),t("div",E,[t("div",{class:"w-[50%] h-full flex items-center justify-center overflow-hidden",onClick:e[0]||(e[0]=l=>a(1))},[t("span",{class:v(["text-xs line-clamp-1 transition-all duration-300",[s.tab===i.NEW?"text-b6 font-semibold":"text-b3 font-normal"]])},"当前活动",2)]),t("div",{class:"w-[50%] h-full flex items-center justify-center overflow-hidden",onClick:e[1]||(e[1]=l=>a(2))},[t("span",{class:v(["text-xs line-clamp-1 transition-all duration-300",[s.tab===i.OLD?"text-b6 font-semibold":"text-b3 font-normal"]])},"历史活动",2)])])])])]))}const I=Object.assign(Y,{props:{tab:{type:Number,default:1}},emits:["change"],setup:H}),R=A(I,[["__scopeId","data-v-56db2c28"]]),z={class:"w-full min-h-[100px] rounded-xl bg-white mb-3 overflow-hidden"},F={class:"w-full h-[210px] bg-gray2 rounded-t-xl"},V=["src"],W={class:"w-full min-h-[100px] bg-white p-3"},S={class:"text-base font-semibold line-clamp-2 text-b1"},J=["innerHTML"],K={class:"text-sm font-normal text-b3 line-clamp-2 mt-2 text-right"},P=m({name:"ActItem"});function Q(s){const n=s,i=(e,l="YY年MM月DD日HH:mm:ss")=>e?j(e).format(l):"",a="YYYY年MM月DD日",o=G(()=>{const e=n.activity.fmGeneralActivity.startTime||"",l=n.activity.fmGeneralActivity.endTime||"";return e&&l?`${i(e,a)} - ${i(l,a)}`:"活动时间待定"});return(e,l)=>(c(),r("div",z,[t("div",F,[t("img",{src:s.activity.fmGeneralActivity.activityMainImgs,alt:"活动图片",class:"w-full h-full object-cover"},null,8,V)]),t("div",W,[t("h2",S,_(s.activity.fmGeneralActivity.name),1),s.activity.fmGeneralActivity.activityRule?(c(),r("p",{key:0,class:"text-sm font-normal text-b3 line-clamp-2 mt-2",innerHTML:s.activity.fmGeneralActivity.activityRule},null,8,J)):y("",!0),t("p",K,_(b(o)),1)])]))}const X=Object.assign(P,{props:{activity:{type:Object,default:()=>({fmGeneralActivity:{},fmGeneralActivityLabelList:{},fmGeneralActivityRule:{}})}},setup:Q}),q={class:"w-full h-full bg-[#f2f0ef]"},U={class:"header-bar sticky top-0 flex font-normal justify-center text-sm items-center h-[54px] px-2.5 z-50"},Z={class:"absolute left-2.5 flex items-center gap-1 -translate-y-1/2 top-1/2"},tt={class:"font-semibold"},et={class:"list__wrap w-full h-[calc(100vh-54px)] z-10 overflow-y-auto scroll-smooth px-3"},st={key:0,class:"w-full h-full flex items-center justify-center"},at=["src"],lt=m({name:"ActivityList"});function nt(s){const n=f(1),i=u=>{n.value=u,l()},a=f([]),o=f(!1),e=f(!1),l=async()=>{const u={current:n.value===1};o.value=!0,p.loading({duration:0});const d=await w(u);a.value=d.data||[],o.value=!1,e.value=a.value.length===0,setTimeout(()=>{p.clear()},100)};return L(()=>{l()}),(u,d)=>(c(),r("div",q,[t("section",U,[t("div",Z,[h(T)]),t("div",tt,[h(R,{tab:n.value,onChange:i},null,8,["tab"])])]),t("section",et,[a.value.length===0&&e.value?(c(),r("div",st,[t("img",{src:b($),alt:"默认图片",class:"w-[145px]"},null,8,at)])):y("",!0),(c(!0),r(C,null,D(a.value,(x,g)=>(c(),M(X,{key:g,activity:x},null,8,["activity"]))),128))])]))}const ft=Object.assign(lt,{setup:nt});export{ft as default};
