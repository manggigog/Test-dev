import{_ as w,y,l as I,a1 as F,r,bf as G,D,E,F as h,G as f,H as o,O as i,N as _,a2 as R,Q as v,P as d,Y as T,Z as L}from"./vendor-BUT0HZ5j.js";import{B as V}from"./BackIcon-biFt6cm7.js";import{F as $}from"./FlashSaleGoods-D-74oJHT.js";import{c as z}from"./category-DjU0R16T.js";import"./index-k1FFr-1T.js";import"./flashSale-DDyqLyYN.js";import"./RatioBox-ys008e7W.js";import"./luckyShopContract-ChIWWG1n.js";import"./shop-CeqcS6K2.js";const H="/Test-dev/static/images/search-CDTd2ms1.svg",K=t=>(T("data-v-d9a4bc78"),t=t(),L(),t),O={class:"px-3 top-0 right-0 left-0 bg-gray1 min-h-screen absolute z-50 h-full overflow-y-auto safe-bottom-page"},P={class:"sticky top-0 z-50 bg-gray1"},j={class:"flex-center-bw gap-1 pt-3"},q={key:0,class:"border border-solid rounded-lg px-2 py-0.5 text-xs text-primary"},A=K(()=>o("img",{src:H,class:"w-5 h-5"},null,-1)),M=[A],Q=y({name:"FlashSaleSearch"});function U(t){const u=I(),g=F(),c=r(),l=r(null),n=G({title:"",pageKey:"flashSale"}),S=e=>{e.code==="Enter"&&l.value.handleSearch(n)},x=()=>{l.value.handleSearch(n)},p=r([]),b=async()=>{const e=[{id:null,type:1,name:"精选",cnName:"精選",jpName:"おすすめ",enName:"Featured"}],s=await z();s.success&&(p.value=[...e,...s.data])},C=e=>{m(`/saleGoodDetail?id=${e.id}`)},m=e=>{u.push(e)},N=async()=>{c.value=g.query.className||null,b()};return D(()=>{N()}),(e,s)=>{const B=E("van-field");return f(),h("div",O,[o("section",P,[o("section",j,[i(V),i(B,{"model-value":d(n).title,"onUpdate:model-value":s[0]||(s[0]=a=>d(n).title=a),clearable:"",class:"rounded-3xl flex-1",onKeypress:S},{"left-icon":_(()=>[c.value?(f(),h("view",q,v(c.value),1)):R("",!0)]),"right-icon":_(()=>[o("div",{onClick:x},M)]),_:1},8,["model-value"]),o("div",{class:"opacity-50",onClick:s[1]||(s[1]=a=>d(u).go(-1))},v(e.$t("common.cancel")),1)])]),i($,{onHandleTo:m,ref:(a,k)=>{k.saleGoodsRef=a,l.value=a},class:"mt-4",categoryList:p.value,onRushToBuy:C},null,8,["categoryList"])])}}const Y=y({...Q,setup:U}),ne=w(Y,[["__scopeId","data-v-d9a4bc78"]]);export{ne as default};
