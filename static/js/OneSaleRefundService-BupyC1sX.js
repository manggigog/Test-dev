import{_ as q}from"./chongdian-icon-Cd-A7yaw.js";import{_ as E,y as H,w as O,r as T,bd as b,bc as w,D as U,F as k,G as _,H as t,K as y,a2 as D,O as a,Q as d,P as r,E as c,N as p,$ as J,Y as K,Z as M,a1 as G,l as Q,I as Y,J as Z,a0 as W}from"./vendor-D6JO6WHW.js";import{B as X}from"./BackIcon-CPUEW9je.js";import{_ as ee}from"./BuyerDeliveredItem-Ds55diVY.js";import{r as oe,aM as te}from"./index-Ds2hFbCb.js";import{r as se}from"./refund-CX3StdUB.js";import{l as ae}from"./luckyShopContract-BZc_eX_k.js";import"./useOrderStatus-DeHjEZ0k.js";import"./order-B5BGKYED.js";import"./useRefundStatus-DY13i5Fs.js";import"./flashSale-DDyqLyYN.js";import"./useShipTemplate-DNIdMMsN.js";import"./enums-DlE-aiss.js";import"./default-avatar-C3GeIXRh.js";const ne=u=>(K("data-v-29189d82"),u=u(),M(),u),re={class:"px-3 bg-[#f2f0ef]"},ce={class:"gap-2 mt-2 flex-start"},ie={class:"px-3 py-4 mt-3 bg-white rounded-xl"},le={class:"flex items-center mb-5"},de=ne(()=>t("img",{src:q,class:"w-[18px] h-[18px]"},null,-1)),pe={class:"ml-1 font-semibold"},ue={class:"flex items-center"},me={class:"ml-1"},_e={class:"mt-[18px] mb-[20px] font-semibold text-base text-center"},fe={class:"m-auto text-center"},he=H({setup(u){const{loadingToggle:l}=oe(),{luckyProtestSent:x}=ae(),v=G(),N=Q(),{locale:R}=O(),g=T(null),S=b({page:1,size:999,type:2}),n=b({reasonList:[],checked:null}),[f,L]=w(!1),[V,h]=w(!1),C=async()=>{h(!0),l(!0);const o={id:v.query.id,fmRefundReasonId:n.checked};if(!(await te(o)).success){h(!1),l(!1);return}const i=await x(+v.query.goodId);h(!1),l(!1),i.success&&N.push("/buyerOrderList?active=0&type=2")},B=async()=>{const{success:o,data:e}=await se(S);if(o){const i=I(R.value);e.length>0&&(n.checked=e[0].id),n.reasonList=e.map(m=>({...m,showName:m[i]}))}},I=o=>{let e="cnFtName";switch(o){case"zh-CN":e="jtName";break;case"zh-HK":e="cnFtName";break;case"en-US":e="enName";break;case"ja-JP":e="japanName";break}return e},$=async()=>{l(!0),B(),l(!1)};return U(async()=>{await $()}),(o,e)=>{const i=c("van-icon"),m=c("van-radio"),P=c("van-cell"),A=c("van-cell-group"),F=c("van-radio-group"),j=c("VanButton"),z=c("VanPopup");return _(),k("div",re,[t("div",ce,[a(X),t("div",null,d(o.$t("order.deliver")),1)]),g.value?(_(),y(ee,{key:0,order:g.value},null,8,["order"])):D("",!0),t("div",ie,[t("div",le,[de,t("span",pe,d(o.$t("refund.service")),1)]),t("div",{class:"flex items-center justify-between",onClick:e[0]||(e[0]=s=>r(L)(!0))},[t("div",ue,[a(i,{name:"circle",color:"rgba(217, 217, 217, 1)",size:"24px"}),t("span",me,d(o.$t("refund.refund choose")),1)]),a(i,{name:"arrow",color:"rgba(46, 32, 8, 1)"})])]),a(z,{show:r(f),"onUpdate:show":e[2]||(e[2]=s=>J(f)?f.value=s:null),round:"",position:"bottom",closeable:"",style:{height:"auto",maxHeight:"80%"}},{default:p(()=>[t("div",_e,d(o.$t("refund.reason")),1),a(F,{modelValue:r(n).checked,"onUpdate:modelValue":e[1]||(e[1]=s=>r(n).checked=s)},{default:p(()=>[a(A,null,{default:p(()=>[(_(!0),k(Y,null,Z(r(n).reasonList,s=>(_(),y(P,{key:s.id,title:s.showName,onClick:ve=>r(n).checked=s.id},{"right-icon":p(()=>[a(m,{name:s.id,"checked-color":"#FEA021"},null,8,["name"])]),_:2},1032,["title","onClick"]))),128))]),_:1})]),_:1},8,["modelValue"]),t("div",fe,[a(j,{class:"my-[50px] inline-block btn-orange btn-shadow w-[180px] h-[40px] text-white",loading:r(V),onClick:C},{default:p(()=>[W(d(o.$t("ecology.submitApplication")),1)]),_:1},8,["loading"])])]),_:1},8,["show"])])}}}),$e=E(he,[["__scopeId","data-v-29189d82"]]);export{$e as default};
