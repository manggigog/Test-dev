import{_ as N,z as g,q as k,o as F,r,bl as G,E as R,F as E,G as h,H as f,I as a,P as i,$ as _,U as L,Q as v,O as d,X as D,Y as T}from"./vendor-Dr_RpJ_Y.js";import{B as $}from"./BackIcon-CDrGaEPo.js";import{F as z}from"./FlashSaleGoods-DvnqG8F5.js";import{c as U}from"./category-D2HQzb2Y.js";import"./index-BckdT6oc.js";import"./flashSale-DDyqLyYN.js";import"./RatioBox-BcgP5qRZ.js";import"./luckyShopContract-PPMKyYJG.js";import"./shop-CeqcS6K2.js";const V=""+new URL("../images/search-CDTd2ms1.svg",import.meta.url).href,q=t=>(D("data-v-d9a4bc78"),t=t(),T(),t),H={class:"px-3 top-0 right-0 left-0 bg-gray1 min-h-screen absolute z-50 h-full overflow-y-auto safe-bottom-page"},K={class:"sticky top-0 z-50 bg-gray1"},O={class:"flex-center-bw gap-1 pt-3"},P={key:0,class:"border border-solid rounded-lg px-2 py-0.5 text-xs text-primary"},j=q(()=>a("img",{src:V,class:"w-5 h-5"},null,-1)),A=[j],M=g({name:"FlashSaleSearch"});function Q(t){const u=k(),y=F(),c=r(),l=r(null),n=G({title:"",pageKey:"flashSale"}),S=e=>{e.code==="Enter"&&l.value.handleSearch(n)},x=()=>{l.value.handleSearch(n)},p=r([]),b=async()=>{const e=[{id:null,type:1,name:"精选",cnName:"精選",jpName:"おすすめ",enName:"Featured"}],o=await U();o.success&&(p.value=[...e,...o.data])},C=e=>{m(`/saleGoodDetail?id=${e.id}`)},m=e=>{u.push(e)},w=async()=>{c.value=y.query.className||null,b()};return R(()=>{w()}),(e,o)=>{const B=E("van-field");return f(),h("div",H,[a("section",K,[a("section",O,[i($),i(B,{"model-value":d(n).title,"onUpdate:model-value":o[0]||(o[0]=s=>d(n).title=s),clearable:"",class:"rounded-3xl flex-1",onKeypress:S},{"left-icon":_(()=>[c.value?(f(),h("view",P,v(c.value),1)):L("",!0)]),"right-icon":_(()=>[a("div",{onClick:x},A)]),_:1},8,["model-value"]),a("div",{class:"opacity-50",onClick:o[1]||(o[1]=s=>d(u).go(-1))},v(e.$t("common.cancel")),1)])]),i(z,{onHandleTo:m,ref:(s,I)=>{I.saleGoodsRef=s,l.value=s},class:"mt-4",categoryList:p.value,onRushToBuy:C},null,8,["categoryList"])])}}const X=g({...M,setup:Q}),ne=N(X,[["__scopeId","data-v-d9a4bc78"]]);export{ne as default};
