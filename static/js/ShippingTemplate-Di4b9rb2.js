import{y as T,F as l,G as o,a3 as O,a0 as S,Q as n,R as j,_ as D,l as M,r as d,w as P,E as $,H as s,a2 as r,O as v,N as y,I as q,J as A,a4 as k,K as G,P as p,Y as H,Z as Q}from"./vendor-D6JO6WHW.js";import{B as W}from"./BackIcon-CPUEW9je.js";import{F as m,E as _}from"./enums-DlE-aiss.js";import{e as Y,d as J,a$ as K}from"./index-Ds2hFbCb.js";const U="/Test-dev/static/images/edit-Ry4iQgdA.svg",Z=["bind"],X=T({props:{text:{default:""},tailwindColor:{default:"oriange1"},tailwindTextSize:{default:"xxs"}},setup(a){const c=a;return(i,E)=>(o(),l("mark",{class:j(["h-[20px] border border-solid rounded-[4px] text-xxs px-[6px] text-center flex items-center justify-center bg-transparent",[a.tailwindColor?`border-${a.tailwindColor} text-${a.tailwindColor}`:"border-oriange1 text-oriange1",a.tailwindTextSize?`text-${a.tailwindTextSize}`:"text-xxs"]]),bind:i.$attrs},[O(i.$slots,"default",{},()=>[S(n(c.text),1)])],10,Z))}}),C=a=>(H("data-v-7e15ae5e"),a=a(),Q(),a),ee={class:"header-bar sticky top-0 flex font-normal justify-center text-sm items-center h-[44px] px-2.5 z-50"},te={class:"absolute left-2.5 flex items-center gap-1 -translate-y-1/2 top-1/2"},se={class:"text-lg font-bold"},ae=C(()=>s("div",{class:"font-semibold"},null,-1)),oe={class:"h-[calc(100vh-44px-78px)] sticky top-[44px] px-3 pt-3 overflow-y-auto"},ne=["onClick"],le={class:"template-item__content w-full h-full flex justify-between items-center"},ie={class:"template-item__content-left"},pe={class:"text-sm font-semibold text-b1 flex items-center gap-1"},de={class:"text-sm font-normal text-b3 mt-1"},re={key:0},ce={key:1},ue={key:2},he={key:3},fe={class:"template-item__content-right"},me=["onClick"],_e=C(()=>s("img",{src:U,class:"w-5 h-5",alt:"Go edit",role:"button"},null,-1)),ge=[_e],xe={key:0,class:"btn-bg flex justify-end h-[78px] py-4 px-3"},ve=T({name:"ShippingTemplate"});function ye(a){const c=M(),i=d(!1),{t:E}=P(),{accountStore:I}=Y(),g=d(!1),x=d(0),V=d(20),b=d(0),u=d([]),h=d([]),B=async()=>{const e=await K({page:x.value,size:V.value});if(!e.success||!e.data||!e.total){g.value=!0,i.value=!1;return}b.value=e.total,u.value=e.data,h.value=x.value===1?u.value.length>0?u.value:[]:h.value.concat(u.value),h.value.length>=b.value&&(g.value=!0)},F=async()=>{i.value=!0,x.value+=1,await B(),setTimeout(()=>{i.value=!1},1e3)},L=()=>{c.push({path:"/shippingTemplateEditor",query:{mode:_.CREATE}})},w=(e,f=_.VIEW)=>{c.push({path:"/shippingTemplateEditor",query:{mode:f,id:e.id,name:e.name,defaultFlag:String(e.defaultFlag),type:e.type,threshold:e.threshold,cost:e.cost}})};return(e,f)=>{const N=$("VanList"),z=$("VanButton");return o(),l("div",null,[s("section",ee,[s("div",te,[v(W,null,{default:y(()=>[s("span",se,n(e.$t("shop.shippingTemplate.listTitle")),1)]),_:1})]),ae]),s("section",oe,[v(N,{class:"h-full",loading:i.value,"onUpdate:loading":f[0]||(f[0]=t=>i.value=t),finished:g.value,"finished-text":e.$t("common.noMore"),"loading-text":e.$t("common.loading"),onLoad:F},{default:y(()=>[(o(!0),l(q,null,A(h.value,(t,be)=>(o(),l("div",{key:t.id,class:"template-item w-full h-[76px] bg-white rounded-xl mb-3 py-4 px-3",onClick:k(R=>w(t,p(_).VIEW),["stop"])},[s("div",le,[s("div",ie,[s("p",pe,[s("span",null,n(t.name),1),t.defaultFlag?(o(),G(X,{key:0,text:e.$t("common.default")},null,8,["text"])):r("",!0)]),s("p",de,[t.type===p(m).FREE&&t.threshold?(o(),l("span",re,n(e.$t("shop.shippingTemplate.actualPayment"))+n(p(J)(t.threshold))+"MC"+n(e.$t("shop.shippingTemplate.freeShipping")),1)):r("",!0),t.type===p(m).FREE&&t.threshold===0?(o(),l("span",ce,n(e.$t("shop.shippingTemplate.freeShipping")),1)):r("",!0),t.type===p(m).NO_SHIPPING?(o(),l("span",ue,n(e.$t("shop.shippingTemplate.noShipping")),1)):r("",!0),t.type===p(m).CASH_ON_DELIVERY?(o(),l("span",he,n(e.$t("shop.shippingTemplate.cashOnDelivery")),1)):r("",!0)])]),s("div",fe,[s("figure",{onClick:k(R=>w(t,p(_).EDIT),["stop"])},ge,8,me)])])],8,ne))),128))]),_:1},8,["loading","finished","finished-text","loading-text"])]),p(I).isOnlyView?r("",!0):(o(),l("div",xe,[v(z,{class:"font-normal h-[46px] w-full px-4 rounded-3xl text-base bg-yellow",onClick:L},{default:y(()=>[S(n(e.$t("shop.shippingTemplate.addTemplate")),1)]),_:1})]))])}}const Te=T({...ve,setup:ye}),Ce=D(Te,[["__scopeId","data-v-7e15ae5e"]]);export{Ce as default};
