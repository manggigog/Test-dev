import{af as E,u as N,A as s,D as n,F as i,G as y,H as w,B as A,E as m}from"./index-BvL8wS8a.js";const S=()=>{const p=E(),a=p==null?void 0:p.cns,u=p==null?void 0:p.address,h=N().getCurrentAccount(),l=async r=>{const t=await R();try{const e=await a.earnings(r*t);return A(e)}catch{return 0}},f=async()=>{try{const r=await a.nextFloatAwardAmount();return A(r)}catch{return 0}},v=async r=>{try{const t=await(await a.setNextFloatAwardAmount(s(r),n)).wait();return i(t)}catch(t){return y(t),w(t,u,"setNextFloatAwardAmount",{amount:s(r),overrides:n})}},F=async()=>{try{return+await a.tomorrow()}catch{return 0}},L=async()=>{try{const r=await a.total();return A(r)}catch{return 0}},C=async r=>{try{return await a.pending(r)}catch(t){return y(t),[]}},g=async r=>{try{const t=r||h;return+await a.userIds(t)}catch{return 0}},x=async r=>{const t=r||await g();try{const e=await a.userMerchantCashList(t);return i(e)}catch(e){return w(e,u,"userMerchantCashList",{nowId:t})}},G=async(r,t,e)=>{const o=e||h;try{const c=await a.estimateGas.deposit(s(r),t,o),d=await(await a.deposit(s(r),t,o,{gasLimit:m(c,1e3),...n})).wait();return i(d)}catch(c){return y(c),w(c,u,"deposit",{amount:s(r),cashId:t,userAddress:o})}},M=async(r,t,e,o)=>{const c=o||h;try{const d=await a.estimateGas.withdraw(r,s(t),e,c),B=await(await a.withdraw(r,s(t),e,c,{gasLimit:m(d,1e3),...n})).wait();return i(B)}catch(d){return y(d),w(d,u,"withdraw",{id:r,amount:s(t),cashId:e,userAddress:c})}},W=async r=>{try{const t=await(await a.harvest(r,n)).wait();return i(t)}catch(t){return w(t,u,"harvest",{id:r,overrides:n})}},R=async()=>{try{return await a.DAY()}catch{return 60}};return{tomorrow:F,pending:C,nextFloatAwardAmount:f,setNextFloatAwardAmount:v,earnings:l,deposit:G,withdraw:M,userMerchantCashs:x,total:L,userIds:g,harvest:W,DAY:R,userTotalAmount:async()=>{try{const r=await a.userTotalAmount(h);return A(r)}catch{return 0}},today:async()=>{try{return await a.today()}catch{return 0}},dayAwardAmounts:async r=>{try{const t=await a.dayAwardAmounts(r);return A(t)}catch{return 0}},fmRateFees:async r=>{try{const t=await a.fmRateFees(r);return A(t)}catch{return 0}},transfer:async(r,t,e,o)=>{try{const c=await a.estimateGas.transfer(r,s(t),e,o),d=await(await a.transfer(r,s(t),e,o,{gasLimit:m(c,1e3),...n})).wait();return i(d)}catch(c){return w(c,u,"transfer",{address:r,amount:s(t),cashId:e,remark:o})}},userAddrRemove:async(r,t)=>{try{const e=await(await a.userAddrRemove(r,t,n)).wait();return i(e)}catch(e){return y(e),w(e,u,"userAddrRemove",{id:r,address:t,overrides:n})}},userAddrAdd:async(r,t)=>{try{const e=await(await a.userAddrAdd(r,t,n)).wait();return i(e)}catch(e){return y(e),w(e,u,"userAddrAdd",{id:r,address:t,overrides:n})}},userAddrList:async r=>{try{return await a.userAddrList(r)}catch{return[]}},userRewardPending:async r=>{try{const t=await a.userRewardPending(r);return A(t)}catch{return 0}},userRewardWithdraw:async(r,t)=>{try{const e=await a.userRewardWithdraw(s(r),t,n);return i(e)}catch(e){return y(e),w(e,u,"userRewardWithdraw",{amount:s(r),toFmcp:t,overrides:n})}}}};export{S as p};
