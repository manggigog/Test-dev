import{_ as T,y as V,bf as E,U as N,x as $,bv as P,E as c,K as y,G as r,N as d,a2 as I,a3 as x,P as b,O as w,r as C,z,H as a,Q as k,a4 as L,F as _,J as O,R as S,I as H,n as R}from"./vendor-BUT0HZ5j.js";import{B as M}from"./BackIcon-biFt6cm7.js";import{_ as D}from"./search-Dwmdj_3F.js";import{_ as K}from"./checked-C0ib8aDP.js";const ne="/Test-dev/static/images/deleteImg-D8x_oyov.svg",U=V({props:{themeVars:null,title:null,url:null},setup(o){const l=E({navBarHeight:"50px",navBarTitleFontSize:"18px",navBarIconColor:"#000",...o.themeVars}),p=P.sm,{width:n}=N(),g=$(()=>n.value<=p.valueOf());return(m,v)=>{const f=c("van-nav-bar"),h=c("VanConfigProvider");return r(),y(h,{"theme-vars":b(l)},{default:d(()=>[o.title?(r(),y(f,{key:0,title:o.title,border:!1,"left-arrow":"",fixed:b(g),placeholder:"","get-container":"body"},{left:d(()=>[w(M)]),right:d(()=>[x(m.$slots,"right",{},void 0,!0)]),_:3},8,["title","fixed"])):I("",!0),x(m.$slots,"default",{},void 0,!0)]),_:3},8,["theme-vars"])}}}),re=T(U,[["__scopeId","data-v-084c010c"]]),W={class:"w-full py-4 pl-4 pr-2 bg-b6 rounded-[10px] overflow-hidden font-Puhui"},j={class:"text-center felx-1 relative mr-2"},G={class:"text-base font-bold"},J={class:"absolute right-0 top-0 pl-2"},Q={class:"flex-1 bg-b5 rounded-3xl mr-2 mt-4 mb-2"},q=a("div",null,[a("img",{src:D,class:"w-4 h-4"})],-1),A={class:"categoryList pr-2 mr-2 overflow-y-auto"},X=["id","onClick"],Y=["innerHTML"],Z={key:0,class:"w-4 h-4",src:K,alt:""},le=V({props:{list:null,id:null,level:null},emits:["close","select"],setup(o,{emit:u}){const l=o,p=C(!0),n=C(""),g=$(()=>{if(!n.value.trim())return l.list;const e=v(n.value),t=new RegExp(`(${e})`,"gi");return l.list.filter(i=>i.goodsCategoryName.match(t))}),m=e=>{if(!n.value.trim())return e;const t=v(n.value),i=new RegExp(`(${t})`,"gi");return e.replace(i,'<span class="highlight">$1</span>')},v=e=>e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"),f=e=>{u("select",e.goodsCategoryId,e.goodsCategoryName),u("close")},h=e=>{const t=document.getElementById(e);t&&t.scrollIntoView({behavior:"smooth"})};return z(()=>l.id,async e=>{e&&(await R(),h(e))},{immediate:!0,deep:!0}),(e,t)=>{const i=c("van-icon"),B=c("VanField"),F=c("VanPopup");return r(),y(F,{teleport:"body",show:p.value,position:"bottom",round:"","close-on-click-overlay":!1,onClickOverlay:t[2]||(t[2]=s=>e.$emit("close")),"overlay-class":"categoryOverlay",class:"sm:w-[375px] sm:left-[50%] sm:translate-x-[-50%]",style:{"min-height":"50%","border-radius":"16px 16px 0 0"}},{default:d(()=>[a("div",W,[a("header",j,[a("div",G,k([e.$t("offline.one_category"),e.$t("offline.two_category"),e.$t("offline.three_category")][(o.level||1)-1])+" （"+k((o.list||[]).length)+"） ",1),a("div",J,[w(i,{name:"cross",size:"20",onClick:t[0]||(t[0]=L(()=>{u("close")},["stop"]))})])]),a("div",Q,[w(B,{modelValue:n.value,"onUpdate:modelValue":t[1]||(t[1]=s=>n.value=s),placeholder:e.$t("mall.Enter search keywords"),class:"w-[100% - 20px] text-center bg-transparent items-center",clearable:""},{"left-icon":d(()=>[q]),_:1},8,["modelValue","placeholder"])]),a("div",A,[(r(!0),_(H,null,O(b(g),s=>(r(),_("div",{key:s.goodsCategoryId,id:s.goodsCategoryId,class:"flex flex-1 justify-between py-4 border-b border-b-b4 last:border-none",onClick:ee=>f(s)},[a("span",{class:S({"text-newOrigin":s.goodsCategoryId===o.id}),innerHTML:m(s.goodsCategoryName)},null,10,Y),s.goodsCategoryId===o.id?(r(),_("img",Z)):I("",!0)],8,X))),128))])])]),_:1},8,["show"])}}});export{re as C,le as _,ne as a};
