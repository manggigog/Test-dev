import{_ as $,z as V,a2 as u,bl as D,o as S,G as h,H as l,I as d,P as n,Q as c,$ as r,O as s,F as x,J as z,K as N,Z as R,a3 as _,a4 as v}from"./vendor-Dr_RpJ_Y.js";import{D as A}from"./DeliveredItem-CaYafDbw.js";import{B as G}from"./BackIcon-CDrGaEPo.js";import{a as q,bw as F}from"./index-LRhcxFAI.js";import{C as M}from"./ChangeRegion-BcqOIwK-.js";import{l as P}from"./luckyShopContract-BBm_z_ss.js";import"./avatarRing-CLGxkH-F.js";import"./address-AoifhxGN.js";import"./GoodsItem-D3IDBieu.js";import"./useOrderStatus-Ch6Txdaf.js";import"./ChangeRegionPop-Bh7RHIdN.js";const T={class:"px-3 bg-[#f2f0ef] mb-1"},j={class:"gap-2 mt-2 flex-start"},E={class:"text"},H={class:"flex-center-bw"},J=V({setup(K){const{serverDealProtest:b}=P(),{reloadStore:w}=q(),[k,f]=u(!1),[y,p]=u(!1),e=D({active:1,page:0,size:10,finished:!1,list:[],loading:!1,total:0}),C=async()=>{e.loading=!0,e.page+=1,await L(),e.loading=!1},L=async()=>{const o={page:e.page,size:e.size},t=await F(o);if(e.loading=!1,!t.success){e.finished=!0;return}if(!t.data||!t.total){e.finished=!0;return}e.total=t.total,e.list=e.page===1?t.data:e.list.concat(t.data),e.list.length>=e.total&&(e.finished=!0)},g=S();g.query.active&&(e.active=Number(g.query.active));const m=async(o,t)=>{t?p(!0):f(!0);const i=await b(o,t);f(!1),p(!1),i.success&&w.reload()};return(o,t)=>{const i=x("VanButton"),B=x("VanList");return l(),h("div",T,[d("div",j,[n(G),d("div",E,c(o.$t("common.service")),1),n(M,{showIcon:!0,showDownIcon:!0,class:"ml-auto bg-gray1 px-2 rounded-[20px] border-2 border-solid border-white",style:{"box-shadow":"0px 0px 15px 0px rgba(51, 47, 42, 0.3) inset"}})]),n(B,{class:"mt-2.5",loading:s(e).loading,"onUpdate:loading":t[0]||(t[0]=a=>s(e).loading=a),finished:s(e).finished,"finished-text":o.$t("common.noMore"),"loading-text":o.$t("common.loading"),onLoad:C},{default:r(()=>[(l(!0),h(z,null,N(s(e).list,a=>(l(),R(A,{key:a.id,order:a},{default:r(()=>[d("div",H,[n(i,{class:"border-orange bg-[#fff] rounded-3xl text-[#fea021] w-[130px] h-[45px]",onClick:_(I=>m(a.odGoodsId,!0),["stop"]),loading:s(y)},{default:r(()=>[v(c(o.$t("common.agree")),1)]),_:2},1032,["onClick","loading"]),n(i,{class:"btn-orange rounded-3xl text-white w-[130px] h-[45px]",onClick:_(I=>m(a.odGoodsId,!1),["stop"]),loading:s(k)},{default:r(()=>[v(c(o.$t("common.reject")),1)]),_:2},1032,["onClick","loading"])])]),_:2},1032,["order"]))),128))]),_:1},8,["loading","finished","finished-text","loading-text"])])}}}),se=$(J,[["__scopeId","data-v-0450dbab"]]);export{se as default};
