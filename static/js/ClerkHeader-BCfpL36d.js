import{a as C,i as y,y as g,h as $}from"./index-7OiUoGXy.js";import{_ as B,z as _,x as S,a2 as z,D as A,r as D,F as I,Z as P,H as k,$ as i,I as a,Q as n,P as d,a4 as h,O as u,T as b,y as T,G as V,V as N}from"./vendor-Dr_RpJ_Y.js";import{B as F}from"./BackIcon-CDrGaEPo.js";const L={class:"py-8 text-base text-center text-black"},O={class:"flex gap-x-3"},j=_({props:{show:{type:Boolean,default:!1},address:null},emits:["close","success"],setup(l,{emit:c}){const s=l,{t:o}=S(),{clerkStore:f}=C(),[v,r]=z(!1),{merchantSetAuth:w}=y();A(()=>s.show,e=>{e&&r(!0)},{immediate:!0});const p=()=>{r(!1),c("close")},t=D(!1),x=async()=>{if(t.value)return;if(f.isClerk){b(o("order.Requires merchant account operation"));return}t.value=!0;const e=await w(s.address,!1);t.value=!1,e.success&&(b(o("shop.Deauthorization successful")),r(!1),c("success"))};return(e,H)=>{const m=I("van-button");return k(),P(g,{width:"90%",show:u(v),name:e.$t("common.tip"),onClose:p},{default:i(()=>[a("div",L,n(e.$t("shop.needs to be deauthorized first")),1),a("div",O,[d(m,{class:"plain-btn w-1/2 text-b1 rounded-full font-semibold border-solid border-b4",disabled:t.value,onClick:p},{default:i(()=>[h(n(e.$t("common.cancel")),1)]),_:1},8,["disabled"]),d(m,{class:"w-1/2 bg-btnOrBg text-b1 rounded-full font-semibold border-none",loading:t.value,disabled:t.value,onClick:x},{default:i(()=>[h(n(e.$t("common.confirm")),1)]),_:1},8,["loading","disabled"])])]),_:1},8,["show","name"])}}}),J=B(j,[["__scopeId","data-v-350e7cc0"]]),q={class:"sticky top-0 bg-white w-full h-[44px] px-3 flex items-center justify-between z-50"},E={class:"flex items-center gap-x-1"},G={class:"font-semibold text-lg"},K=_({props:{title:{default:""},left:{default:"0"}},setup(l){const c=T(()=>window.location.origin+"#/clerk/index");return(s,o)=>(k(),V("div",q,[a("div",E,[d(F,{style:N(`left: ${l.left}`)},null,8,["style"]),a("div",G,n(l.title),1)]),a("div",{class:"text-b2",onClick:o[0]||(o[0]=f=>u($)(u(c),s.$t("storeClerk.copySuccess")))},n(s.$t("storeClerk.copylink")),1)]))}});export{J as C,K as _};
