import{y as P,l as N,E as $,F as a,G as n,H as o,a3 as B,a4 as p,O as R,Q as s,P as l,I as j,J as D,K as b,a2 as w,a0 as x,B as d}from"./vendor-D6JO6WHW.js";import{u as V}from"./useOrderStatus-DeHjEZ0k.js";import{P as k}from"./flashSale-DDyqLyYN.js";import{d as m}from"./index-CbIwihlz.js";import{u as E}from"./useShipTemplate-DNIdMMsN.js";const I={class:"px-3 py-4 mt-3 bg-white rounded-xl"},g={class:"flex-center-bw"},O={class:"font-semibold"},F={class:"font-semibold text-primary"},L={class:"flex w-full gap-3"},M={class:"flex flex-col justify-between flex-1 min-h-20"},U={class:"flex items-baseline justify-between w-full font-semibold"},G={class:"text-base line-clamp-2"},q={key:0,class:"min-w-fit"},H={key:1,class:"min-w-fit"},J={class:"opacity-60"},K={key:0,class:"flex justify-end text-[#FD5520]"},Q={class:"flex justify-end opacity-60"},z={key:0},W={key:1},X={key:0},Y={class:"mt-1 flex-center-bw"},Z={class:"text-b3 text-sm font-normal"},ee={class:"flex items-center text-b3 text-sm font-normal"},ae=P({props:{order:null,isList:{type:Boolean}},setup(t){const u=t,{getExpressTypeText:T}=E(),A=N(),C=V(u.order.refundStatus,u.order.payType),f=e=>{A.push(e)},S=e=>{var i,c;return m(+new d((i=u.order)==null?void 0:i.totalUsdt).div((c=u.order)==null?void 0:c.totalAmount).times(e))},_=e=>{const i=new d(e.price).minus(new d(e.goodsActivityReduceAmount||0).div(e.number)).plus(new d(e.goodsAdjustChangeAmount||0).div(e.number)).toNumber();return m(i||0)},y=e=>{const i=new d(e.price).times(e.number).minus(new d(e.goodsActivityReduceAmount||0)).plus(new d(e.goodsAdjustChangeAmount||0)).toNumber();return m(i||0)};return(e,i)=>{const c=$("VanImage");return n(),a("div",I,[o("div",g,[o("div",{class:"gap-3 flex-start",onClick:i[0]||(i[0]=p(r=>f(`/category?deliveryType=1&shopId=${t.order.stores.id}`),["stop"]))},[R(c,{src:t.order.stores&&t.order.stores.logo,class:"w-8 h-8 overflow-hidden rounded-full",alt:"",fit:"cover"},null,8,["src"]),o("div",O,s(t.order.stores&&t.order.stores.storeName),1)]),o("div",F,s(l(C)[t.order.status+""]),1)]),(n(!0),a(j,null,D(t.order.orderGoods,r=>{var v,h;return n(),a("div",{class:"mt-4",key:r.goodsName},[o("div",L,[t.isList?(n(),b(c,{key:0,src:(r.icons||"").split(",")[0],class:"w-20 h-20 overflow-hidden rounded-xl",alt:"",fit:"cover"},null,8,["src"])):(n(),b(c,{key:1,onClick:p(te=>f(`/goodsDetail?id=${r.goodsId}`),["stop"]),src:(r.icons||"").split(",")[0],class:"w-20 h-20 overflow-hidden rounded-xl",alt:"",fit:"cover"},null,8,["onClick","src"])),o("div",M,[o("div",null,[o("div",U,[o("div",G,s(r.goodsName),1),t.order.payType===l(k).STORE_CARD?(n(),a("div",q,s(r.cardPrice||0)+s((v=t.order.fmStoredCard)==null?void 0:v.symbol),1)):(n(),a("div",H,s(_(r))+"Mcoin ",1))]),o("div",J,s(e.$t("order.quantity",{number:r.number||0})),1)]),t.order.refundStatus===3?(n(),a("div",K,s(e.$t("refund.refund success tips")),1)):w("",!0),o("div",Q,[x(s(e.$t("refund.apply refund"))+": ",1),t.order.payType===l(k).STORE_CARD?(n(),a("span",z,s(l(m)(r.cardPrice*(r.number??1)||0))+s((h=t.order.fmStoredCard)==null?void 0:h.symbol),1)):(n(),a("span",W,[x(s(y(r))+"Mcoin",1),t.order.paySource=="5"?(n(),a("span",X,"("+s(S(y(r)))+"USDT) ",1)):w("",!0)]))])])]),o("div",Y,[o("div",Z,s(e.$t("order.expressPrice")),1),o("div",ee,s(l(T)(r)),1)])])}),128)),B(e.$slots,"default")])}}});export{ae as _};
