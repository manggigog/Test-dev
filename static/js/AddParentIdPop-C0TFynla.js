import{_ as g,y as b,w as h,bc as w,r as V,E as l,K as x,G as C,N as r,O as d,a0 as I,Q as N,P as y,u as A,T as P}from"./vendor-CjApaIpB.js";import{m as B,_ as T}from"./index-CduCwCyL.js";import{g as $}from"./nft-CPk8XbVY.js";const k=b({props:{show:{type:Boolean}},emits:["close","register","onSuccess"],setup(i,{emit:n}){const{registration:c}=B(),{t:u}=h(),[m,o]=w(!1),e=V(null),p=()=>{n("close"),e.value=null},f=async()=>{o(!0);let a=e.value;if(A.isAddress(e.value))a=e.value;else if(!isNaN(Number(e.value))&&e.value.trim()!==""){const{data:t}=await $({id:e.value});a=t}else{o(!1),P(u("errorMsg.invalid id"));return}const s=await c(a);o(!1),s.success&&n("onSuccess")};return(a,s)=>{const t=l("VanField"),v=l("van-button");return C(),x(T,{show:i.show,name:a.$t("home.addParentId"),onClose:p},{default:r(()=>[d(t,{modelValue:e.value,"onUpdate:modelValue":s[0]||(s[0]=_=>e.value=_),clearable:"",placeholder:a.$t("home.addParentId"),class:"input-box"},null,8,["modelValue","placeholder"]),d(v,{class:"w-full mx-auto mt-2 text-white btn-orange btn-shadow",onClick:f,loading:y(m),disabled:!e.value},{default:r(()=>[I(N(a.$t("common.confirm")),1)]),_:1},8,["loading","disabled"])]),_:1},8,["show","name"])}}}),E=g(k,[["__scopeId","data-v-ceb72738"]]);export{E as A};
